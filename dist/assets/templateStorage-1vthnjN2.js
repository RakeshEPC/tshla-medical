import{b as i}from"./index-JAW6HvUl.js";class o{STORAGE_KEY="medical_templates_v2";MAX_TEMPLATES=50;getTemplates(){if(typeof window>"u")return[];try{const e=localStorage.getItem(this.STORAGE_KEY);if(!e)return this.getDefaultTemplates();const s=JSON.parse(e);return Array.isArray(s)?s:this.getDefaultTemplates()}catch{return i("App","Error message",{}),this.getDefaultTemplates()}}getTemplate(e){return this.getTemplates().find(t=>t.id===e)||null}createTemplate(e){const s=this.getTemplates(),t={...e,id:`template_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,created_at:new Date().toISOString(),usage_count:0},a=[...s,t].slice(-this.MAX_TEMPLATES);return this.saveTemplates(a),t}updateTemplate(e,s){const t=this.getTemplates(),a=t.findIndex(n=>n.id===e);return a===-1?!1:(t[a]={...t[a],...s,id:t[a].id,updated_at:new Date().toISOString()},this.saveTemplates(t),!0)}deleteTemplate(e){const s=this.getTemplates(),t=s.filter(a=>a.id!==e);return t.length===s.length?!1:(this.saveTemplates(t),!0)}incrementUsage(e){const s=this.getTemplates(),t=s.find(a=>a.id===e);t&&(t.usage_count=(t.usage_count||0)+1,t.last_used=new Date().toISOString(),this.saveTemplates(s))}trackUsage(e){this.incrementUsage(e)}saveTemplates(e){if(!(typeof window>"u"))try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(s){if(i("App","Error message",{}),s.name==="QuotaExceededError"){const t=e.slice(-Math.floor(this.MAX_TEMPLATES/2));localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}}}getDefaultTemplates(){return[{id:"diabetes_followup",name:"Diabetes Follow Up",specialty:"Endocrinology",template_type:"soap",is_system_template:!0,sections:{subjective:{prompts:["Current blood sugar levels","Medication compliance","Diet and exercise habits","Hypoglycemic episodes","Symptoms: polyuria, polydipsia, polyphagia"],aiInstructions:"Focus on diabetes-specific symptoms, blood sugar patterns, medication adherence, and lifestyle factors. Document any episodes of hypoglycemia or hyperglycemia with timing and triggers."},objective:{prompts:["Vital signs","Weight/BMI","Foot examination","A1C level","Glucose readings review"],aiInstructions:"Include specific A1C values, glucose ranges, BMI calculations, and detailed foot exam findings including sensation, pulses, and skin integrity."},assessment:{prompts:["Diabetes control status","Complications assessment","Medication effectiveness"],aiInstructions:"Assess diabetes control based on A1C and glucose patterns. Evaluate for microvascular and macrovascular complications. Comment on medication efficacy and side effects."},plan:{prompts:["Medication adjustments","Lab orders: A1C, lipids, kidney function","Referrals: ophthalmology, podiatry","Lifestyle counseling","Follow-up interval"],aiInstructions:"Provide specific medication dosing changes, target A1C goals, preventive care recommendations, and clear follow-up timeline. Include patient education points."}},usage_count:0,created_at:new Date().toISOString()},{id:"hypertension_management",name:"Hypertension Management",specialty:"Cardiology",template_type:"soap",is_system_template:!0,sections:{subjective:{prompts:["Home blood pressure readings","Medication compliance","Side effects","Symptoms: headaches, dizziness, chest pain","Salt intake and lifestyle"],aiInstructions:"Document blood pressure patterns, medication adherence, and any cardiovascular symptoms. Note lifestyle factors affecting BP control."},objective:{prompts:["Blood pressure readings","Heart rate and rhythm","Cardiac examination","Peripheral edema","Weight changes"],aiInstructions:"Record multiple BP readings if available, cardiac exam findings, and signs of end-organ damage."},assessment:{prompts:["Blood pressure control status","Target organ damage","Cardiovascular risk assessment"],aiInstructions:"Evaluate BP control, assess for target organ damage, and calculate cardiovascular risk."},plan:{prompts:["Medication titration","Lifestyle modifications","Lab work: BMP, lipids","ECG if indicated","Follow-up schedule"],aiInstructions:"Provide specific medication adjustments, lifestyle recommendations, and follow-up plan."}},usage_count:0,created_at:new Date().toISOString()},{id:"general_soap",name:"General SOAP Note",specialty:"General Medicine",template_type:"soap",is_system_template:!0,sections:{subjective:{prompts:["Chief complaint","History of present illness","Review of systems","Past medical history","Current medications","Allergies"],aiInstructions:"Document the patient's chief complaint and relevant history. Include pertinent positives and negatives from review of systems."},objective:{prompts:["Vital signs","Physical examination","Laboratory results","Imaging results if available"],aiInstructions:"Record objective findings including vital signs and physical exam findings."},assessment:{prompts:["Primary diagnosis","Differential diagnoses","Clinical impression"],aiInstructions:"Provide assessment with primary diagnosis and relevant differentials."},plan:{prompts:["Medications prescribed","Tests ordered","Referrals","Follow-up instructions","Patient education"],aiInstructions:"Detail the treatment plan including medications, tests, and follow-up."}},usage_count:0,created_at:new Date().toISOString()},{id:"rakesh_template",name:"Rakesh",specialty:"Endocrinology",template_type:"soap",is_system_template:!0,sections:{subjective:{prompts:["Chief complaint","Current symptoms","Blood sugar patterns","Medication adherence","Diet and exercise"],aiInstructions:"Document patient's current concerns and diabetes management status using Dr. Rakesh's preferred format."},objective:{prompts:["Vital signs including BP and weight","Physical exam with focus on diabetic complications","Latest A1C and glucose values","Other relevant labs"],aiInstructions:"Record objective findings with emphasis on endocrine-related parameters."},assessment:{prompts:["Diabetes control assessment","Complications status","Other endocrine issues"],aiInstructions:"Assess overall endocrine status and diabetes control."},plan:{prompts:["Medication adjustments","Lab orders","Lifestyle recommendations","Follow-up plan"],aiInstructions:"Provide comprehensive endocrine management plan."}},usage_count:0,created_at:new Date().toISOString()}]}clearUserTemplates(){const s=this.getTemplates().filter(t=>t.is_system_template);this.saveTemplates(s)}exportTemplates(){const e=this.getTemplates();return JSON.stringify(e,null,2)}importTemplates(e){try{const s=JSON.parse(e);if(!Array.isArray(s))return!1;const a=[...this.getTemplates(),...s].slice(-this.MAX_TEMPLATES);return this.saveTemplates(a),!0}catch{return i("App","Error message",{}),!1}}}const c=new o;export{c as t};
//# sourceMappingURL=templateStorage-1vthnjN2.js.map
