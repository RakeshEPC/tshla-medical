import{u as y,r as m,j as e}from"./index-CFDQeSWK.js";import{pumpAuthService as v}from"./pumpAuth.service-C_hgfJl8.js";function S(){const c=y(),[r,f]=m.useState({email:"",firstName:"",lastName:"",phoneNumber:"",password:"",confirmPassword:"",agreeToTerms:!1}),[t,o]=m.useState({}),[u,p]=m.useState(!1),[d,b]=m.useState(!1),x=(s=>[{text:"At least 8 characters long",met:s.length>=8},{text:"Contains at least 1 uppercase letter",met:/[A-Z]/.test(s)},{text:"Contains at least 1 special character (!@#$%^&*)",met:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(s)}])(r.password),h=x.every(s=>s.met),N=()=>{const s={};return r.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(s.email="Please enter a valid email address"):s.email="Email is required",r.firstName?r.firstName.length<1?s.firstName="First name must be at least 1 character":r.firstName.length>50&&(s.firstName="First name must be less than 50 characters"):s.firstName="First name is required",r.lastName?r.lastName.length<1?s.lastName="Last name must be at least 1 character":r.lastName.length>50&&(s.lastName="Last name must be less than 50 characters"):s.lastName="Last name is required",r.phoneNumber?/^\+?[\d\s\-\(\)]{10,15}$/.test(r.phoneNumber)||(s.phoneNumber="Please enter a valid phone number"):s.phoneNumber="Phone number is required",r.password?h||(s.password="Password does not meet requirements"):s.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",r.agreeToTerms||(s.agreeToTerms="You must agree to the terms of service"),s},j=async s=>{s.preventDefault();const n=N();if(Object.keys(n).length>0){o(n);return}p(!0),o({});try{const a={email:r.email,firstName:r.firstName,lastName:r.lastName,phoneNumber:r.phoneNumber,password:r.password,isResearchParticipant:!1},i=await v.registerUser(a);if(i.success){const g=sessionStorage.getItem("pumpDriveRedirectAfterLogin");g?(sessionStorage.removeItem("pumpDriveRedirectAfterLogin"),c(g)):c("/pumpdrive")}else o({general:i.message})}catch(a){console.error("Registration failed:",a),o({general:a instanceof Error?a.message:"Registration failed. Please try again."})}finally{p(!1)}},l=(s,n)=>{f(a=>({...a,[s]:n})),t[s]&&o(a=>{const i={...a};return delete i[s],i})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-6",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🚀"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),e.jsx("p",{className:"text-gray-600",children:"Start your personalized insulin pump journey"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-700 text-sm",children:t.general})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>l("email",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${t.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"your@email.com"}),t.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",value:r.firstName,onChange:s=>l("firstName",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${t.firstName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"John"}),t.firstName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",value:r.lastName,onChange:s=>l("lastName",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${t.lastName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Doe"}),t.lastName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.lastName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:r.phoneNumber,onChange:s=>l("phoneNumber",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${t.phoneNumber?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"(555) 123-4567"}),t.phoneNumber&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.phoneNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",value:r.password,onChange:s=>l("password",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${t.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Create a secure password"}),e.jsx("button",{type:"button",onClick:()=>b(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?"👁️":"👁️‍🗨️"})]}),r.password&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Requirements:"}),e.jsx("ul",{className:"space-y-1",children:x.map((s,n)=>e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx("span",{className:`mr-2 ${s.met?"text-green-500":"text-gray-400"}`,children:s.met?"✅":"⭕"}),e.jsx("span",{className:s.met?"text-green-700":"text-gray-600",children:s.text})]},n))})]}),t.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsx("input",{type:"password",value:r.confirmPassword,onChange:s=>l("confirmPassword",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${t.confirmPassword?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Confirm your password"}),t.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.confirmPassword})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",checked:r.agreeToTerms,onChange:s=>l("agreeToTerms",s.target.checked),className:"mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:underline",children:"Privacy Policy"}),"*"]})]}),t.agreeToTerms&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.agreeToTerms})]}),e.jsx("button",{type:"submit",disabled:u||!h||!r.agreeToTerms,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-pink-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating Account...":"Create Account & Start Assessment"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx("button",{onClick:()=>c("/pumpdrive/login"),className:"text-purple-600 hover:underline font-medium",children:"Sign In"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"flex justify-center items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🔒"}),"Secure & Encrypted"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🏥"}),"HIPAA Compliant"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"⚡"}),"Quick Setup"]})]})})]})})}export{S as default};
//# sourceMappingURL=PumpDriveCreateAccount-gTnrthIw.js.map
