import{u as j,r as c,j as e}from"./index-JAW6HvUl.js";import{pumpAuthService as v}from"./pumpAuth.service-B75qEcIG.js";function w(){const i=j(),[a,g]=c.useState({email:"",password:"",rememberMe:!1}),[r,n]=c.useState({}),[x,u]=c.useState(!1),[d,h]=c.useState(!1),b=()=>{const s={};return a.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(s.email="Please enter a valid email address"):s.email="Email is required",a.password||(s.password="Password is required"),s},f=async s=>{s.preventDefault();const o=b();if(Object.keys(o).length>0){n(o);return}u(!0),n({});try{const t={email:a.email,password:a.password},l=await v.login(t);if(l.success){const p=sessionStorage.getItem("pumpDriveRedirectAfterLogin");p?(sessionStorage.removeItem("pumpDriveRedirectAfterLogin"),i(p)):i("/pumpdrive")}else n({general:l.message})}catch(t){console.error("Login failed:",t),n({general:t instanceof Error?t.message:"Login failed. Please try again."})}finally{u(!1)}},m=(s,o)=>{g(t=>({...t,[s]:o})),r[s]&&n(t=>{const l={...t};return delete l[s],l})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-6",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ğŸ”"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to continue your pump assessment"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-700 text-sm",children:r.general})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:a.email,onChange:s=>m("email",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${r.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"your@email.com",autoComplete:"email"}),r.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",value:a.password,onChange:s=>m("password",s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${r.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your password",autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]}),r.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.rememberMe,onChange:s=>m("rememberMe",s.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-sm text-purple-600 hover:underline",onClick:()=>{alert("Forgot password functionality coming soon!")},children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-pink-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Signing In...":"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>i("/pumpdrive/create-account"),className:"text-purple-600 hover:underline font-medium",children:"Create Account"})]})}),e.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2 text-green-500",children:"âœ¨"}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsx("p",{className:"font-medium mb-1",children:"Welcome to PumpDrive"}),e.jsx("p",{children:"Get personalized insulin pump recommendations based on your unique needs and lifestyle."})]})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>i("/"),className:"text-gray-600 hover:text-gray-800 text-sm",children:"â† Back to Home"})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"flex justify-center items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ğŸ”’"}),"Secure Login"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ğŸ¥"}),"HIPAA Compliant"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"âš¡"}),"Quick Access"]})]})})]})})}export{w as default};
//# sourceMappingURL=PumpDriveLogin-M2ljJFXa.js.map
