const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pumpDrivePureAI.service-CnfqUyZ1.js","assets/openai.service-BgTyMgqK.js","assets/index-JAW6HvUl.js","assets/index--GQbvNKg.css","assets/pumpDataComplete-A26PerGF.js"])))=>i.map(i=>d[i]);
import{u as q,r as c,j as e,_ as H}from"./index-JAW6HvUl.js";import"./sliderMCP.service-BKWcVAt8.js";import{f as N}from"./freeTextMCP.service-DWWgKB3l.js";import{P as L}from"./pumpFeatures-zW88iNV_.js";import"./openai.service-BgTyMgqK.js";const $=[{id:"activity",title:"How Active Are You?",emoji:"üèÉ",examples:{low:"1: Mostly at desk, light walking, prefer comfort",medium:"5: Regular walks, some gym, weekend activities",high:"10: Daily workouts, sports, always on the move"}},{id:"techComfort",title:"How Much Do You Love Technology?",emoji:"üì±",examples:{low:"1: Keep it simple, basic phone features only",medium:"5: Use apps daily, learn gradually, pretty comfortable",high:"10: Love new gadgets, early adopter, tech is exciting!"}},{id:"simplicity",title:"Do You Prefer Simple or Advanced?",emoji:"üéõÔ∏è",examples:{low:"1: Keep it super simple, fewer buttons and options",medium:"5: Some features are nice, but not overwhelming",high:"10: Give me all the features, data, and control options"}},{id:"discreteness",title:"How Important is Hiding Your Device?",emoji:"ü§´",examples:{low:"1: Must be completely hidden, nobody should notice",medium:"5: Prefer discreet but okay if sometimes visible",high:"10: Don't care who sees it, function over appearance"}},{id:"timeDedication",title:"How Much Time Can You Spend on Device Care?",emoji:"‚è∞",examples:{low:"1: Minimal time, want set-and-forget simplicity",medium:"5: A few minutes daily for basic maintenance",high:"10: Happy to spend time for optimal performance"}}],J=[{id:"power",name:"Power & Charging",emoji:"üîã"},{id:"design",name:"Design & Size",emoji:"üé®"},{id:"interface",name:"Controls & Interface",emoji:"üì±"},{id:"convenience",name:"Convenience Features",emoji:"‚ú®"},{id:"automation",name:"Automation Level",emoji:"ü§ñ"}],V=()=>{const p=q(),[d,b]=c.useState("sliders"),[l,x]=c.useState([]),[n,v]=c.useState({activity:5,techComfort:5,simplicity:5,discreteness:5,timeDedication:5}),[i,w]=c.useState([]),[o,S]=c.useState(""),[j,C]=c.useState(0),[m,y]=c.useState(!1),[f,I]=c.useState(null),[g,A]=c.useState([]),[h,T]=c.useState([]);c.useEffect(()=>{const s=[],t=sessionStorage.getItem("pumpDriveSliders");t&&(v(JSON.parse(t)),s.push("sliders"));const r=sessionStorage.getItem("selectedPumpFeatures");r&&(w(JSON.parse(r)),s.push("features"));const a=sessionStorage.getItem("pumpDriveFreeText");if(a){const u=JSON.parse(a);S(u.currentSituation||""),C(u.currentSituation?.length||0),s.push("story")}s.length>0&&x(s)},[]);const D=(s,t)=>{v(r=>({...r,[s]:t}))},F=()=>{sessionStorage.setItem("pumpDriveSliders",JSON.stringify(n)),l.includes("sliders")||x(s=>[...s,"sliders"]),b("features")},E=s=>{w(t=>t.find(a=>a.id===s.id)?t.filter(a=>a.id!==s.id):[...t,s])},Y=()=>{sessionStorage.setItem("selectedPumpFeatures",JSON.stringify(i)),l.includes("features")||x(s=>[...s,"features"]),b("story")},O=s=>{const t=s.target.value;S(t),C(t.length)},R=async()=>{try{const s=N.generateSessionId(),t={sessionId:s,sliderValues:n,selectedFeatures:i,freeText:o.trim()};if(console.log("üéØ Saving assessment data to local storage..."),o.trim()){const a=N.analyzeText(o);await N.saveFreeTextResponse(s,o.trim(),a),sessionStorage.setItem("freeTextSessionId",s)}const r={currentSituation:o.trim(),timestamp:new Date().toISOString()};sessionStorage.setItem("pumpDriveFreeText",JSON.stringify(r)),l.includes("story")||x(a=>[...a,"story"]),await P()}catch(s){console.error("‚ùå Error saving story:",s),alert("Error saving your story. Please try again.")}},M=async()=>{const s={currentSituation:"",timestamp:new Date().toISOString()};sessionStorage.setItem("pumpDriveFreeText",JSON.stringify(s)),l.includes("story")||x(t=>[...t,"story"]),await P()},P=async()=>{try{y(!0),console.log("ü§î Checking if clarifying questions are needed...");const s={sliders:n,selectedFeatures:i,userText:o.trim()};console.log("üìä Input data for AI:",s);const{pumpDrivePureAI:t}=await H(async()=>{const{pumpDrivePureAI:a}=await import("./pumpDrivePureAI.service-CnfqUyZ1.js");return{pumpDrivePureAI:a}},__vite__mapDeps([0,1,2,3,4])),r=await t.generateRecommendation(s);r.needsClarification&&r.clarifyingQuestions&&r.clarifyingQuestions.length>0?(console.log("‚ùì Clarifying questions needed:",r.clarifyingQuestions),A(r.clarifyingQuestions),sessionStorage.setItem("pumpDriveClarifyingQuestions",JSON.stringify(r.clarifyingQuestions)),b("clarify")):(console.log("‚úÖ No clarifying questions needed, going to results"),p("/pumpdrive/results"))}catch(s){console.error("‚ùå Error checking for clarifying questions:",s),p("/pumpdrive/results")}finally{y(!1)}},Q=async()=>{try{y(!0),console.log("üíæ Saving clarifying answers:",h),console.log("üíæ Clarifying questions:",g);const s={};if(g.length>0)g.forEach((t,r)=>{s[t]=h[r]||""});else{const t=sessionStorage.getItem("pumpDriveClarifyingQuestions");t&&JSON.parse(t).forEach((a,u)=>{s[a]=h[u]||""})}console.log("üíæ Responses object:",s),sessionStorage.setItem("pumpDriveClarifyingResponses",JSON.stringify(s)),l.includes("clarify")||x(t=>[...t,"clarify"]),p("/pumpdrive/results")}catch(s){console.error("‚ùå Error saving clarifying answers:",s),alert("Error saving your answers. Please try again.")}finally{y(!1)}},k=()=>{const s=["sliders","features","story","clarify"],t=s.filter(r=>l.includes(r)).length;return Math.round(t/s.length*100)},z=()=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Complete Assessment"}),e.jsxs("span",{children:[k(),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:`${k()}%`}})}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsxs("div",{className:`flex items-center ${d==="sliders"?"text-blue-600 font-semibold":l.includes("sliders")?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-2",children:l.includes("sliders")?"‚úÖ":"üéöÔ∏è"}),e.jsx("span",{className:"text-sm",children:"Preferences"})]}),e.jsxs("div",{className:`flex items-center ${d==="features"?"text-blue-600 font-semibold":l.includes("features")?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-2",children:l.includes("features")?"‚úÖ":"‚≠ê"}),e.jsx("span",{className:"text-sm",children:"Features"})]}),e.jsxs("div",{className:`flex items-center ${d==="story"?"text-blue-600 font-semibold":l.includes("story")?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-2",children:l.includes("story")?"‚úÖ":"üí≠"}),e.jsx("span",{className:"text-sm",children:"Your Story"})]}),e.jsxs("div",{className:`flex items-center ${d==="clarify"?"text-blue-600 font-semibold":l.includes("clarify")?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-2",children:l.includes("clarify")?"‚úÖ":"‚ùì"}),e.jsx("span",{className:"text-sm",children:"Questions"})]}),e.jsxs("div",{className:`flex items-center ${d==="results"?"text-blue-600 font-semibold":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-2",children:"üéØ"}),e.jsx("span",{className:"text-sm",children:"Results"})]})]})]});if(d==="results"){if(m)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-blue-600 mx-auto mb-8"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"ü§ñ Analyzing Your Perfect Match..."}),e.jsxs("div",{className:"space-y-3 text-gray-600",children:[e.jsx("p",{children:"üìä Processing your preference sliders..."}),e.jsx("p",{children:"‚≠ê Evaluating your feature selections..."}),e.jsx("p",{children:"üí≠ Understanding your personal story..."}),e.jsx("p",{children:"üéØ Finding your ideal insulin pump..."})]})]})})});if(f)return console.log("üîç DEBUG - Results page data:"),console.log("üìä sliderValues:",n),console.log("‚≠ê selectedFeatures:",i),console.log("üí≠ freeText:",o),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"üéØ Your Perfect Pump Match"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Based on your comprehensive assessment"}),e.jsxs("div",{className:"flex justify-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{children:["üìä ",Object.keys(n).length," preferences"]}),e.jsxs("span",{children:["‚≠ê ",i.length," features"]}),e.jsxs("span",{children:["üí≠ ",o.length>0?"Personal story included":"No story shared"]})]}),e.jsx("div",{className:"w-24 h-1 bg-green-500 mx-auto mt-4 rounded"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-8 shadow-lg border border-blue-100 mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-800 mb-6 text-center",children:"üìä Your Complete Assessment"}),e.jsx("p",{className:"text-center text-blue-600 mb-8",children:"Here's exactly what you told us about your preferences and needs:"}),e.jsxs("div",{className:"bg-white rounded-xl p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"üéõÔ∏è"}),"Your Lifestyle Preferences (1-10 scale)"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:"üèÉ"}),e.jsx("span",{className:"font-medium",children:"Activity Level:"})]}),e.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[n.activity,"/10"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:"üì±"}),e.jsx("span",{className:"font-medium",children:"Technology Love:"})]}),e.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[n.techComfort,"/10"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:"üéõÔ∏è"}),e.jsx("span",{className:"font-medium",children:"Advanced Features:"})]}),e.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[n.simplicity,"/10"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:"ü§´"}),e.jsx("span",{className:"font-medium",children:"Privacy Needs:"})]}),e.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[n.discreteness,"/10"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:"‚è∞"}),e.jsx("span",{className:"font-medium",children:"Time for Care:"})]}),e.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[n.timeDedication,"/10"]})]})]})]})]}),i.length>0&&e.jsxs("div",{className:"bg-white rounded-xl p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"‚≠ê"}),"Features You Selected (",i.length,")"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:i.map((s,t)=>e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg border-l-4 border-green-400",children:[e.jsx("span",{className:"text-2xl mr-3",children:s.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:s.title}),e.jsx("div",{className:"text-sm text-gray-600",children:s.description})]})]},t))})]}),o.trim()&&e.jsxs("div",{className:"bg-white rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"üí≠"}),"Your Personal Story"]}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-400",children:e.jsxs("p",{className:"text-gray-700 leading-relaxed italic text-lg",children:['"',o.trim(),'"']})})]}),!i.length&&!o.trim()&&e.jsx("div",{className:"bg-white rounded-xl p-6",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("p",{children:"Your recommendations are based solely on your lifestyle preferences."}),e.jsx("p",{className:"text-sm mt-2",children:"You chose not to select specific features or share your personal story."})]})})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"ü§ñ AI Analysis & Recommendations"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Based on your complete assessment above, here are your personalized pump recommendations:"})]}),e.jsx("div",{className:"space-y-6 mb-8",children:f.recommendation.topPumps.map((s,t)=>e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s.pumpName}),e.jsxs("div",{className:"text-lg text-gray-600",children:["Match Score: ",s.score,"%"]})]}),e.jsx("div",{className:"text-4xl",children:t===0?"üèÜ":t===1?"ü•à":"ü•â"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Why This Pump Matches You:"}),e.jsx("ul",{className:"space-y-2",children:s.matchFactors.map((r,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),e.jsx("span",{className:"text-gray-600",children:r})]},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Your Preferences Influence:"}),e.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(s.sliderInfluence).map(([r,a])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"capitalize text-gray-600",children:[r,":"]}),e.jsxs("span",{className:"font-semibold",children:[a,"/10"]})]},r))})]})]})]},s.pumpId))}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"üí° Personalized Insights"}),e.jsx("div",{className:"space-y-3",children:f.recommendation.personalizedInsights.map((s,t)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-3 mt-1",children:"üîπ"}),e.jsx("p",{className:"text-gray-700",children:s})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"üöÄ Next Steps"}),e.jsx("div",{className:"space-y-3",children:f.recommendation.nextSteps.map((s,t)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5",children:t+1}),e.jsx("p",{className:"text-gray-700",children:s})]},t))})]}),e.jsxs("div",{className:"text-center space-x-4",children:[e.jsx("button",{onClick:()=>{b("sliders"),I(null)},className:"px-8 py-3 rounded-xl text-lg font-semibold bg-gray-200 text-gray-700 hover:bg-gray-300 transition-all",children:"‚Ü©Ô∏è Start Over"}),e.jsx("button",{onClick:()=>window.print(),className:"px-8 py-3 rounded-xl text-lg font-semibold bg-green-600 text-white hover:bg-green-700 transition-all",children:"üñ®Ô∏è Print Results"})]})]})})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"üéØ Complete Pump Assessment"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Comprehensive evaluation to find your perfect insulin pump"}),e.jsx("div",{className:"w-24 h-1 bg-blue-500 mx-auto mt-4 rounded"})]}),z(),d==="sliders"&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"üéöÔ∏è Step 1: Your Preferences"}),e.jsx("p",{className:"text-gray-600",children:"Tell us about your lifestyle and preferences"})]}),e.jsx("div",{className:"space-y-8 mb-8",children:$.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("span",{className:"text-3xl mr-4",children:s.emoji}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:s.title})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8 text-sm",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-400",children:[e.jsx("div",{className:"font-semibold text-red-700 mb-2",children:"Low (1-3)"}),e.jsx("div",{className:"text-red-600",children:s.examples.low})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400",children:[e.jsx("div",{className:"font-semibold text-yellow-700 mb-2",children:"Medium (4-7)"}),e.jsx("div",{className:"text-yellow-600",children:s.examples.medium})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-400",children:[e.jsx("div",{className:"font-semibold text-green-700 mb-2",children:"High (8-10)"}),e.jsx("div",{className:"text-green-600",children:s.examples.high})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[e.jsx("span",{children:"1"}),e.jsxs("span",{className:"font-semibold text-lg text-gray-800",children:["Your Rating: ",n[s.id]]}),e.jsx("span",{children:"10"})]}),e.jsx("input",{type:"range",min:"1",max:"10",value:n[s.id],onChange:t=>D(s.id,parseInt(t.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #ef4444 0%, #eab308 50%, #22c55e 100%)"}})]})]},s.id))}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:F,className:"px-12 py-4 rounded-2xl text-xl font-semibold bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 transition-all transform shadow-lg",children:"‚≠ê Continue to Features"})})]}),d==="features"&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"‚≠ê Step 2: Appealing Features"}),e.jsx("p",{className:"text-gray-600",children:"Select features that appeal to you (without knowing which pump they're from)"})]}),e.jsx("div",{className:"space-y-8 mb-8",children:J.map(s=>{const t=L.filter(r=>r.category===s.id);return t.length===0?null:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[e.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:s.emoji}),s.name]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>{const a=i.find(u=>u.id===r.id);return e.jsxs("div",{onClick:()=>E(r),className:`p-4 rounded-lg border-2 cursor-pointer transition-all transform hover:scale-105 ${a?"border-green-500 bg-green-50 shadow-lg":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-2xl",children:r.emoji}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${a?"bg-green-500 border-green-500":"border-gray-300"}`,children:a&&e.jsx("div",{className:"text-white text-xs text-center",children:"‚úì"})})]}),e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:r.title}),e.jsx("p",{className:"text-sm text-gray-600",children:r.description})]},r.id)})})]},s.id)})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Selected ",i.length," feature",i.length!==1?"s":""]}),e.jsx("button",{onClick:Y,className:"px-12 py-4 rounded-2xl text-xl font-semibold bg-purple-600 text-white hover:bg-purple-700 hover:scale-105 transition-all transform shadow-lg",children:"üí≠ Share Your Story"})]})]}),d==="story"&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"üí≠ Step 3: Your Story"}),e.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Tell us about your current situation, concerns, and excitement about getting a new pump"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"üó£Ô∏è"}),"Share Your Experience"]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg border-l-4 border-purple-400",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:e.jsx("strong",{children:"Help us understand:"})}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsx("li",{children:"‚Ä¢ What do you like or dislike about your current diabetes management?"}),e.jsx("li",{children:"‚Ä¢ What concerns or fears do you have about switching to a new pump?"}),e.jsx("li",{children:"‚Ä¢ What are you most excited about with a potential new pump?"}),e.jsx("li",{children:"‚Ä¢ Any specific challenges or goals you'd like to address?"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("textarea",{value:o,onChange:O,placeholder:"Take your time and share whatever feels important to you. There are no right or wrong answers - we just want to understand your unique situation better...",className:"w-full h-64 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none text-gray-700 leading-relaxed",maxLength:2e3}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:j===0?"Feel free to write as much or as little as you'd like":"Thank you for sharing your thoughts"}),e.jsxs("span",{className:`${j>1800?"text-orange-500":"text-gray-400"}`,children:[j,"/2000 characters"]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"üí° Why this helps:"}),e.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("p",{children:"‚Ä¢ More personalized pump recommendations"}),e.jsx("p",{children:"‚Ä¢ Better understanding of your specific needs and concerns"}),e.jsx("p",{children:"‚Ä¢ Tailored advice for your transition process"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:M,className:"px-8 py-3 rounded-xl text-lg font-semibold bg-gray-200 text-gray-700 hover:bg-gray-300 transition-all",children:"‚è≠Ô∏è Skip Story"}),e.jsx("button",{onClick:R,disabled:m,className:`px-8 py-3 rounded-xl text-lg font-semibold transition-all transform ${m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 hover:scale-105 shadow-lg"}`,children:m?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"üéØ Get My Recommendations"})]})]})]}),d==="clarify"&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"‚ùì Step 4: A Few Quick Questions"}),e.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Based on your responses, we have a few clarifying questions to give you the best recommendations"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"ü§î"}),"AI-Generated Follow-up Questions"]}),e.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border-l-4 border-blue-400",children:e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[e.jsx("strong",{children:"Our AI has analyzed your responses"})," and identified these key areas where a bit more detail would help us provide the most accurate recommendations for you."]})})]}),g.length>0?e.jsx("div",{className:"space-y-6 mb-8",children:g.map((s,t)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center",children:e.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full mr-3",children:["Question ",t+1]})}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s})]}),e.jsx("textarea",{value:h[t]||"",onChange:r=>{const a=[...h];a[t]=r.target.value,T(a)},placeholder:"Please share your thoughts on this question...",className:"w-full h-24 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-gray-700",maxLength:500}),e.jsx("div",{className:"text-right mt-2",children:e.jsxs("span",{className:"text-xs text-gray-400",children:[(h[t]||"").length,"/500 characters"]})})]},t))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"No clarifying questions needed. Proceeding to results..."})}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"üí° Why these questions matter:"}),e.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("p",{children:"‚Ä¢ Help us understand nuances in your responses"}),e.jsx("p",{children:"‚Ä¢ Ensure recommendations match your specific situation"}),e.jsx("p",{children:"‚Ä¢ Provide more accurate and personalized advice"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>{p("/pumpdrive/results")},className:"px-8 py-3 rounded-xl text-lg font-semibold bg-gray-200 text-gray-700 hover:bg-gray-300 transition-all",children:"‚è≠Ô∏è Skip Questions"}),e.jsx("button",{onClick:Q,disabled:m,className:`px-8 py-3 rounded-xl text-lg font-semibold transition-all transform ${m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 shadow-lg"}`,children:m?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"üéØ Get My Final Recommendations"})]})]})]}),e.jsx("style",{jsx:!0,children:`
          .slider::-webkit-slider-thumb {
            appearance: none;
            height: 25px;
            width: 25px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
          }

          .slider::-moz-range-thumb {
            height: 25px;
            width: 25px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
          }
        `})]})})};export{V as default};
//# sourceMappingURL=PumpDriveUnified-BNpgPK-B.js.map
