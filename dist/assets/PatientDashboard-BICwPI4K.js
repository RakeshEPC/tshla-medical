import{u as g,r as a,j as e}from"./index-JAW6HvUl.js";import{patientService as o}from"./patient.service-CxaGvQcl.js";function j(){const t=g(),[s,c]=a.useState(null),[m,x]=a.useState(!0),[l,i]=a.useState("overview");a.useEffect(()=>{h()},[]);const h=()=>{const r=o.getCurrentPatient();if(!r){t("/patient-login");return}c(r),x(!1)},u=()=>{o.logout(),t("/patient-login")},p=()=>s?`${s.firstName[0]}${s.lastName[0]}`.toUpperCase():"",n=r=>r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never";return m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Loading your dashboard..."})]})}):s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-green-600 rounded-full flex items-center justify-center text-white font-bold",children:p()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Welcome back,"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:[s.firstName," ",s.lastName]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Your AVA ID"}),e.jsx("div",{className:"font-mono font-semibold text-blue-600",children:s.patientAvaId})]}),e.jsx("button",{onClick:u,className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>i("overview"),className:`py-3 px-6 border-b-2 font-medium text-sm transition-colors ${l==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),s.programs.pumpdrive?.enrolled&&e.jsx("button",{onClick:()=>i("pumpdrive"),className:`py-3 px-6 border-b-2 font-medium text-sm transition-colors ${l==="pumpdrive"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"PumpDrive"}),s.programs.weightloss?.enrolled&&e.jsx("button",{onClick:()=>i("weightloss"),className:`py-3 px-6 border-b-2 font-medium text-sm transition-colors ${l==="weightloss"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Weight Loss Journey"})]})})}),l==="overview"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Profile"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Email:"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Phone:"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.phone||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Member Since:"}),e.jsx("p",{className:"font-medium text-gray-900",children:n(s.createdAt)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last Login:"}),e.jsx("p",{className:"font-medium text-gray-900",children:n(s.lastLogin)})]})]}),e.jsx("button",{onClick:()=>t("/patient/profile/edit"),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Edit Profile →"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[s.programs.pumpdrive?.enrolled&&e.jsx(e.Fragment,{children:s.programs.pumpdrive.finalRecommendations?e.jsx("button",{onClick:()=>t("/patient/pump-report"),className:"w-full p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg text-left hover:from-green-100 hover:to-green-200 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-900",children:"View Pump Report"}),e.jsx("div",{className:"text-sm text-green-700",children:"Your personalized recommendations"})]}),e.jsx("span",{className:"text-2xl",children:"📄"})]})}):e.jsx("button",{onClick:()=>t("/pumpdrive"),className:"w-full p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg text-left hover:from-blue-100 hover:to-blue-200 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"Continue PumpDrive"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Complete your pump selection journey"})]}),e.jsx("span",{className:"text-2xl",children:"→"})]})})}),s.programs.weightloss?.enrolled&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>t("/weightloss/checkin"),className:"w-full p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg text-left hover:from-purple-100 hover:to-purple-200 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-900",children:"Daily Check-in"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Track your progress today"})]}),e.jsx("span",{className:"text-2xl",children:"📝"})]})}),e.jsx("button",{onClick:()=>t("/patient/chat"),className:"w-full p-4 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg text-left hover:from-orange-100 hover:to-orange-200 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-orange-900",children:"Chat with AVA AI"}),e.jsx("div",{className:"text-sm text-orange-700",children:"Get personalized guidance"})]}),e.jsx("span",{className:"text-2xl",children:"💬"})]})})]})]})]})]}),l==="pumpdrive"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"PumpDrive Journey"}),s.programs.pumpdrive?.finalRecommendations?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:"✅"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-900",children:"Journey Complete!"}),e.jsx("div",{className:"text-sm text-green-700",children:"Your personalized pump recommendations are ready"})]})]})}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your Top Recommendations:"}),s.programs.pumpdrive.finalRecommendations.slice(0,2).map((r,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${d===0?"bg-gold-500":"bg-silver-500"}`,children:d+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.pumpName}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.matchScore,"% match"]})]})]}),d===0&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Best Match"})]},r.pumpId))]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>t("/patient/pump-report"),className:"flex-1 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700",children:"View Full Report"}),e.jsx("button",{onClick:()=>t("/patient/chat"),className:"flex-1 py-3 border-2 border-blue-600 text-blue-600 rounded-lg font-semibold hover:bg-blue-50",children:"Discuss with AVA"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Ready to find your perfect insulin pump? Our AI-powered journey will help you make the best choice."}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[e.jsx("span",{children:"Categories Completed"}),e.jsxs("span",{children:[s.programs.pumpdrive?.completedCategories?.length||0,"/6"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all",style:{width:`${(s.programs.pumpdrive?.completedCategories?.length||0)/6*100}%`}})})]}),e.jsx("button",{onClick:()=>t("/pumpdrive"),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700",children:s.programs.pumpdrive?.completedCategories?.length?"Continue Journey":"Start PumpDrive Journey"})]})]})}),l==="weightloss"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Weight Loss Journey"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl mb-2",children:"📊"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Progress Dashboard"}),e.jsx("button",{onClick:()=>t("/weightloss/dashboard"),className:"mt-2 text-green-600 hover:text-green-700 font-medium",children:"View →"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl mb-2",children:"✅"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Daily Check-in"}),e.jsx("button",{onClick:()=>t("/weightloss/checkin"),className:"mt-2 text-blue-600 hover:text-blue-700 font-medium",children:"Check In →"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl mb-2",children:"💬"}),e.jsx("div",{className:"text-sm text-gray-600",children:"AI Coach Chat"}),e.jsx("button",{onClick:()=>t("/patient/chat"),className:"mt-2 text-purple-600 hover:text-purple-700 font-medium",children:"Chat →"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Quick Stats"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Current Phase"}),e.jsx("div",{className:"font-semibold capitalize",children:s.programs.weightloss?.currentPhase||"Onboarding"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Last Check-in"}),e.jsx("div",{className:"font-semibold",children:n(s.programs.weightloss?.lastCheckin)||"Never"})]})]})]})]})})]})]}):null}export{j as default};
//# sourceMappingURL=PatientDashboard-BICwPI4K.js.map
