import{u as y,r as d,j as e}from"./index-CFDQeSWK.js";function v(){const u=y(),[r,x]=d.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",role:"doctor",practice:"",specialty:""}),[a,i]=d.useState({}),[t,p]=d.useState(!1),[m,f]=d.useState(!1),[h,b]=d.useState(!1),w=()=>{const s={};return r.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(s.email="Please enter a valid email address"):s.email="Email is required",r.password?r.password.length<8?s.password="Password must be at least 8 characters long":/[A-Z]/.test(r.password)?/[a-z]/.test(r.password)?/[0-9]/.test(r.password)||(s.password="Password must contain at least 1 number"):s.password="Password must contain at least 1 lowercase letter":s.password="Password must contain at least 1 uppercase letter":s.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",r.firstName||(s.firstName="First name is required"),r.lastName||(s.lastName="Last name is required"),s},j=async s=>{s.preventDefault();const c=w();if(Object.keys(c).length>0){i(c);return}p(!0),i({});try{const n=await fetch("https://tshla-auth-api-container.redpebble-e4551b7a.eastus.azurecontainerapps.io/api/medical/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName,role:r.role,practice:r.practice||void 0,specialty:r.specialty||void 0})}),g=await n.json();n.ok&&g.success?(b(!0),x({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",role:"doctor",practice:"",specialty:""})):i({general:g.error||"Registration failed. Please try again."})}catch(o){console.error("Registration failed:",o),i({general:o instanceof Error?o.message:"Registration failed. Please try again."})}finally{p(!1)}},l=(s,c)=>{x(o=>({...o,[s]:c})),a[s]&&i(o=>{const n={...o};return delete n[s],n})};return h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-700 to-sky-600 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-600 rounded-2xl mb-6 mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your medical staff account has been created successfully. You can now login with your credentials."}),e.jsx("button",{onClick:()=>u("/login"),className:"w-full bg-blue-600 text-white rounded-xl py-3 font-semibold hover:bg-blue-700 transition-colors mb-4",children:"Go to Login"}),e.jsx("button",{onClick:()=>b(!1),className:"text-blue-600 hover:underline text-sm",children:"Register Another Account"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-700 to-sky-600 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden",children:[e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-6 mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Medical Staff Registration"}),e.jsx("p",{className:"text-gray-600",children:"Create your medical professional account"})]}),e.jsxs("div",{className:"px-8 pb-8",children:[e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-700 text-sm",children:a.general})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",value:r.firstName,onChange:s=>l("firstName",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.firstName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"John",disabled:t}),a.firstName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",value:r.lastName,onChange:s=>l("lastName",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.lastName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Doe",disabled:t}),a.lastName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.lastName})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>l("email",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"doctor@tshla.ai",autoComplete:"email",disabled:t}),a.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),e.jsxs("select",{value:r.role,onChange:s=>l("role",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",disabled:t,children:[e.jsx("option",{value:"doctor",children:"Doctor"}),e.jsx("option",{value:"nurse",children:"Nurse"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"medical_assistant",children:"Medical Assistant"}),e.jsx("option",{value:"admin",children:"Administrator"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Practice"}),e.jsx("input",{type:"text",value:r.practice,onChange:s=>l("practice",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"TSHLA Medical",disabled:t})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialty"}),e.jsx("input",{type:"text",value:r.specialty,onChange:s=>l("specialty",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Endocrinology",disabled:t})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",value:r.password,onChange:s=>l("password",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors pr-10 ${a.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter secure password",autoComplete:"new-password",disabled:t}),e.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?"👁️":"👁️‍🗨️"})]}),a.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),e.jsx("input",{type:"password",value:r.confirmPassword,onChange:s=>l("confirmPassword",s.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.confirmPassword?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Confirm your password",autoComplete:"new-password",disabled:t}),a.confirmPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.confirmPassword})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Password requirements:"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-0.5",children:[e.jsx("li",{children:"• At least 8 characters long"}),e.jsx("li",{children:"• Contains uppercase and lowercase letters"}),e.jsx("li",{children:"• Contains at least one number"})]})]}),e.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",e.jsx("button",{onClick:()=>u("/login"),className:"text-blue-600 hover:underline font-medium",children:"Sign In"})]})})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:e.jsx("div",{className:"flex items-center justify-center text-xs text-gray-600",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"HIPAA Compliant & Secure"]})})})]})})}export{v as default};
//# sourceMappingURL=MedicalStaffRegister-DUVAhDhs.js.map
