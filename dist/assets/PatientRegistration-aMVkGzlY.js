import{u as v,r as l,j as e,b as f}from"./index-JAW6HvUl.js";import{patientService as m}from"./patient.service-CxaGvQcl.js";function y(){const i=v(),[o,d]=l.useState(!1),[x,u]=l.useState(!1),[h,g]=l.useState(""),[r,a]=l.useState({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",program:"both",referralSource:""}),[t,c]=l.useState({}),b=()=>{const s={};return r.firstName.trim()||(s.firstName="First name is required"),r.lastName.trim()||(s.lastName="Last name is required"),r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(s.email="Please enter a valid email"):s.email="Email is required",c(s),Object.keys(s).length===0},p=async s=>{if(s.preventDefault(),!!b()){d(!0);try{const n=await m.registerPatient(r);g(n.patientAvaId),u(!0),await m.loginWithAvaId({avaId:n.patientAvaId}),setTimeout(()=>{r.program==="pumpdrive"?i("/pumpdrive"):r.program==="weightloss"?i("/weightloss/onboarding"):i("/patient/dashboard")},3e3)}catch{f("PatientRegistration","Error message",{}),c({submit:"Registration failed. Please try again."})}finally{d(!1)}}};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-6",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome to TSHLA Medical!"}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Your unique AVA ID is:"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 font-mono",children:h}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Save this ID - you'll use it to log in"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent a welcome email to ",e.jsx("strong",{children:r.email})," with your AVA ID and login instructions."]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Redirecting you to your journey..."}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Start Your Health Journey"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Register to access personalized healthcare solutions"})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",value:r.firstName,onChange:s=>a({...r,firstName:s.target.value}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t.firstName?"border-red-500":"border-gray-300"}`,placeholder:"John"}),t.firstName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",value:r.lastName,onChange:s=>a({...r,lastName:s.target.value}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t.lastName?"border-red-500":"border-gray-300"}`,placeholder:"Smith"}),t.lastName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.lastName})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>a({...r,email:s.target.value}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t.email?"border-red-500":"border-gray-300"}`,placeholder:"john.smith@email.com"}),t.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),e.jsx("input",{type:"tel",value:r.phone,onChange:s=>a({...r,phone:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth (Optional)"}),e.jsx("input",{type:"date",value:r.dateOfBirth,onChange:s=>a({...r,dateOfBirth:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Which program are you interested in?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start p-4 border rounded-xl cursor-pointer hover:bg-blue-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"program",value:"pumpdrive",checked:r.program==="pumpdrive",onChange:s=>a({...r,program:s.target.value}),className:"mt-1 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"PumpDrive"}),e.jsx("div",{className:"text-sm text-gray-600",children:"AI-powered insulin pump selection and personalized recommendations"})]})]}),e.jsxs("label",{className:"flex items-start p-4 border rounded-xl cursor-pointer hover:bg-green-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"program",value:"weightloss",checked:r.program==="weightloss",onChange:s=>a({...r,program:s.target.value}),className:"mt-1 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Weight Loss Journey"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Comprehensive weight management with AI coaching and tracking"})]})]}),e.jsxs("label",{className:"flex items-start p-4 border-2 border-blue-500 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl cursor-pointer",children:[e.jsx("input",{type:"radio",name:"program",value:"both",checked:r.program==="both",onChange:s=>a({...r,program:s.target.value}),className:"mt-1 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Both Programs"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Access to all TSHLA Medical programs and features"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you hear about us? (Optional)"}),e.jsxs("select",{value:r.referralSource,onChange:s=>a({...r,referralSource:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"doctor",children:"Doctor Referral"}),e.jsx("option",{value:"search",children:"Google/Search"}),e.jsx("option",{value:"social",children:"Social Media"}),e.jsx("option",{value:"friend",children:"Friend/Family"}),e.jsx("option",{value:"other",children:"Other"})]})]}),t.submit&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl",children:t.submit}),e.jsx("button",{type:"submit",disabled:o,className:`w-full py-4 rounded-xl font-semibold text-white transition-all ${o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 transform hover:scale-[1.02]"}`,children:o?"Creating Your Account...":"Create Account & Get AVA ID"}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an AVA ID?",e.jsx("button",{type:"button",onClick:()=>i("/patient-login"),className:"text-blue-600 hover:text-blue-700 font-semibold ml-1",children:"Log In"})]})]})}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ”’"}),e.jsx("div",{className:"font-semibold text-gray-900",children:"HIPAA Compliant"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your data is secure and private"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ¤–"}),e.jsx("div",{className:"font-semibold text-gray-900",children:"AI-Powered"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Personalized recommendations"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“±"}),e.jsx("div",{className:"font-semibold text-gray-900",children:"Easy Access"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Use your AVA ID anywhere"})]})]})]})})}export{y as default};
//# sourceMappingURL=PatientRegistration-aMVkGzlY.js.map
