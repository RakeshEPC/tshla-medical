import{i as b,u as j,r as n,j as e}from"./index-CFDQeSWK.js";import{A as _}from"./arrow-left-y79zHQa3.js";import{P as N}from"./printer-D22zGvYc.js";import{D as u}from"./download-FANRrGx6.js";import{M as y}from"./mail-Cd7E0KKU.js";function S(){const{visitId:c}=b(),i=j(),[r,o]=n.useState(""),[l,x]=n.useState(null),[d,m]=n.useState(!0);n.useEffect(()=>{const t=c||localStorage.getItem("last-visit");if(t){const a=localStorage.getItem(t);if(a){const s=JSON.parse(a);x(s),o(s.note||"")}}},[c]);const h=()=>{window.print()},p=()=>{const t=new Blob([r],{type:"text/plain"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`clinical-note-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},g=()=>{const t=encodeURIComponent("Clinical Note"),a=encodeURIComponent(r);window.location.href=`mailto:?subject=${t}&body=${a}`};return r?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"print:hidden bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>i(-1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(_,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Print Clinical Note"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:t=>m(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:"Include Letterhead"})]}),e.jsxs("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Print"]}),e.jsxs("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Download"]}),e.jsxs("button",{onClick:g,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Email"]})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-8 bg-white print:p-0",children:[d&&e.jsx("div",{className:"mb-8 pb-4 border-b-2 border-gray-300 print:mb-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"TSHLA Medical Center"}),e.jsx("p",{className:"text-gray-600",children:"123 Medical Plaza, Suite 100"}),e.jsx("p",{className:"text-gray-600",children:"San Francisco, CA 94105"}),e.jsx("p",{className:"text-gray-600",children:"Phone: (415) 555-0100 | Fax: (415) 555-0101"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"NPI: 1234567890"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tax ID: 12-3456789"})]})]})}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed text-gray-800",children:r})}),e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-300 print:mt-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Provider Signature"}),e.jsx("div",{className:"border-b border-gray-400 h-12"}),e.jsx("p",{className:"text-sm mt-1",children:"Dr. _____________________"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date().toLocaleDateString()]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Reviewed By"}),e.jsx("div",{className:"border-b border-gray-400 h-12"}),e.jsx("p",{className:"text-sm mt-1",children:"_____________________"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Date: _____________________"})]})})]})}),e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-200 text-center text-xs text-gray-500 print:mt-4",children:[e.jsx("p",{children:"This document contains confidential medical information protected under HIPAA."}),e.jsxs("p",{children:["Generated on ",new Date().toLocaleString()]}),l&&e.jsxs("p",{children:["Template: ",l.templateName||"N/A"," | Specialty:"," ",l.specialty||"N/A"]})]})]}),e.jsx("style",{jsx:!0,children:`
        @media print {
          @page {
            size: letter;
            margin: 0.5in;
          }

          body {
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
          }
        }
      `})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"No processed note found"}),e.jsx("button",{onClick:()=>i(-1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})})}export{S as default};
//# sourceMappingURL=PrintProcessedNote-Cistw9YG.js.map
