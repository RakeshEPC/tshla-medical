import{u as C,r as i,j as e}from"./index-JAW6HvUl.js";import{w as o}from"./weightLossProfile.service-BCodgXN-.js";const S=[{value:"terrible",emoji:"ðŸ˜”",color:"text-red-500"},{value:"low",emoji:"ðŸ˜•",color:"text-orange-500"},{value:"okay",emoji:"ðŸ˜",color:"text-yellow-500"},{value:"good",emoji:"ðŸ™‚",color:"text-blue-500"},{value:"great",emoji:"ðŸ˜„",color:"text-green-500"}];function P(){const c=C(),[r,v]=i.useState(null),[y,f]=i.useState(!0),[x,u]=i.useState(!1),[h,p]=i.useState(!1),g=new Date().toISOString().split("T")[0],[s,a]=i.useState({date:g,patientId:"",weight:void 0,steps:void 0,protein:void 0,sleep:void 0,hydration:void 0,hungerScore:5,nausea:0,constipation:0,mood:"okay",notes:""}),[l,d]=i.useState({showWeightEntry:!1,showProteinEntry:!1,showStepsEntry:!1});i.useEffect(()=>{N()},[]);const N=()=>{const t=`patient_${Date.now()}`,n=o.loadProfile(t);if(!n){c("/weightloss/onboarding");return}v(n),a({...s,patientId:n.patientId});const b=o.isTodayCheckinComplete(n.patientId);if(p(b),b){const j=o.getDailyCheckins(n.patientId,g,g);j.length>0&&a(j[0])}f(!1)},w=async()=>{r&&(u(!0),o.saveDailyCheckin(s),o.updateEngagementStats(r.patientId,{checkinStreak:h?void 0:1}),p(!0),u(!1),setTimeout(()=>{c("/weightloss/dashboard")},1e3))},k=()=>{d({...l,showWeightEntry:!l.showWeightEntry})},m=(t,n)=>n==="hunger"?t<=3?"bg-green-500":t<=6?"bg-yellow-500":"bg-red-500":t===0?"bg-green-500":t<=3?"bg-yellow-500":t<=6?"bg-orange-500":"bg-red-500";return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Loading check-in..."})]})}):r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Daily Check-in"}),e.jsx("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),h&&e.jsx("div",{className:"bg-green-100 text-green-700 px-4 py-2 rounded-full font-medium",children:"âœ“ Today Complete"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Current Streak:"}),e.jsx("div",{className:"flex space-x-1",children:[...Array(7)].map((t,n)=>e.jsx("div",{className:`w-8 h-8 rounded-full ${n<3?"bg-green-500":"bg-gray-200"} flex items-center justify-center text-white text-xs`,children:n<3?"âœ“":""},n))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:"âš–ï¸"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s.weight||"--"," ",r.demographics.preferredUnits.weight]})]})]}),e.jsx("button",{onClick:k,className:"text-blue-600 hover:text-blue-700",children:s.weight?"Edit":"Add"})]}),l.showWeightEntry&&e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx("input",{type:"number",step:"0.1",value:s.weight||"",onChange:t=>a({...s,weight:parseFloat(t.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:r.demographics.preferredUnits.weight==="kg"?"75.5":"166"}),e.jsx("button",{onClick:()=>d({...l,showWeightEntry:!1}),className:"px-3 py-2 bg-green-500 text-white rounded-lg",children:"âœ“"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ‘Ÿ"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Steps"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.steps?.toLocaleString()||"--"})]})]}),e.jsx("button",{onClick:()=>d({...l,showStepsEntry:!l.showStepsEntry}),className:"text-blue-600 hover:text-blue-700",children:s.steps?"Edit":"Add"})]}),l.showStepsEntry&&e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx("input",{type:"number",value:s.steps||"",onChange:t=>a({...s,steps:parseInt(t.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"8000"}),e.jsx("button",{onClick:()=>d({...l,showStepsEntry:!1}),className:"px-3 py-2 bg-green-500 text-white rounded-lg",children:"âœ“"})]}),r.targets.steps&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,(s.steps||0)/r.targets.steps.target*100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Goal: ",r.targets.steps.target.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ¥©"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Protein"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s.protein||"--","g"]})]})]}),e.jsx("button",{onClick:()=>d({...l,showProteinEntry:!l.showProteinEntry}),className:"text-blue-600 hover:text-blue-700",children:s.protein?"Edit":"Add"})]}),l.showProteinEntry&&e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx("input",{type:"number",value:s.protein||"",onChange:t=>a({...s,protein:parseInt(t.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"80"}),e.jsx("button",{onClick:()=>d({...l,showProteinEntry:!1}),className:"px-3 py-2 bg-green-500 text-white rounded-lg",children:"âœ“"})]}),r.targets.protein&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,(s.protein||0)/r.targets.protein.target*100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Goal: ",r.targets.protein.target,"g"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"How are you feeling?"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Overall Mood"}),e.jsx("div",{className:"flex justify-between",children:S.map(t=>e.jsxs("button",{onClick:()=>a({...s,mood:t.value}),className:`
                      p-3 rounded-lg transition-all
                      ${s.mood===t.value?"bg-blue-100 ring-2 ring-blue-500":"bg-gray-50 hover:bg-gray-100"}
                    `,children:[e.jsx("div",{className:`text-3xl ${t.color}`,children:t.emoji}),e.jsx("div",{className:"text-xs text-gray-600 mt-1 capitalize",children:t.value})]},t.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Hunger Level: ",s.hungerScore,"/10"]}),e.jsx("input",{type:"range",min:"0",max:"10",value:s.hungerScore,onChange:t=>a({...s,hungerScore:parseInt(t.target.value)}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"No hunger"}),e.jsx("span",{children:"Moderate"}),e.jsx("span",{children:"Extreme hunger"})]}),e.jsx("div",{className:`h-2 ${m(s.hungerScore,"hunger")} rounded-full mt-2`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Nausea: ",s.nausea,"/10"]}),e.jsx("input",{type:"range",min:"0",max:"10",value:s.nausea,onChange:t=>a({...s,nausea:parseInt(t.target.value)}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"None"}),e.jsx("span",{children:"Mild"}),e.jsx("span",{children:"Severe"})]}),e.jsx("div",{className:`h-2 ${m(s.nausea,"symptom")} rounded-full mt-2`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Constipation: ",s.constipation,"/10"]}),e.jsx("input",{type:"range",min:"0",max:"10",value:s.constipation,onChange:t=>a({...s,constipation:parseInt(t.target.value)}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"None"}),e.jsx("span",{children:"Mild"}),e.jsx("span",{children:"Severe"})]}),e.jsx("div",{className:`h-2 ${m(s.constipation,"symptom")} rounded-full mt-2`})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Additional Tracking"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sleep (hours)"}),e.jsx("input",{type:"number",step:"0.5",value:s.sleep||"",onChange:t=>a({...s,sleep:parseFloat(t.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"7.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Water (ml)"}),e.jsx("input",{type:"number",step:"250",value:s.hydration||"",onChange:t=>a({...s,hydration:parseInt(t.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2000"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Notes & Observations"}),e.jsx("textarea",{value:s.notes,onChange:t=>a({...s,notes:t.target.value}),placeholder:"Any additional notes about your day, challenges, wins, or symptoms...",className:"w-full h-32 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(s.nausea>=8||s.constipation>=8)&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-red-700",children:"Health Alert"}),e.jsx("div",{className:"text-sm text-red-600",children:"You're experiencing severe symptoms. Consider contacting your healthcare provider if symptoms persist."})]})]})}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>c("/weightloss/dashboard"),className:"px-8 py-3 bg-white text-gray-700 font-semibold rounded-lg border-2 border-gray-300 hover:bg-gray-50",children:"Skip Today"}),e.jsx("button",{onClick:w,disabled:x,className:`
              px-8 py-3 font-semibold rounded-lg shadow-lg transition-all
              ${x?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-blue-600 text-white hover:from-green-700 hover:to-blue-700"}
            `,children:x?"Saving...":h?"Update Check-in":"Complete Check-in"})]})]})}):null}export{P as default};
//# sourceMappingURL=WeightLossCheckin-bpZpPK_l.js.map
