import{r as c,l as n,j as e}from"./index-CFDQeSWK.js";import{t as p}from"./templateStorage-CeXibu8Z.js";function f(){const[m,x]=c.useState([]),[l,r]=c.useState(null),[g,o]=c.useState("");c.useEffect(()=>{u()},[]);const u=()=>{const t=p.getTemplates();x(t),n("TemplateDebug","Debug message",{}),t.forEach(a=>{n("TemplateDebug","Debug message",{}),a.sections&&(n("TemplateDebug","Debug message",{}),Object.entries(a.sections).forEach(([i,h])=>{typeof h=="object"&&h!==null&&(n("TemplateDebug","Debug message",{}),n("TemplateDebug","Debug message",{}))}))});const s=t.find(a=>a.name.toLowerCase().includes("222")||a.name.toLowerCase()==="rakesh 222"||a.name.toLowerCase()==="rakesh222");if(s)r(s),o(JSON.stringify(s,null,2)),n("TemplateDebug","Debug message",{});else{const a=t.find(i=>i.name.toLowerCase().includes("rakesh"));a&&(r(a),o(JSON.stringify(a,null,2)),n("TemplateDebug","Debug message",{}))}},d=t=>{const s=[];return t.sections&&Object.entries(t.sections).forEach(([a,i])=>{typeof i=="object"&&i!==null&&(!i.title&&!i.aiInstructions&&s.push(`Section '${a}' is object but missing title/aiInstructions`),i.title&&!i.aiInstructions&&s.push(`Section '${a}' has title but no aiInstructions`),!i.title&&i.aiInstructions&&s.push(`Section '${a}' has aiInstructions but no title`))}),s};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Template Debug Tool"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"All Templates"}),e.jsx("button",{onClick:()=>{const t=m.filter(s=>s.name.toLowerCase().includes("rakesh")||s.name.toLowerCase().includes("222"));t.length>0?alert(`Found ${t.length} Rakesh template(s):
${t.map(s=>`- ${s.name} (${s.id})`).join(`
`)}`):alert("No Rakesh or 222 templates found")},className:"text-sm px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Find Rakesh/222"})]}),e.jsx("div",{className:"space-y-2",children:m.map(t=>e.jsxs("button",{onClick:()=>{r(t),o(JSON.stringify(t,null,2))},className:`w-full text-left p-3 rounded-lg border ${l?.id===t.id?"bg-blue-50 border-blue-500":"hover:bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Type: ",t.template_type," | Sections:"," ",Object.keys(t.sections||{}).length]})]},t.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Template Analysis"}),l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Name:"}),e.jsx("p",{children:l.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Type:"}),e.jsx("p",{children:l.template_type})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Sections:"}),e.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(l.sections||{}).map(([t,s])=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"font-medium text-sm",children:["Key: ",t]}),e.jsxs("div",{className:"text-sm mt-1",children:["Type: ",typeof s,typeof s=="object"&&s!==null&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Has title: ",s.title?"✅":"❌",e.jsx("br",{}),"Has aiInstructions: ",s.aiInstructions?"✅":"❌",s.title&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Title: ",s.title]}),s.aiInstructions&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"Instructions: ",s.aiInstructions]})]})]})]},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Issues:"}),e.jsx("div",{className:"mt-2",children:d(l).length>0?e.jsx("ul",{className:"list-disc list-inside space-y-1",children:d(l).map((t,s)=>e.jsx("li",{className:"text-red-600 text-sm",children:t},s))}):e.jsx("p",{className:"text-green-600 text-sm",children:"✅ No issues found"})})]})]}):e.jsx("p",{className:"text-gray-500",children:"Select a template to analyze"})]})]}),e.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Raw Template JSON"}),e.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-auto text-xs",children:g||"Select a template to view JSON"})]})]})})}export{f as default};
//# sourceMappingURL=TemplateDebug-BGFQBXro.js.map
