{"version":3,"file":"PatientPortal-OuULm209.js","sources":["../../src/pages/PatientPortal.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getPatientData } from '../services/patientData.service';\n\nconst ELEVENLABS_VOICES = [\n  { id: '21m00Tcm4TlvDq8ikWAM', name: 'Adam', description: 'Professional male' },\n  { id: 'AZnzlk1XvdvUeBnXmlld', name: 'Domi', description: 'Friendly female' },\n  { id: 'EXAVITQu4vr4xnSDxMaL', name: 'Bella', description: 'Warm female' },\n  { id: 'ErXwobaYiN019PkySvjV', name: 'Antoni', description: 'Mature male' },\n  { id: 'MF3mGyEYCl7XYWbV9V6O', name: 'Elli', description: 'Young female' },\n  { id: 'TxGEqnHWrfWFTfGW9XjX', name: 'Josh', description: 'Casual male' },\n  { id: 'VR6AewLTigWG4xSOukaG', name: 'Arnold', description: 'Authoritative male' },\n  { id: 'pqHfZKP75CvOlQylNhV4', name: 'Bill', description: 'Documentary narrator' },\n  { id: 'Yko7PKHZNXotIFUBG7I9', name: 'Callum', description: 'British male' },\n  { id: 'JBFqnCBsd6RMkjVDRZzb', name: 'George', description: 'British narrator' },\n];\n\nexport default function PatientPortal() {\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState<\n    | 'records'\n    | 'appointments'\n    | 'prescriptions'\n    | 'messages'\n    | 'avatar'\n    | 'questionnaires'\n    | 'talk-doctor'\n  >('avatar');\n\n  // Get patient ID from session\n  const patientId = sessionStorage.getItem('patient_id')?.replace('pt-', '') || '444-444';\n  const patientData = getPatientData(patientId);\n\n  const [isAvatarSpeaking, setIsAvatarSpeaking] = useState(false);\n  const [showVoiceSettings, setShowVoiceSettings] = useState(false);\n  const [isDoctorCallActive, setIsDoctorCallActive] = useState(false);\n  const [phq9Answers, setPhq9Answers] = useState<number[]>(new Array(9).fill(0));\n  const [gad7Answers, setGad7Answers] = useState<number[]>(new Array(7).fill(0));\n  const [avatarMessage, setAvatarMessage] = useState('');\n  const [doctorMessage, setDoctorMessage] = useState('');\n  const [selectedVoice, setSelectedVoice] = useState('21m00Tcm4TlvDq8ikWAM'); // Adam voice as default\n\n  const phq9Questions = [\n    'Little interest or pleasure in doing things',\n    'Feeling down, depressed, or hopeless',\n    'Trouble falling/staying asleep or sleeping too much',\n    'Feeling tired or having little energy',\n    'Poor appetite or overeating',\n    'Feeling bad about yourself or that you are a failure',\n    'Trouble concentrating on things',\n    'Moving or speaking slowly/being fidgety or restless',\n    'Thoughts that you would be better off dead or hurting yourself',\n  ];\n\n  const gad7Questions = [\n    'Feeling nervous, anxious, or on edge',\n    'Not being able to stop or control worrying',\n    'Worrying too much about different things',\n    'Trouble relaxing',\n    \"Being so restless that it's hard to sit still\",\n    'Becoming easily annoyed or irritable',\n    'Feeling afraid as if something awful might happen',\n  ];\n\n  useEffect(() => {\n    // Welcome message with premium voice\n    const welcomeMessage = `Welcome back, ${patientData?.name || 'valued patient'}. How can I assist you today?`;\n    const voiceId = localStorage.getItem('azure_voice_id') || 'en-US-JennyNeural';\n\n    return () => {\n    };\n  }, []);\n\n  const handleVoiceChange = (voiceId: string) => {\n    setSelectedVoice(voiceId);\n  };\n\n  const startAvatarConversation = async (topic: string) => {\n    setIsAvatarSpeaking(true);\n    let message = '';\n\n    switch (topic) {\n      case 'medications':\n        message = `Hello ${patientData?.name}. I'm your medical record AVATAR. Let me explain your current medications. ${patientData?.medications\n          .map(\n            med => `You take ${med.name}, ${med.dosage}, ${med.frequency} for ${med.indication}.`\n          )\n          .join(\n            ' '\n          )} It's important to take all medications as prescribed. Do you have any questions about your medications?`;\n        break;\n\n      case 'diagnosis':\n        message = `Your current diagnoses include: ${patientData?.diagnosis.join(', ')}. ${\n          patientData?.diagnosis[0]?.includes('Diabetes')\n            ? 'Diabetes requires regular monitoring of blood sugar, a healthy diet, and medication adherence.'\n            : patientData?.diagnosis[0]?.includes('Depression')\n              ? 'Depression is treatable with therapy and medication. Regular follow-ups are important.'\n              : 'Your conditions are being actively managed by your healthcare team.'\n        }`;\n        break;\n\n      case 'labs':\n        message = `Your recent lab results show: ${patientData?.labResults\n          .slice(0, 3)\n          .map(\n            lab =>\n              `${lab.test} is ${lab.value}, which is ${lab.value.includes(lab.normal) ? 'normal' : 'slightly outside the normal range of ' + lab.normal}.`\n          )\n          .join(' ')} Your doctor will discuss these results at your next visit.`;\n        break;\n\n      case 'vitals':\n        message = `Your last vital signs were: Blood pressure ${patientData?.vitalSigns.bp}, heart rate ${patientData?.vitalSigns.hr}, weight ${patientData?.vitalSigns.weight}. ${\n          patientData?.vitalSigns.glucose\n            ? `Blood glucose was ${patientData.vitalSigns.glucose}.`\n            : ''\n        } These measurements help track your health over time.`;\n        break;\n\n      default:\n        message = `Hello ${patientData?.name}. I'm your medical record AVATAR. I can explain your medications, diagnoses, lab results, and answer questions about your health. What would you like to know?`;\n    }\n\n    setAvatarMessage(message);\n    const voiceId = localStorage.getItem('azure_voice_id') || 'en-US-JennyNeural';\n\n    setTimeout(() => setIsAvatarSpeaking(false), 5000);\n  };\n\n  const callDoctor = async () => {\n    setIsDoctorCallActive(true);\n    const greeting = `Hello ${patientData?.name}, this is Dr. Smith's virtual assistant. How can I help you today? You can ask about appointments, prescription refills, or leave a message for your doctor.`;\n    setDoctorMessage(greeting);\n    const voiceId = localStorage.getItem('azure_voice_id') || 'en-US-JennyNeural';\n\n    setTimeout(() => setIsDoctorCallActive(false), 5000);\n  };\n\n  const calculatePHQ9Score = () => phq9Answers.reduce((a, b) => a + b, 0);\n  const calculateGAD7Score = () => gad7Answers.reduce((a, b) => a + b, 0);\n\n  const appointments = [\n    {\n      id: '1',\n      date: '2025-02-15',\n      time: '10:00 AM',\n      doctor: 'Dr. Smith',\n      type: 'Follow-up',\n      status: 'Confirmed',\n    },\n    {\n      id: '2',\n      date: '2025-03-20',\n      time: '2:00 PM',\n      doctor: 'Dr. Johnson',\n      type: 'Lab Review',\n      status: 'Scheduled',\n    },\n    {\n      id: '3',\n      date: '2025-04-10',\n      time: '9:00 AM',\n      doctor: 'Dr. Smith',\n      type: 'Annual Physical',\n      status: 'Scheduled',\n    },\n  ];\n\n  if (!patientData) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700\">Patient not found</h2>\n          <button onClick={() => navigate('/')} className=\"mt-4 text-blue-600 hover:text-blue-700\">\n            Return to Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"px-4\">\n          <div className=\"flex justify-between items-center h-14\">\n            <div className=\"flex items-center space-x-4\">\n              <button onClick={() => navigate('/')} className=\"text-gray-600 hover:text-gray-900\">\n                ← Back\n              </button>\n              <h1 className=\"text-lg font-semibold\">Patient Portal</h1>\n            </div>\n            <button\n              onClick={() => navigate('/')}\n              className=\"text-sm text-gray-600 hover:text-gray-900\"\n            >\n              Sign Out\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Patient Info Bar */}\n      <div className=\"bg-gradient-to-r from-green-600 to-blue-600 text-white\">\n        <div className=\"px-4 py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h2 className=\"text-xl font-bold\">{patientData.name}</h2>\n              <p className=\"text-green-100 text-sm\">\n                MRN: {patientData.mrn} • DOB: {patientData.dob} • ID: {patientId}\n              </p>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-xs text-green-100\">Diagnoses</p>\n              <p className=\"text-sm font-semibold\">{patientData.diagnosis[0]}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"bg-white border-b\">\n        <div className=\"px-4\">\n          <div className=\"flex space-x-6 overflow-x-auto\">\n            {(\n              [\n                'avatar',\n                'records',\n                'appointments',\n                'prescriptions',\n                'questionnaires',\n                'talk-doctor',\n                'messages',\n              ] as const\n            ).map(tab => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`py-3 px-2 border-b-2 font-medium text-xs capitalize whitespace-nowrap transition ${\n                  activeTab === tab\n                    ? 'border-green-600 text-green-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n              >\n                {tab === 'avatar'\n                  ? '🤖 AVATAR Assistant'\n                  : tab === 'records'\n                    ? '📋 Medical Records'\n                    : tab === 'appointments'\n                      ? '📅 Appointments'\n                      : tab === 'prescriptions'\n                        ? '💊 Prescriptions'\n                        : tab === 'questionnaires'\n                          ? '📝 Mental Health'\n                          : tab === 'talk-doctor'\n                            ? '👨‍⚕️ Talk to Doctor'\n                            : '✉️ Messages'}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"px-4 py-6\">\n        {/* AVATAR - Talk to Your Chart */}\n        {activeTab === 'avatar' && (\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">🤖 Your Medical Record AVATAR</h3>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                I'm your personal medical assistant. I can explain your medications, diagnoses, and\n                lab results in simple terms.\n              </p>\n\n              {/* Voice Selection */}\n              <div className=\"mb-6 p-4 bg-gray-50 rounded\">\n                <label className=\"text-sm font-medium text-gray-700\">Choose Avatar Voice:</label>\n                <select\n                  value={selectedVoice}\n                  onChange={e => handleVoiceChange(e.target.value)}\n                  className=\"ml-3 px-3 py-2 text-sm border border-gray-300 rounded-lg\"\n                >\n                  {ELEVENLABS_VOICES.map(voice => (\n                    <option key={voice.id} value={voice.id}>\n                      {voice.name} - {voice.description}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Avatar Topics */}\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <button\n                  onClick={() => startAvatarConversation('medications')}\n                  disabled={isAvatarSpeaking}\n                  className=\"p-4 bg-blue-100 rounded-lg hover:bg-blue-200 disabled:opacity-50\"\n                >\n                  <div className=\"text-2xl mb-2\">💊</div>\n                  <div className=\"text-sm font-medium\">My Medications</div>\n                </button>\n\n                <button\n                  onClick={() => startAvatarConversation('diagnosis')}\n                  disabled={isAvatarSpeaking}\n                  className=\"p-4 bg-green-100 rounded-lg hover:bg-green-200 disabled:opacity-50\"\n                >\n                  <div className=\"text-2xl mb-2\">🏥</div>\n                  <div className=\"text-sm font-medium\">My Conditions</div>\n                </button>\n\n                <button\n                  onClick={() => startAvatarConversation('labs')}\n                  disabled={isAvatarSpeaking}\n                  className=\"p-4 bg-purple-100 rounded-lg hover:bg-purple-200 disabled:opacity-50\"\n                >\n                  <div className=\"text-2xl mb-2\">🔬</div>\n                  <div className=\"text-sm font-medium\">Lab Results</div>\n                </button>\n\n                <button\n                  onClick={() => startAvatarConversation('vitals')}\n                  disabled={isAvatarSpeaking}\n                  className=\"p-4 bg-orange-100 rounded-lg hover:bg-orange-200 disabled:opacity-50\"\n                >\n                  <div className=\"text-2xl mb-2\">❤️</div>\n                  <div className=\"text-sm font-medium\">Vital Signs</div>\n                </button>\n              </div>\n\n              {/* Avatar Message Display */}\n              {avatarMessage && (\n                <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"text-2xl\">🤖</div>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm text-blue-900\">{avatarMessage}</p>\n                      {isAvatarSpeaking && (\n                        <p className=\"text-xs text-blue-600 mt-2 animate-pulse\">Speaking...</p>\n                      )}\n                    </div>\n                    {isAvatarSpeaking && (\n                      <button\n                        className=\"px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600\"\n                      >\n                        Stop\n                      </button>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Voice Settings */}\n              <div className=\"mt-6\">\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Medical Records */}\n        {activeTab === 'records' && (\n          <div className=\"max-w-4xl mx-auto space-y-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">Medical Records</h3>\n\n            {/* Diagnoses */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h4 className=\"font-medium mb-3\">Current Diagnoses</h4>\n              <ul className=\"space-y-2\">\n                {patientData.diagnosis.map((dx, idx) => (\n                  <li key={idx} className=\"flex items-center space-x-2\">\n                    <span className=\"text-green-600\">✓</span>\n                    <span className=\"text-sm\">{dx}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            {/* Lab Results */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h4 className=\"font-medium mb-3\">Recent Lab Results</h4>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead>\n                    <tr className=\"border-b\">\n                      <th className=\"text-left py-2\">Test</th>\n                      <th className=\"text-left py-2\">Result</th>\n                      <th className=\"text-left py-2\">Normal</th>\n                      <th className=\"text-left py-2\">Date</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {patientData.labResults.map((lab, idx) => (\n                      <tr key={idx} className=\"border-b\">\n                        <td className=\"py-2\">{lab.test}</td>\n                        <td className=\"py-2 font-medium\">{lab.value}</td>\n                        <td className=\"py-2 text-gray-500\">{lab.normal}</td>\n                        <td className=\"py-2 text-gray-500\">{lab.date}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            {/* Vital Signs */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h4 className=\"font-medium mb-3\">Current Vital Signs</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                <div>\n                  <p className=\"text-xs text-gray-500\">Blood Pressure</p>\n                  <p className=\"font-semibold\">{patientData.vitalSigns.bp}</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-500\">Heart Rate</p>\n                  <p className=\"font-semibold\">{patientData.vitalSigns.hr} bpm</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-500\">Weight</p>\n                  <p className=\"font-semibold\">{patientData.vitalSigns.weight}</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-500\">BMI</p>\n                  <p className=\"font-semibold\">{patientData.vitalSigns.bmi}</p>\n                </div>\n                {patientData.vitalSigns.glucose && (\n                  <div>\n                    <p className=\"text-xs text-gray-500\">Glucose</p>\n                    <p className=\"font-semibold\">{patientData.vitalSigns.glucose}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Appointments */}\n        {activeTab === 'appointments' && (\n          <div className=\"max-w-4xl mx-auto space-y-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Upcoming Appointments</h3>\n              <button className=\"px-4 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700\">\n                Schedule New\n              </button>\n            </div>\n            <div className=\"bg-white rounded-lg shadow\">\n              <div className=\"divide-y\">\n                {appointments.map(apt => (\n                  <div key={apt.id} className=\"p-4 hover:bg-gray-50\">\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <p className=\"font-medium\">\n                          {apt.type} with {apt.doctor}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          {apt.date} at {apt.time}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full\">\n                          {apt.status}\n                        </span>\n                        <button className=\"text-blue-600 hover:text-blue-700 text-sm\">\n                          Reschedule\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Prescriptions */}\n        {activeTab === 'prescriptions' && (\n          <div className=\"max-w-4xl mx-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Active Prescriptions</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {patientData.medications.map((rx, idx) => (\n                <div key={idx} className=\"bg-white rounded-lg shadow p-4\">\n                  <h4 className=\"font-semibold mb-2\">{rx.name}</h4>\n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Dosage:</span>\n                      <span className=\"font-medium\">{rx.dosage}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Frequency:</span>\n                      <span className=\"font-medium\">{rx.frequency}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">For:</span>\n                      <span className=\"font-medium\">{rx.indication}</span>\n                    </div>\n                  </div>\n                  <button className=\"mt-3 w-full px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700\">\n                    Request Refill\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Mental Health Questionnaires */}\n        {activeTab === 'questionnaires' && (\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            {/* PHQ-9 */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">PHQ-9 Depression Screening</h3>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Over the last 2 weeks, how often have you been bothered by:\n              </p>\n              {phq9Questions.map((question, idx) => (\n                <div key={idx} className=\"mb-4\">\n                  <p className=\"text-sm mb-2\">\n                    {idx + 1}. {question}\n                  </p>\n                  <div className=\"flex space-x-4\">\n                    {[0, 1, 2, 3].map(score => (\n                      <label key={score} className=\"flex items-center\">\n                        <input\n                          type=\"radio\"\n                          name={`phq9-${idx}`}\n                          value={score}\n                          checked={phq9Answers[idx] === score}\n                          onChange={() => {\n                            const newAnswers = [...phq9Answers];\n                            newAnswers[idx] = score;\n                            setPhq9Answers(newAnswers);\n                          }}\n                          className=\"mr-1\"\n                        />\n                        <span className=\"text-xs\">\n                          {score === 0\n                            ? 'Not at all'\n                            : score === 1\n                              ? 'Several days'\n                              : score === 2\n                                ? 'More than half'\n                                : 'Nearly every day'}\n                        </span>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              ))}\n              <div className=\"mt-4 p-4 bg-blue-50 rounded\">\n                <p className=\"font-medium\">PHQ-9 Score: {calculatePHQ9Score()}</p>\n                <p className=\"text-sm text-gray-600 mt-1\">\n                  {calculatePHQ9Score() < 5\n                    ? 'Minimal depression'\n                    : calculatePHQ9Score() < 10\n                      ? 'Mild depression'\n                      : calculatePHQ9Score() < 15\n                        ? 'Moderate depression'\n                        : calculatePHQ9Score() < 20\n                          ? 'Moderately severe depression'\n                          : 'Severe depression'}\n                </p>\n              </div>\n            </div>\n\n            {/* GAD-7 */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">GAD-7 Anxiety Screening</h3>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Over the last 2 weeks, how often have you been bothered by:\n              </p>\n              {gad7Questions.map((question, idx) => (\n                <div key={idx} className=\"mb-4\">\n                  <p className=\"text-sm mb-2\">\n                    {idx + 1}. {question}\n                  </p>\n                  <div className=\"flex space-x-4\">\n                    {[0, 1, 2, 3].map(score => (\n                      <label key={score} className=\"flex items-center\">\n                        <input\n                          type=\"radio\"\n                          name={`gad7-${idx}`}\n                          value={score}\n                          checked={gad7Answers[idx] === score}\n                          onChange={() => {\n                            const newAnswers = [...gad7Answers];\n                            newAnswers[idx] = score;\n                            setGad7Answers(newAnswers);\n                          }}\n                          className=\"mr-1\"\n                        />\n                        <span className=\"text-xs\">\n                          {score === 0\n                            ? 'Not at all'\n                            : score === 1\n                              ? 'Several days'\n                              : score === 2\n                                ? 'More than half'\n                                : 'Nearly every day'}\n                        </span>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              ))}\n              <div className=\"mt-4 p-4 bg-blue-50 rounded\">\n                <p className=\"font-medium\">GAD-7 Score: {calculateGAD7Score()}</p>\n                <p className=\"text-sm text-gray-600 mt-1\">\n                  {calculateGAD7Score() < 5\n                    ? 'Minimal anxiety'\n                    : calculateGAD7Score() < 10\n                      ? 'Mild anxiety'\n                      : calculateGAD7Score() < 15\n                        ? 'Moderate anxiety'\n                        : 'Severe anxiety'}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Talk to Doctor */}\n        {activeTab === 'talk-doctor' && (\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">👨‍⚕️ Talk to Your Doctor</h3>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Connect with your doctor's virtual assistant for questions, appointments, or\n                prescription refills.\n              </p>\n\n              <div className=\"text-center py-8\">\n                <button\n                  onClick={callDoctor}\n                  disabled={isDoctorCallActive}\n                  className=\"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n                >\n                  {isDoctorCallActive ? '📞 Call in Progress...' : \"📞 Call Doctor's Office\"}\n                </button>\n              </div>\n\n              {doctorMessage && (\n                <div className=\"mt-6 p-4 bg-green-50 rounded-lg\">\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"text-2xl\">👨‍⚕️</div>\n                    <div>\n                      <p className=\"text-sm text-green-900\">{doctorMessage}</p>\n                      {isDoctorCallActive && (\n                        <p className=\"text-xs text-green-600 mt-2 animate-pulse\">Connected...</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <button className=\"p-4 bg-gray-100 rounded-lg hover:bg-gray-200\">\n                  <div className=\"text-2xl mb-2\">📅</div>\n                  <div className=\"text-sm font-medium\">Schedule Appointment</div>\n                </button>\n                <button className=\"p-4 bg-gray-100 rounded-lg hover:bg-gray-200\">\n                  <div className=\"text-2xl mb-2\">💊</div>\n                  <div className=\"text-sm font-medium\">Request Refill</div>\n                </button>\n                <button className=\"p-4 bg-gray-100 rounded-lg hover:bg-gray-200\">\n                  <div className=\"text-2xl mb-2\">❓</div>\n                  <div className=\"text-sm font-medium\">Ask Question</div>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Messages */}\n        {activeTab === 'messages' && (\n          <div className=\"max-w-4xl mx-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Secure Messages</h3>\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"text-center py-12\">\n                <svg\n                  className=\"w-16 h-16 text-gray-400 mx-auto mb-4\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"2\"\n                    d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n                  />\n                </svg>\n                <p className=\"text-gray-500\">No new messages</p>\n                <button className=\"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\">\n                  Send Message to Doctor\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["ELEVENLABS_VOICES","PatientPortal","navigate","useNavigate","activeTab","setActiveTab","useState","patientId","patientData","getPatientData","isAvatarSpeaking","setIsAvatarSpeaking","showVoiceSettings","setShowVoiceSettings","isDoctorCallActive","setIsDoctorCallActive","phq9Answers","setPhq9Answers","gad7Answers","setGad7Answers","avatarMessage","setAvatarMessage","doctorMessage","setDoctorMessage","selectedVoice","setSelectedVoice","phq9Questions","gad7Questions","useEffect","handleVoiceChange","voiceId","startAvatarConversation","topic","message","med","lab","callDoctor","greeting","calculatePHQ9Score","a","b","calculateGAD7Score","appointments","jsxs","jsx","tab","e","voice","dx","idx","apt","rx","question","score","newAnswers"],"mappings":"4GAIA,MAAMA,EAAoB,CACxB,CAAE,GAAI,uBAAwB,KAAM,OAAQ,YAAa,mBAAA,EACzD,CAAE,GAAI,uBAAwB,KAAM,OAAQ,YAAa,iBAAA,EACzD,CAAE,GAAI,uBAAwB,KAAM,QAAS,YAAa,aAAA,EAC1D,CAAE,GAAI,uBAAwB,KAAM,SAAU,YAAa,aAAA,EAC3D,CAAE,GAAI,uBAAwB,KAAM,OAAQ,YAAa,cAAA,EACzD,CAAE,GAAI,uBAAwB,KAAM,OAAQ,YAAa,aAAA,EACzD,CAAE,GAAI,uBAAwB,KAAM,SAAU,YAAa,oBAAA,EAC3D,CAAE,GAAI,uBAAwB,KAAM,OAAQ,YAAa,sBAAA,EACzD,CAAE,GAAI,uBAAwB,KAAM,SAAU,YAAa,cAAA,EAC3D,CAAE,GAAI,uBAAwB,KAAM,SAAU,YAAa,kBAAA,CAC7D,EAEA,SAAwBC,GAAgB,CACtC,MAAMC,EAAWC,EAAA,EACX,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAQhC,QAAQ,EAGJC,EAAY,eAAe,QAAQ,YAAY,GAAG,QAAQ,MAAO,EAAE,GAAK,UACxEC,EAAcC,EAAeF,CAAS,EAEtC,CAACG,EAAkBC,CAAmB,EAAIL,EAAAA,SAAS,EAAK,EACxD,CAACM,EAAmBC,CAAoB,EAAIP,EAAAA,SAAS,EAAK,EAC1D,CAACQ,EAAoBC,CAAqB,EAAIT,EAAAA,SAAS,EAAK,EAC5D,CAACU,EAAaC,CAAc,EAAIX,EAAAA,SAAmB,IAAI,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC,EACvE,CAACY,EAAaC,CAAc,EAAIb,EAAAA,SAAmB,IAAI,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC,EACvE,CAACc,EAAeC,CAAgB,EAAIf,EAAAA,SAAS,EAAE,EAC/C,CAACgB,EAAeC,CAAgB,EAAIjB,EAAAA,SAAS,EAAE,EAC/C,CAACkB,EAAeC,CAAgB,EAAInB,EAAAA,SAAS,sBAAsB,EAEnEoB,EAAgB,CACpB,8CACA,uCACA,sDACA,wCACA,8BACA,uDACA,kCACA,sDACA,gEAAA,EAGIC,EAAgB,CACpB,uCACA,6CACA,2CACA,mBACA,gDACA,uCACA,mDAAA,EAGFC,EAAAA,UAAU,KAEgC,GAAApB,GAAa,MAAQ,mBAC7C,aAAa,QAAQ,gBAAgB,EAE9C,IAAM,CACb,GACC,CAAA,CAAE,EAEL,MAAMqB,EAAqBC,GAAoB,CAC7CL,EAAiBK,CAAO,CAC1B,EAEMC,EAA0B,MAAOC,GAAkB,CACvDrB,EAAoB,EAAI,EACxB,IAAIsB,EAAU,GAEd,OAAQD,EAAA,CACN,IAAK,cACHC,EAAU,SAASzB,GAAa,IAAI,8EAA8EA,GAAa,YAC5H,IACC0B,GAAO,YAAYA,EAAI,IAAI,KAAKA,EAAI,MAAM,KAAKA,EAAI,SAAS,QAAQA,EAAI,UAAU,GAAA,EAEnF,KACC,GAAA,CACD,2GACH,MAEF,IAAK,YACHD,EAAU,mCAAmCzB,GAAa,UAAU,KAAK,IAAI,CAAC,KAC5EA,GAAa,UAAU,CAAC,GAAG,SAAS,UAAU,EAC1C,iGACAA,GAAa,UAAU,CAAC,GAAG,SAAS,YAAY,EAC9C,yFACA,qEACR,GACA,MAEF,IAAK,OACHyB,EAAU,iCAAiCzB,GAAa,WACrD,MAAM,EAAG,CAAC,EACV,OAEG,GAAG2B,EAAI,IAAI,OAAOA,EAAI,KAAK,cAAcA,EAAI,MAAM,SAASA,EAAI,MAAM,EAAI,SAAW,wCAA0CA,EAAI,MAAM,GAAA,EAE5I,KAAK,GAAG,CAAC,8DACZ,MAEF,IAAK,SACHF,EAAU,8CAA8CzB,GAAa,WAAW,EAAE,gBAAgBA,GAAa,WAAW,EAAE,YAAYA,GAAa,WAAW,MAAM,KACpKA,GAAa,WAAW,QACpB,qBAAqBA,EAAY,WAAW,OAAO,IACnD,EACN,wDACA,MAEF,QACEyB,EAAU,SAASzB,GAAa,IAAI,gKAAA,CAGxCa,EAAiBY,CAAO,EACR,aAAa,QAAQ,gBAAgB,EAErD,WAAW,IAAMtB,EAAoB,EAAK,EAAG,GAAI,CACnD,EAEMyB,EAAa,SAAY,CAC7BrB,EAAsB,EAAI,EAC1B,MAAMsB,EAAW,SAAS7B,GAAa,IAAI,+JAC3Ce,EAAiBc,CAAQ,EACT,aAAa,QAAQ,gBAAgB,EAErD,WAAW,IAAMtB,EAAsB,EAAK,EAAG,GAAI,CACrD,EAEMuB,EAAqB,IAAMtB,EAAY,OAAO,CAACuB,EAAGC,IAAMD,EAAIC,EAAG,CAAC,EAChEC,EAAqB,IAAMvB,EAAY,OAAO,CAACqB,EAAGC,IAAMD,EAAIC,EAAG,CAAC,EAEhEE,EAAe,CACnB,CACE,GAAI,IACJ,KAAM,aACN,KAAM,WACN,OAAQ,YACR,KAAM,YACN,OAAQ,WAAA,EAEV,CACE,GAAI,IACJ,KAAM,aACN,KAAM,UACN,OAAQ,cACR,KAAM,aACN,OAAQ,WAAA,EAEV,CACE,GAAI,IACJ,KAAM,aACN,KAAM,UACN,OAAQ,YACR,KAAM,kBACN,OAAQ,WAAA,CACV,EAGF,OAAKlC,EAcHmC,EAAAA,KAAC,MAAA,CAAI,UAAU,0DAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,8BACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,OACb,SAAAD,OAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAO,QAAS,IAAM1C,EAAS,GAAG,EAAG,UAAU,oCAAoC,SAAA,QAAA,CAEpF,EACA0C,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,gBAAA,CAAc,CAAA,EACtD,EACAA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAM1C,EAAS,GAAG,EAC3B,UAAU,4CACX,SAAA,UAAA,CAAA,CAED,CAAA,CACF,EACF,EACF,EAGA0C,EAAAA,IAAC,MAAA,CAAI,UAAU,yDACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,YACb,SAAAD,OAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,oBAAqB,SAAApC,EAAY,KAAK,EACpDmC,EAAAA,KAAC,IAAA,CAAE,UAAU,yBAAyB,SAAA,CAAA,QAC9BnC,EAAY,IAAI,WAASA,EAAY,IAAI,UAAQD,CAAA,CAAA,CACzD,CAAA,EACF,EACAoC,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAAyB,SAAA,YAAS,QAC9C,IAAA,CAAE,UAAU,wBAAyB,SAAApC,EAAY,UAAU,CAAC,CAAA,CAAE,CAAA,CAAA,CACjE,CAAA,CAAA,CACF,EACF,EACF,EAGAoC,EAAAA,IAAC,MAAA,CAAI,UAAU,oBACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,OACb,SAAAA,MAAC,MAAA,CAAI,UAAU,iCAEX,SAAA,CACE,SACA,UACA,eACA,gBACA,iBACA,cACA,UAAA,EAEF,IAAIC,GACJD,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAMvC,EAAawC,CAAG,EAC/B,UAAW,oFACTzC,IAAcyC,EACV,kCACA,sDACN,GAEC,aAAQ,SACL,sBACAA,IAAQ,UACN,qBACAA,IAAQ,eACN,kBACAA,IAAQ,gBACN,mBACAA,IAAQ,iBACN,mBACAA,IAAQ,cACN,uBACA,aAAA,EApBTA,CAAA,CAsBR,CAAA,CACH,CAAA,CACF,EACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEZ,SAAA,CAAAvC,IAAc,gBACZ,MAAA,CAAI,UAAU,8BACb,SAAAuC,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,gCAA6B,EACxEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,mHAG1C,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,oCAAoC,SAAA,uBAAoB,EACzEA,EAAAA,IAAC,SAAA,CACC,MAAOpB,EACP,SAAUsB,GAAKjB,EAAkBiB,EAAE,OAAO,KAAK,EAC/C,UAAU,2DAET,WAAkB,IAAIC,UACpB,SAAA,CAAsB,MAAOA,EAAM,GACjC,SAAA,CAAAA,EAAM,KAAK,MAAIA,EAAM,WAAA,CAAA,EADXA,EAAM,EAEnB,CACD,CAAA,CAAA,CACH,EACF,EAGAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMZ,EAAwB,aAAa,EACpD,SAAUrB,EACV,UAAU,mEAEV,SAAA,CAAAkC,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,KAAE,EACjCA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAsB,SAAA,gBAAA,CAAc,CAAA,CAAA,CAAA,EAGrDD,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMZ,EAAwB,WAAW,EAClD,SAAUrB,EACV,UAAU,qEAEV,SAAA,CAAAkC,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,KAAE,EACjCA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAsB,SAAA,eAAA,CAAa,CAAA,CAAA,CAAA,EAGpDD,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMZ,EAAwB,MAAM,EAC7C,SAAUrB,EACV,UAAU,uEAEV,SAAA,CAAAkC,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,KAAE,EACjCA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAsB,SAAA,aAAA,CAAW,CAAA,CAAA,CAAA,EAGlDD,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMZ,EAAwB,QAAQ,EAC/C,SAAUrB,EACV,UAAU,uEAEV,SAAA,CAAAkC,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,KAAE,EACjCA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAsB,SAAA,aAAA,CAAW,CAAA,CAAA,CAAA,CAClD,EACF,EAGCxB,SACE,MAAA,CAAI,UAAU,iCACb,SAAAuB,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,WAAW,SAAA,KAAE,EAC5BD,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,SAAAxB,EAAc,EACnDV,GACCkC,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,aAAA,CAAW,CAAA,EAEvE,EACClC,GACCkC,EAAAA,IAAC,SAAA,CACC,UAAU,mEACX,SAAA,MAAA,CAAA,CAED,CAAA,CAEJ,CAAA,CACF,EAIFA,EAAAA,IAAC,MAAA,CAAI,UAAU,MAAA,CACf,CAAA,CAAA,CACF,CAAA,CACF,EAIDxC,IAAc,WACbuC,OAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,kBAAe,EAG1DD,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,oBAAiB,EAClDA,EAAAA,IAAC,KAAA,CAAG,UAAU,YACX,SAAApC,EAAY,UAAU,IAAI,CAACwC,EAAIC,IAC9BN,OAAC,KAAA,CAAa,UAAU,8BACtB,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,iBAAiB,SAAA,IAAC,EAClCA,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAW,SAAAI,CAAA,CAAG,CAAA,CAAA,EAFvBC,CAGT,CACD,CAAA,CACH,CAAA,EACF,EAGAN,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,qBAAkB,QAClD,MAAA,CAAI,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,iBACf,SAAA,CAAAC,MAAC,QAAA,CACC,SAAAD,EAAAA,KAAC,KAAA,CAAG,UAAU,WACZ,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,iBAAiB,SAAA,OAAI,EACnCA,EAAAA,IAAC,KAAA,CAAG,UAAU,iBAAiB,SAAA,SAAM,EACrCA,EAAAA,IAAC,KAAA,CAAG,UAAU,iBAAiB,SAAA,SAAM,EACrCA,EAAAA,IAAC,KAAA,CAAG,UAAU,iBAAiB,SAAA,MAAA,CAAI,CAAA,CAAA,CACrC,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CACE,SAAApC,EAAY,WAAW,IAAI,CAAC2B,EAAKc,IAChCN,EAAAA,KAAC,KAAA,CAAa,UAAU,WACtB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,OAAQ,SAAAT,EAAI,KAAK,EAC/BS,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAoB,WAAI,MAAM,EAC5CA,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAsB,WAAI,OAAO,EAC/CA,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAsB,WAAI,IAAA,CAAK,CAAA,CAAA,EAJtCK,CAKT,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGAN,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,sBAAmB,EACpDD,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,iBAAc,QAClD,IAAA,CAAE,UAAU,gBAAiB,SAAApC,EAAY,WAAW,EAAA,CAAG,CAAA,EAC1D,SACC,MAAA,CACC,SAAA,CAAAoC,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,aAAU,EAC/CD,EAAAA,KAAC,IAAA,CAAE,UAAU,gBAAiB,SAAA,CAAAnC,EAAY,WAAW,GAAG,MAAA,CAAA,CAAI,CAAA,EAC9D,SACC,MAAA,CACC,SAAA,CAAAoC,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,SAAM,QAC1C,IAAA,CAAE,UAAU,gBAAiB,SAAApC,EAAY,WAAW,MAAA,CAAO,CAAA,EAC9D,SACC,MAAA,CACC,SAAA,CAAAoC,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,MAAG,QACvC,IAAA,CAAE,UAAU,gBAAiB,SAAApC,EAAY,WAAW,GAAA,CAAI,CAAA,EAC3D,EACCA,EAAY,WAAW,SACtBmC,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,UAAO,QAC3C,IAAA,CAAE,UAAU,gBAAiB,SAAApC,EAAY,WAAW,OAAA,CAAQ,CAAA,CAAA,CAC/D,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,EACF,EAIDJ,IAAc,gBACbuC,OAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,wBAAqB,EAC3DA,EAAAA,IAAC,SAAA,CAAO,UAAU,0EAA0E,SAAA,cAAA,CAE5F,CAAA,EACF,QACC,MAAA,CAAI,UAAU,6BACb,SAAAA,MAAC,MAAA,CAAI,UAAU,WACZ,SAAAF,EAAa,IAAIQ,SACf,MAAA,CAAiB,UAAU,uBAC1B,SAAAP,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,cACV,SAAA,CAAAO,EAAI,KAAK,SAAOA,EAAI,MAAA,EACvB,EACAP,EAAAA,KAAC,IAAA,CAAE,UAAU,wBACV,SAAA,CAAAO,EAAI,KAAK,OAAKA,EAAI,IAAA,CAAA,CACrB,CAAA,EACF,EACAP,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,6DACb,SAAAM,EAAI,OACP,EACAN,EAAAA,IAAC,SAAA,CAAO,UAAU,4CAA4C,SAAA,YAAA,CAE9D,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAlBQM,EAAI,EAmBd,CACD,EACH,CAAA,CACF,CAAA,EACF,EAID9C,IAAc,iBACbuC,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,uBAAoB,EAC/DA,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACZ,SAAApC,EAAY,YAAY,IAAI,CAAC2C,EAAIF,IAChCN,OAAC,MAAA,CAAc,UAAU,iCACvB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAsB,SAAAO,EAAG,KAAK,EAC5CR,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,UAAO,EACvCA,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAG,MAAA,CAAO,CAAA,EAC3C,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,aAAU,EAC1CA,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAG,SAAA,CAAU,CAAA,EAC9C,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,OAAI,EACpCA,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAG,UAAA,CAAW,CAAA,CAAA,CAC/C,CAAA,EACF,EACAA,EAAAA,IAAC,SAAA,CAAO,UAAU,mFAAmF,SAAA,gBAAA,CAErG,CAAA,CAAA,EAlBQK,CAmBV,CACD,CAAA,CACH,CAAA,EACF,EAID7C,IAAc,kBACbuC,OAAC,MAAA,CAAI,UAAU,8BAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,6BAA0B,EACrEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,8DAE1C,EACClB,EAAc,IAAI,CAAC0B,EAAUH,IAC5BN,OAAC,MAAA,CAAc,UAAU,OACvB,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,eACV,SAAA,CAAAM,EAAM,EAAE,KAAGG,CAAA,EACd,EACAR,MAAC,MAAA,CAAI,UAAU,iBACZ,UAAC,EAAG,EAAG,EAAG,CAAC,EAAE,IAAIS,GAChBV,EAAAA,KAAC,QAAA,CAAkB,UAAU,oBAC3B,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,KAAM,QAAQK,CAAG,GACjB,MAAOI,EACP,QAASrC,EAAYiC,CAAG,IAAMI,EAC9B,SAAU,IAAM,CACd,MAAMC,EAAa,CAAC,GAAGtC,CAAW,EAClCsC,EAAWL,CAAG,EAAII,EAClBpC,EAAeqC,CAAU,CAC3B,EACA,UAAU,MAAA,CAAA,EAEZV,EAAAA,IAAC,OAAA,CAAK,UAAU,UACb,SAAAS,IAAU,EACP,aACAA,IAAU,EACR,eACAA,IAAU,EACR,iBACA,kBAAA,CACV,CAAA,CAAA,EArBUA,CAsBZ,CACD,CAAA,CACH,CAAA,CAAA,EA9BQJ,CA+BV,CACD,EACDN,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,cAAc,SAAA,CAAA,gBAAcL,EAAA,CAAmB,EAAE,EAC9DM,MAAC,KAAE,UAAU,6BACV,aAAuB,EACpB,qBACAN,EAAA,EAAuB,GACrB,kBACAA,EAAA,EAAuB,GACrB,sBACAA,IAAuB,GACrB,+BACA,mBAAA,CACZ,CAAA,CAAA,CACF,CAAA,EACF,EAGAK,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,0BAAuB,EAClEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,8DAE1C,EACCjB,EAAc,IAAI,CAACyB,EAAUH,IAC5BN,OAAC,MAAA,CAAc,UAAU,OACvB,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,eACV,SAAA,CAAAM,EAAM,EAAE,KAAGG,CAAA,EACd,EACAR,MAAC,MAAA,CAAI,UAAU,iBACZ,UAAC,EAAG,EAAG,EAAG,CAAC,EAAE,IAAIS,GAChBV,EAAAA,KAAC,QAAA,CAAkB,UAAU,oBAC3B,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,KAAM,QAAQK,CAAG,GACjB,MAAOI,EACP,QAASnC,EAAY+B,CAAG,IAAMI,EAC9B,SAAU,IAAM,CACd,MAAMC,EAAa,CAAC,GAAGpC,CAAW,EAClCoC,EAAWL,CAAG,EAAII,EAClBlC,EAAemC,CAAU,CAC3B,EACA,UAAU,MAAA,CAAA,EAEZV,EAAAA,IAAC,OAAA,CAAK,UAAU,UACb,SAAAS,IAAU,EACP,aACAA,IAAU,EACR,eACAA,IAAU,EACR,iBACA,kBAAA,CACV,CAAA,CAAA,EArBUA,CAsBZ,CACD,CAAA,CACH,CAAA,CAAA,EA9BQJ,CA+BV,CACD,EACDN,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,cAAc,SAAA,CAAA,gBAAcF,EAAA,CAAmB,EAAE,QAC7D,IAAA,CAAE,UAAU,6BACV,SAAAA,EAAA,EAAuB,EACpB,kBACAA,EAAA,EAAuB,GACrB,eACAA,EAAA,EAAuB,GACrB,mBACA,gBAAA,CACV,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAIDrC,IAAc,eACbwC,EAAAA,IAAC,MAAA,CAAI,UAAU,8BACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,4BAAyB,EACpEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,qGAG1C,EAEAA,EAAAA,IAAC,MAAA,CAAI,UAAU,mBACb,SAAAA,EAAAA,IAAC,SAAA,CACC,QAASR,EACT,SAAUtB,EACV,UAAU,oFAET,WAAqB,yBAA2B,yBAAA,CAAA,EAErD,EAECQ,SACE,MAAA,CAAI,UAAU,kCACb,SAAAqB,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,WAAW,SAAA,QAAK,SAC9B,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAA0B,SAAAtB,EAAc,EACpDR,GACC8B,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,cAAA,CAAY,CAAA,CAAA,CAEzE,CAAA,CAAA,CACF,CAAA,CACF,EAGFD,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CAAO,UAAU,+CAChB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,KAAE,EACjCA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAsB,SAAA,sBAAA,CAAoB,CAAA,EAC3D,EACAD,EAAAA,KAAC,SAAA,CAAO,UAAU,+CAChB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,KAAE,EACjCA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAsB,SAAA,gBAAA,CAAc,CAAA,EACrD,EACAD,EAAAA,KAAC,SAAA,CAAO,UAAU,+CAChB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,IAAC,EAChCA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBAAsB,SAAA,cAAA,CAAY,CAAA,CAAA,CACnD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAIDxC,IAAc,YACbuC,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,kBAAe,QACzD,MAAA,CAAI,UAAU,iCACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAU,uCACV,KAAK,OACL,OAAO,eACP,QAAQ,YAER,SAAAA,EAAAA,IAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAY,IACZ,EAAE,sGAAA,CAAA,CACJ,CAAA,EAEFA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,kBAAe,EAC5CA,EAAAA,IAAC,SAAA,CAAO,UAAU,uEAAuE,SAAA,wBAAA,CAEzF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EACF,QAlhBG,MAAA,CAAI,UAAU,2DACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,oBAAiB,EACrEA,EAAAA,IAAC,UAAO,QAAS,IAAM1C,EAAS,GAAG,EAAG,UAAU,yCAAyC,SAAA,gBAAA,CAEzF,CAAA,CAAA,CACF,CAAA,CACF,CA6gBN"}