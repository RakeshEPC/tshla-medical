import{u as N,r as i,j as e}from"./index-CFDQeSWK.js";import{s as x}from"./sliderMCP.service-ICEX2AIu.js";import"./openai.service-CgQn0nV5.js";const A=()=>{const d=N(),[r,c]=i.useState(null),[h,g]=i.useState(!0),u=()=>{console.log("🔄 User clicked retake assessment - clearing all cache..."),x.clearAllCache(),d("/pumpdrive/unified")};i.useEffect(()=>{b()},[]);const b=async()=>{try{console.log("📋 Loading assessment data...");const s=sessionStorage.getItem("pumpDriveSliders"),t=s?JSON.parse(s):{},a=sessionStorage.getItem("pumpDriveSelectedFeatures"),l=a?JSON.parse(a):[],o=sessionStorage.getItem("pumpDriveFreeText"),m=(o?JSON.parse(o):{}).currentSituation||"";console.log("🔍 Loaded data:",{sliderValues:t,selectedFeatures:l,freeText:m});const n={sliderValues:t,selectedFeatures:l,freeText:m};if(c(n),Object.keys(t).length>0){console.log("🤖 Generating AI recommendation...");const v=await x.generateRecommendation(t,l);n.recommendation=v,c({...n})}}catch(s){console.error("❌ Error loading assessment data:",s)}finally{g(!1)}},p=(s,t)=>({...{activity:{name:"Activity Level",emoji:"🏃"},techComfort:{name:"Technology Love",emoji:"📱"},simplicity:{name:"Advanced Features",emoji:"🎛️"},discreteness:{name:"Privacy Needs",emoji:"🤫"},timeDedication:{name:"Time for Care",emoji:"⏰"}}[s]||{name:s,emoji:"⚙️"},interpretation:j(s,t)}),j=(s,t)=>{const a={activity:{low:"Mostly sedentary, prefers comfort",medium:"Moderately active lifestyle",high:"Very active, always moving"},techComfort:{low:"Prefers simple, basic technology",medium:"Comfortable with everyday tech",high:"Loves technology, early adopter"},simplicity:{low:"Wants simple, straightforward devices",medium:"Likes some features, not overwhelming",high:"Enjoys advanced features and control"},discreteness:{low:"Device must be completely hidden",medium:"Prefers discreet but flexible",high:"Function over appearance"},timeDedication:{low:"Wants set-and-forget simplicity",medium:"Willing to do basic maintenance",high:"Happy to optimize for best results"}},l=t<=3?"low":t>=7?"high":"medium";return a[s]?.[l]||`Score: ${t}/10`};return h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-6"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Loading Your Assessment Results..."}),e.jsx("p",{className:"text-gray-600",children:"Gathering your preferences and generating recommendations"})]})})}):r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"📊 Your Assessment Results"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Here's exactly what you told us and how it influenced your recommendations"}),e.jsx("div",{className:"w-24 h-1 bg-blue-500 mx-auto mt-4 rounded"})]}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:Object.keys(r.sliderValues).length}),e.jsx("div",{className:"text-blue-800 font-semibold",children:"Lifestyle Preferences"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Slider responses"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:r.selectedFeatures.length}),e.jsx("div",{className:"text-green-800 font-semibold",children:"Selected Features"}),e.jsx("div",{className:"text-sm text-green-600",children:"Appealing pump features"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:r.freeText.length}),e.jsx("div",{className:"text-purple-800 font-semibold",children:"Story Characters"}),e.jsx("div",{className:"text-sm text-purple-600",children:"Personal context shared"})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"🎚️"}),"Your Lifestyle Preferences"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(r.sliderValues).map(([s,t])=>{const a=p(s,t);return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:a.emoji}),e.jsx("span",{className:"font-semibold text-gray-800",children:a.name})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[t,"/10"]})})]}),e.jsx("div",{className:"text-sm text-gray-600 ml-11",children:a.interpretation}),e.jsx("div",{className:"mt-2 ml-11",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-red-400 via-yellow-400 to-green-400 h-2 rounded-full transition-all",style:{width:`${t*10}%`}})})})]},s)})})]}),r.selectedFeatures.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"⭐"}),"Features You Selected"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.selectedFeatures.map((s,t)=>e.jsx("div",{className:"p-4 bg-green-50 rounded-lg border-l-4 border-green-400",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:s.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:s.title}),e.jsx("div",{className:"text-sm text-gray-600",children:s.description})]})]})},t))})]}),r.freeText&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"💭"}),"Your Personal Story"]}),e.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border-l-4 border-purple-400",children:e.jsxs("blockquote",{className:"text-lg text-gray-700 leading-relaxed italic",children:['"',r.freeText,'"']})})]}),r.recommendation&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"🤖"}),"AI Recommendations Based on Your Assessment"]}),e.jsx("div",{className:"space-y-6",children:r.recommendation.recommendation.topPumps.map((s,t)=>e.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.pumpName}),e.jsxs("div",{className:"text-lg text-gray-600",children:["Match Score: ",s.score,"%"]})]}),e.jsx("div",{className:"text-4xl",children:t===0?"🏆":t===1?"🥈":"🥉"})]}),e.jsx("div",{className:"space-y-2",children:s.matchFactors.map((a,l)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),e.jsx("span",{className:"text-gray-700",children:a})]},l))})]},s.pumpId))})]}),e.jsxs("div",{className:"text-center space-x-4",children:[e.jsx("button",{onClick:u,className:"px-8 py-3 rounded-xl text-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 transition-all",children:"↩️ Retake Assessment"}),e.jsx("button",{onClick:()=>window.print(),className:"px-8 py-3 rounded-xl text-lg font-semibold bg-green-600 text-white hover:bg-green-700 transition-all",children:"🖨️ Print Results"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h1",{className:"text-3xl font-bold text-red-800 mb-4",children:"❌ No Assessment Data Found"}),e.jsx("p",{className:"text-red-600 mb-8",children:"Please complete the assessment first to see your results."}),e.jsx("button",{onClick:()=>d("/pumpdrive/unified"),className:"px-8 py-3 rounded-xl text-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 transition-all",children:"Start Assessment"})]})})})};export{A as default};
//# sourceMappingURL=PumpDriveAssessmentResults-ABbsHvwm.js.map
