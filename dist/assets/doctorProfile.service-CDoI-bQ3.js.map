{"version":3,"file":"doctorProfile.service-CDoI-bQ3.js","sources":["../../src/services/templateAPI.service.ts","../../src/data/standardTemplates.ts","../../src/services/doctorProfile.service.ts"],"sourcesContent":["/**\n * Template API Service\n * Handles server-side storage of doctor templates\n */\n\nimport type { DoctorTemplate, DoctorSettings, DoctorProfile } from './doctorProfile.service';\nimport { logError, logWarn, logInfo, logDebug } from './logger.service';\n\nconst API_BASE = import.meta.env.VITE_API_URL || 'https://api.tshla.ai/api';\n\nclass TemplateAPIService {\n  private authToken: string | null = null;\n\n  constructor() {\n    // Get auth token from localStorage\n    this.authToken = localStorage.getItem('auth_token');\n  }\n\n  /**\n   * Get headers with authentication\n   */\n  private getHeaders(): HeadersInit {\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    if (this.authToken) {\n      headers['Authorization'] = `Bearer ${this.authToken}`;\n    }\n\n    return headers;\n  }\n\n  /**\n   * Save doctor profile to server with timeout and retry\n   */\n  async saveProfile(profile: DoctorProfile): Promise<boolean> {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 15000); // 15 second timeout\n\n      const response = await fetch(`${API_BASE}/api/doctor-profiles`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({\n          doctorId: profile.doctorId,\n          settings: profile.settings,\n          templates: profile.templates,\n          recentTemplates: profile.recentTemplates,\n          favoriteTemplates: profile.favoriteTemplates,\n        }),\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        throw new Error(`Failed to save profile: ${response.statusText}`);\n      }\n\n      logInfo('templateAPI', 'Info message', {});\n      return true;\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        logWarn('templateAPI', 'Warning message', {});\n      } else {\n        logError('templateAPI', 'Error message', {});\n      }\n\n      // Fallback: Save to localStorage on API failure\n      try {\n        localStorage.setItem(`doctor_profile_${profile.doctorId}`, JSON.stringify(profile));\n        logDebug('templateAPI', 'Debug message', {});\n      } catch (localError) {\n        logError('templateAPI', 'Error message', {});\n      }\n\n      return false;\n    }\n  }\n\n  /**\n   * Load doctor profile from server\n   */\n  async loadProfile(doctorId: string): Promise<DoctorProfile | null> {\n    try {\n      const response = await fetch(`${API_BASE}/api/doctor-profiles/${doctorId}`, {\n        method: 'GET',\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        if (response.status === 404) {\n          // Profile doesn't exist yet\n          return null;\n        }\n        throw new Error(`Failed to load profile: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      logError('templateAPI', 'Error message', {});\n      return null;\n    }\n  }\n\n  /**\n   * Save individual template to server with timeout and fallback\n   */\n  async saveTemplate(template: DoctorTemplate, doctorId: string): Promise<boolean> {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout\n\n      const response = await fetch(`${API_BASE}/api/templates`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({\n          id: template.id,\n          doctorId: doctorId,\n          name: template.name,\n          description: template.description,\n          visitType: template.visitType,\n          isDefault: template.isDefault,\n          sections: template.sections,\n          generalInstructions: template.generalInstructions,\n          createdAt: template.createdAt,\n          updatedAt: template.updatedAt,\n          usageCount: template.usageCount,\n        }),\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        throw new Error(`Failed to save template: ${response.statusText}`);\n      }\n\n      logInfo('templateAPI', 'Info message', {});\n      return true;\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        logWarn('templateAPI', 'Warning message', {});\n      } else {\n        logError('templateAPI', 'Error message', {});\n      }\n\n      // Fallback: Save to localStorage\n      try {\n        const localTemplates = JSON.parse(\n          localStorage.getItem(`doctor_templates_${doctorId}`) || '[]'\n        );\n        const existingIndex = localTemplates.findIndex((t: any) => t.id === template.id);\n\n        if (existingIndex >= 0) {\n          localTemplates[existingIndex] = template;\n        } else {\n          localTemplates.push(template);\n        }\n\n        localStorage.setItem(`doctor_templates_${doctorId}`, JSON.stringify(localTemplates));\n        logDebug('templateAPI', 'Debug message', {});\n        return true;\n      } catch (localError) {\n        logError('templateAPI', 'Error message', {});\n        return false;\n      }\n    }\n  }\n\n  /**\n   * Update existing template\n   */\n  async updateTemplate(templateId: string, template: DoctorTemplate): Promise<boolean> {\n    try {\n      const response = await fetch(`${API_BASE}/api/templates/${templateId}`, {\n        method: 'PUT',\n        headers: this.getHeaders(),\n        body: JSON.stringify(template),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to update template: ${response.statusText}`);\n      }\n\n      return true;\n    } catch (error) {\n      logError('templateAPI', 'Error message', {});\n      return false;\n    }\n  }\n\n  /**\n   * Delete template from server\n   */\n  async deleteTemplate(templateId: string): Promise<boolean> {\n    try {\n      const response = await fetch(`${API_BASE}/api/templates/${templateId}`, {\n        method: 'DELETE',\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to delete template: ${response.statusText}`);\n      }\n\n      return true;\n    } catch (error) {\n      logError('templateAPI', 'Error message', {});\n      return false;\n    }\n  }\n\n  /**\n   * Get all templates for a doctor\n   */\n  async getTemplates(doctorId: string): Promise<DoctorTemplate[]> {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n\n      const response = await fetch(`${API_BASE}/api/templates?doctorId=${doctorId}`, {\n        method: 'GET',\n        headers: this.getHeaders(),\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (response.ok) {\n        const templates = await response.json();\n        logInfo('templateAPI', 'Successfully retrieved templates from server', {});\n        return templates;\n      } else {\n        throw new Error(`API error: ${response.status} ${response.statusText}`);\n      }\n    } catch (error) {\n      logWarn('templateAPI', 'Failed to load templates from server, using defaults', { error: error.message });\n\n      // Fallback: Check localStorage for cached templates\n      try {\n        const localTemplates = JSON.parse(\n          localStorage.getItem(`doctor_templates_${doctorId}`) || '[]'\n        );\n        if (localTemplates.length > 0) {\n          logDebug('templateAPI', 'Using cached templates from localStorage', {});\n          return localTemplates;\n        }\n      } catch (storageError) {\n        logWarn('templateAPI', 'Failed to read cached templates', {});\n      }\n\n      // Ultimate fallback: Default templates\n      logInfo('templateAPI', 'Using default templates', {});\n      return this.getDefaultTemplates();\n    }\n  }\n\n  /**\n   * Save settings to server\n   */\n  async saveSettings(settings: DoctorSettings, doctorId: string): Promise<boolean> {\n    try {\n      const response = await fetch(`${API_BASE}/api/doctor-settings`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({\n          doctorId,\n          settings,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to save settings: ${response.statusText}`);\n      }\n\n      return true;\n    } catch (error) {\n      logError('templateAPI', 'Error message', {});\n      return false;\n    }\n  }\n\n  /**\n   * Load settings from server\n   */\n  async loadSettings(doctorId: string): Promise<DoctorSettings | null> {\n    try {\n      const response = await fetch(`${API_BASE}/api/doctor-settings/${doctorId}`, {\n        method: 'GET',\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        if (response.status === 404) {\n          return null;\n        }\n        throw new Error(`Failed to load settings: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      return data.settings;\n    } catch (error) {\n      logError('templateAPI', 'Error message', {});\n      return null;\n    }\n  }\n\n  /**\n   * Toggle favorite template\n   */\n  async toggleFavorite(templateId: string, doctorId: string): Promise<boolean> {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000);\n\n      const response = await fetch(`${API_BASE}/api/templates/${templateId}/toggle-favorite`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({ doctorId }),\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        throw new Error(`Failed to toggle favorite: ${response.statusText}`);\n      }\n\n      const result = await response.json();\n      logInfo('templateAPI', 'Successfully toggled favorite template', {});\n      return result.isFavorite;\n    } catch (error) {\n      logError('templateAPI', 'Failed to toggle favorite template', { error: error.message });\n      throw error;\n    }\n  }\n\n  /**\n   * Set default template\n   */\n  async setDefaultTemplate(\n    templateId: string,\n    doctorId: string,\n    visitType?: string\n  ): Promise<boolean> {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000);\n\n      const response = await fetch(`${API_BASE}/api/templates/${templateId}/set-default`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({ doctorId, visitType }),\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        throw new Error(`Failed to set default template: ${response.statusText}`);\n      }\n\n      logInfo('templateAPI', 'Successfully set default template', {});\n      return true;\n    } catch (error) {\n      logError('templateAPI', 'Failed to set default template', { error: error.message });\n      throw error;\n    }\n  }\n\n  /**\n   * Duplicate template\n   */\n  async duplicateTemplate(templateId: string, newName: string, doctorId: string): Promise<string> {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000);\n\n      const response = await fetch(`${API_BASE}/api/templates/${templateId}/duplicate`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({ newName, doctorId }),\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        throw new Error(`Failed to duplicate template: ${response.statusText}`);\n      }\n\n      const result = await response.json();\n      logInfo('templateAPI', 'Successfully duplicated template', {});\n      return result.newTemplateId;\n    } catch (error) {\n      logError('templateAPI', 'Failed to duplicate template', { error: error.message });\n      throw error;\n    }\n  }\n\n  /**\n   * Get default templates when API is unavailable\n   */\n  private getDefaultTemplates(): DoctorTemplate[] {\n    return [\n      {\n        id: 'default-soap-note',\n        name: 'Comprehensive SOAP Note',\n        description: 'Complete SOAP note template for general medical visits',\n        visitType: 'comprehensive',\n        isDefault: true,\n        sections: {\n          chiefComplaint: {\n            order: 1,\n            title: 'Chief Complaint',\n            format: 'paragraph',\n            keywords: ['presents with', 'complains of', 'here for', 'follow-up'],\n            required: true,\n            exampleText: 'Patient presents with 3-day history of progressive shortness of breath and chest tightness.',\n            aiInstructions: 'Extract the primary reason for the visit. Be concise - typically 1-2 sentences describing the main problem or symptom that brought the patient in today.'\n          },\n          historyOfPresentIllness: {\n            order: 2,\n            title: 'History of Present Illness',\n            format: 'paragraph',\n            keywords: ['started', 'began', 'noticed', 'worse', 'better', 'tried'],\n            required: true,\n            exampleText: 'The patient reports symptoms began 3 days ago with mild dyspnea on exertion...',\n            aiInstructions: 'Provide a detailed narrative of the current illness including: onset, location, duration, character, aggravating/relieving factors, associated symptoms, and treatments tried. Use chronological order.'\n          },\n          reviewOfSystems: {\n            order: 3,\n            title: 'Review of Systems',\n            format: 'bullets',\n            keywords: ['denies', 'reports', 'positive for', 'negative for'],\n            required: false,\n            exampleText: '• Constitutional: Denies fever, chills, weight loss\\n• Cardiovascular: Positive for chest tightness, denies palpitations',\n            aiInstructions: 'Document pertinent positives and negatives for each system reviewed. Group by system (Constitutional, HEENT, Cardiovascular, Respiratory, etc.). Use \"Denies\" for negative findings.'\n          },\n          pastMedicalHistory: {\n            order: 4,\n            title: 'Past Medical History',\n            format: 'bullets',\n            keywords: ['history of', 'diagnosed', 'surgery', 'hospitalization'],\n            required: true,\n            exampleText: '• Type 2 Diabetes Mellitus (2018)\\n• Hypertension (2015)\\n• Appendectomy (2010)',\n            aiInstructions: 'List all chronic medical conditions, past surgeries, and significant past illnesses. Include year of diagnosis when mentioned. List each condition on a separate line.'\n          },\n          medications: {\n            order: 5,\n            title: 'Medications',\n            format: 'bullets',\n            keywords: ['taking', 'mg', 'daily', 'twice', 'PRN'],\n            required: true,\n            exampleText: '• Metformin 1000mg, twice daily, PO\\n• Lisinopril 10mg, daily, PO\\n• Aspirin 81mg, daily, PO',\n            aiInstructions: 'List all current medications with dosages, frequency, and route. Include both prescription and OTC medications. Format: Drug name dose, frequency, route.'\n          },\n          allergies: {\n            order: 6,\n            title: 'Allergies',\n            format: 'paragraph',\n            keywords: ['allergic', 'reaction', 'NKDA', 'intolerance'],\n            required: true,\n            exampleText: 'Penicillin (rash), Sulfa drugs (anaphylaxis)',\n            aiInstructions: 'List drug allergies and reactions. If no known allergies, state \"NKDA\". Include reaction type if mentioned.'\n          },\n          physicalExam: {\n            order: 7,\n            title: 'Physical Examination',\n            format: 'paragraph',\n            keywords: ['BP', 'HR', 'temp', 'appears', 'examination', 'palpation', 'auscultation'],\n            required: true,\n            exampleText: 'Vitals: BP 142/88, HR 92, Temp 98.6°F, RR 18, SpO2 96% on RA\\nGeneral: Alert, oriented, in mild distress...',\n            aiInstructions: 'Document vital signs first, then examination findings by system. Include pertinent positives and negatives. Be specific with measurements and descriptions.'\n          },\n          assessment: {\n            order: 8,\n            title: 'Assessment',\n            format: 'numbered',\n            keywords: ['diagnosis', 'ICD', 'differential', 'impression'],\n            required: true,\n            exampleText: '1. Acute exacerbation of asthma (J45.9)\\n2. Hypertension, uncontrolled (I10)',\n            aiInstructions: 'List diagnoses being addressed today with ICD-10 codes if available. Number each diagnosis. Include differential diagnoses for new problems.'\n          },\n          plan: {\n            order: 9,\n            title: 'Plan',\n            format: 'numbered',\n            keywords: ['continue', 'start', 'discontinue', 'follow-up', 'refer', 'order'],\n            required: true,\n            exampleText: '1. Acute asthma exacerbation:\\n   - Start albuterol nebulizer treatments\\n   - Prescribe prednisone 40mg daily x 5 days',\n            aiInstructions: 'Outline the treatment plan for each diagnosis. Include medications, procedures, follow-up instructions, and patient education. Number each item to correspond with assessment.'\n          }\n        },\n        generalInstructions: 'Create a comprehensive, professional medical note that captures all relevant clinical information.',\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        usageCount: 0\n      },\n      {\n        id: 'default-diabetes-followup',\n        name: 'Diabetes Follow-up',\n        description: 'Specialized template for diabetes management visits',\n        visitType: 'follow-up',\n        isDefault: false,\n        sections: {\n          chiefComplaint: {\n            order: 1,\n            title: 'Chief Complaint',\n            format: 'paragraph',\n            keywords: ['diabetes', 'blood sugar', 'glucose', 'A1C', 'follow-up'],\n            required: true,\n            aiInstructions: 'Focus on diabetes-related concerns, glucose control issues, or diabetes complications.'\n          },\n          bloodGlucoseHistory: {\n            order: 2,\n            title: 'Blood Glucose History',\n            format: 'paragraph',\n            keywords: ['glucose', 'blood sugar', 'readings', 'hypoglycemia', 'fasting', 'post-meal'],\n            required: true,\n            aiInstructions: 'Document recent glucose readings, patterns, frequency of monitoring, and any hypoglycemic episodes. Include timing (fasting, post-meal, bedtime).'\n          },\n          medicationCompliance: {\n            order: 3,\n            title: 'Medication Compliance',\n            format: 'paragraph',\n            keywords: ['compliance', 'adherence', 'missed doses', 'side effects'],\n            required: true,\n            aiInstructions: 'Assess compliance with diabetes medications, insulin dosing, timing, and any side effects or concerns.'\n          },\n          diabeticComplications: {\n            order: 4,\n            title: 'Diabetic Complications Screening',\n            format: 'bullets',\n            keywords: ['neuropathy', 'nephropathy', 'retinopathy', 'complications'],\n            required: true,\n            aiInstructions: 'Document screening for diabetic complications: neuropathy, nephropathy, retinopathy, cardiovascular disease.'\n          },\n          lifestyleFactors: {\n            order: 5,\n            title: 'Lifestyle Factors',\n            format: 'paragraph',\n            keywords: ['diet', 'exercise', 'weight', 'carbohydrates'],\n            required: false,\n            aiInstructions: 'Document diet, exercise, weight management, and diabetes self-care activities.'\n          },\n          physicalExam: {\n            order: 6,\n            title: 'Physical Examination',\n            format: 'paragraph',\n            keywords: ['feet', 'neuropathy', 'BP', 'weight', 'BMI'],\n            required: true,\n            aiInstructions: 'Focus on diabetic-specific exam: feet inspection, neurological assessment, blood pressure, weight, BMI.'\n          },\n          laboratoryResults: {\n            order: 7,\n            title: 'Laboratory Results',\n            format: 'bullets',\n            keywords: ['A1C', 'HbA1c', 'creatinine', 'eGFR', 'cholesterol'],\n            required: true,\n            aiInstructions: 'Document A1C, lipid panel, kidney function (creatinine, eGFR, microalbumin), and other relevant labs.'\n          },\n          assessment: {\n            order: 8,\n            title: 'Assessment',\n            format: 'numbered',\n            keywords: ['controlled', 'uncontrolled', 'target', 'goal'],\n            required: true,\n            aiInstructions: 'Assess diabetes control status, complications present, and medication effectiveness. Include goal A1C and current status.'\n          },\n          plan: {\n            order: 9,\n            title: 'Plan',\n            format: 'numbered',\n            keywords: ['adjust', 'continue', 'increase', 'follow-up', 'refer'],\n            required: true,\n            aiInstructions: 'Include medication adjustments, lifestyle counseling, follow-up timing, lab orders, and referrals if needed.'\n          }\n        },\n        generalInstructions: 'Focus on diabetes management, glucose control, and complication prevention.',\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        usageCount: 0\n      },\n      {\n        id: 'default-quick-progress',\n        name: 'Quick Progress Note',\n        description: 'Brief template for follow-up visits and routine checks',\n        visitType: 'progress',\n        isDefault: false,\n        sections: {\n          chiefComplaint: {\n            order: 1,\n            title: 'Reason for Visit',\n            format: 'paragraph',\n            keywords: ['follow-up', 'routine', 'check', 'medication'],\n            required: true,\n            aiInstructions: 'Brief description of why the patient is here today.'\n          },\n          intervalHistory: {\n            order: 2,\n            title: 'Interval History',\n            format: 'paragraph',\n            keywords: ['since last visit', 'new symptoms', 'changes', 'concerns'],\n            required: true,\n            aiInstructions: 'Document what has happened since the last visit, any new symptoms or concerns.'\n          },\n          currentMedications: {\n            order: 3,\n            title: 'Current Medications',\n            format: 'bullets',\n            keywords: ['continuing', 'stopped', 'changed', 'compliance'],\n            required: true,\n            aiInstructions: 'List current medications and any changes since last visit.'\n          },\n          briefExam: {\n            order: 4,\n            title: 'Focused Physical Exam',\n            format: 'paragraph',\n            keywords: ['vitals', 'appears', 'focused', 'pertinent'],\n            required: true,\n            aiInstructions: 'Document vital signs and focused physical examination relevant to the visit.'\n          },\n          assessment: {\n            order: 5,\n            title: 'Assessment',\n            format: 'bullets',\n            keywords: ['stable', 'improved', 'unchanged', 'concerning'],\n            required: true,\n            aiInstructions: 'Brief assessment of current conditions and their status.'\n          },\n          plan: {\n            order: 6,\n            title: 'Plan',\n            format: 'bullets',\n            keywords: ['continue', 'follow-up', 'return', 'contact'],\n            required: true,\n            aiInstructions: 'Simple plan including medication continuations, follow-up timing, and patient instructions.'\n          }\n        },\n        generalInstructions: 'Keep this note concise and focused on the specific reason for today\\'s visit.',\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        usageCount: 0\n      }\n    ];\n  }\n}\n\n// Export singleton instance\nexport const templateAPIService = new TemplateAPIService();\n","/**\n * Standard Templates for All Doctors\n * These templates are provided by default to all doctors as examples\n */\n\nimport type { DoctorTemplate } from '../services/doctorProfile.service';\n\nexport const standardTemplates: Omit<\n  DoctorTemplate,\n  'id' | 'createdAt' | 'updatedAt' | 'usageCount'\n>[] = [\n  {\n    name: 'Comprehensive SOAP Note',\n    description: 'Standard SOAP format for general visits',\n    visitType: 'general',\n    isDefault: true,\n    sections: {\n      chiefComplaint: {\n        title: 'Chief Complaint',\n        aiInstructions:\n          'Extract the primary reason for the visit. Be concise - typically 1-2 sentences describing the main problem or symptom that brought the patient in today.',\n        required: true,\n        order: 1,\n        keywords: ['presents with', 'complains of', 'here for', 'follow-up'],\n        format: 'paragraph',\n        exampleText:\n          'Patient presents with 3-day history of progressive shortness of breath and chest tightness.',\n      },\n      historyOfPresentIllness: {\n        title: 'History of Present Illness',\n        aiInstructions:\n          'Provide a detailed narrative of the current illness including: onset, location, duration, character, aggravating/relieving factors, associated symptoms, and treatments tried. Use chronological order.',\n        required: true,\n        order: 2,\n        keywords: ['started', 'began', 'noticed', 'worse', 'better', 'tried'],\n        format: 'paragraph',\n        exampleText:\n          'The patient reports symptoms began 3 days ago with mild dyspnea on exertion...',\n      },\n      reviewOfSystems: {\n        title: 'Review of Systems',\n        aiInstructions:\n          \"Document pertinent positives and negatives for each system reviewed. Group by system (Constitutional, HEENT, Cardiovascular, Respiratory, etc.). Use 'Denies' for negative findings.\",\n        required: false,\n        order: 3,\n        keywords: ['denies', 'reports', 'positive for', 'negative for'],\n        format: 'bullets',\n        exampleText:\n          '• Constitutional: Denies fever, chills, weight loss\\n• Cardiovascular: Positive for chest tightness, denies palpitations',\n      },\n      pastMedicalHistory: {\n        title: 'Past Medical History',\n        aiInstructions:\n          'List all chronic medical conditions, past surgeries, and significant past illnesses. Include year of diagnosis when mentioned. List each condition on a separate line.',\n        required: true,\n        order: 4,\n        keywords: ['history of', 'diagnosed', 'surgery', 'hospitalization'],\n        format: 'bullets',\n        exampleText:\n          '• Type 2 Diabetes Mellitus (2018)\\n• Hypertension (2015)\\n• Appendectomy (2010)',\n      },\n      medications: {\n        title: 'Medications',\n        aiInstructions:\n          'List all current medications with dosages, frequency, and route. Include both prescription and OTC medications. Format: Drug name dose, frequency, route.',\n        required: true,\n        order: 5,\n        keywords: ['taking', 'mg', 'daily', 'twice', 'PRN'],\n        format: 'bullets',\n        exampleText:\n          '• Metformin 1000mg, twice daily, PO\\n• Lisinopril 10mg, daily, PO\\n• Aspirin 81mg, daily, PO',\n      },\n      allergies: {\n        title: 'Allergies',\n        aiInstructions:\n          \"List drug allergies and reactions. If no known allergies, state 'NKDA'. Include reaction type if mentioned.\",\n        required: true,\n        order: 6,\n        keywords: ['allergic', 'reaction', 'NKDA', 'intolerance'],\n        format: 'paragraph',\n        exampleText: 'Penicillin (rash), Sulfa drugs (anaphylaxis)',\n      },\n      socialHistory: {\n        title: 'Social History',\n        aiInstructions:\n          'Document tobacco use (pack-years), alcohol use, drug use, occupation, living situation, and exercise habits. Be specific with quantities and duration.',\n        required: false,\n        order: 7,\n        keywords: ['smokes', 'drinks', 'tobacco', 'alcohol', 'drugs', 'works', 'lives'],\n        format: 'paragraph',\n        exampleText:\n          'Former smoker (20 pack-year history, quit 2019). Social alcohol use. Works as accountant. Lives with spouse.',\n      },\n      familyHistory: {\n        title: 'Family History',\n        aiInstructions:\n          'List significant family medical history including relationship and condition. Focus on first-degree relatives and hereditary conditions.',\n        required: false,\n        order: 8,\n        keywords: ['mother', 'father', 'sister', 'brother', 'family'],\n        format: 'bullets',\n        exampleText:\n          '• Father: CAD, MI at age 65\\n• Mother: Type 2 DM, HTN\\n• Sister: Breast cancer',\n      },\n      physicalExam: {\n        title: 'Physical Examination',\n        aiInstructions:\n          'Document vital signs first, then examination findings by system. Include pertinent positives and negatives. Be specific with measurements and descriptions.',\n        required: true,\n        order: 9,\n        keywords: ['BP', 'HR', 'temp', 'appears', 'examination', 'palpation', 'auscultation'],\n        format: 'paragraph',\n        exampleText:\n          'Vitals: BP 142/88, HR 92, Temp 98.6°F, RR 18, SpO2 96% on RA\\nGeneral: Alert, oriented, in mild distress\\nHEENT: PERRL, EOMI...',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'List diagnoses being addressed today with ICD-10 codes if available. Number each diagnosis. Include differential diagnoses for new problems.',\n        required: true,\n        order: 10,\n        keywords: ['diagnosis', 'likely', 'suspect', 'consistent with', 'differential'],\n        format: 'numbered',\n        exampleText:\n          '1. Acute bronchitis (J20.9)\\n2. Hypertension, uncontrolled (I10)\\n3. Type 2 DM, controlled (E11.9)',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Detail treatment plan for each problem in assessment. Include medications (with sig), labs, imaging, referrals, patient education, and follow-up. Number to match assessment.',\n        required: true,\n        order: 11,\n        keywords: ['start', 'continue', 'discontinue', 'order', 'referral', 'follow-up'],\n        format: 'numbered',\n        exampleText:\n          '1. Acute bronchitis:\\n   - Start Azithromycin 250mg, 2 tabs day 1, then 1 tab daily x4 days\\n   - Albuterol inhaler PRN\\n2. HTN:\\n   - Increase Lisinopril to 20mg daily',\n      },\n    },\n    generalInstructions:\n      'Create a comprehensive medical note following standard SOAP format. Maintain professional medical terminology throughout. Be thorough but concise.',\n  },\n  {\n    name: 'Diabetes Follow-up',\n    description: 'Comprehensive diabetes management visit template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      chiefComplaint: {\n        title: 'Chief Complaint',\n        aiInstructions: 'State diabetes follow-up visit and any acute concerns',\n        required: true,\n        order: 1,\n        keywords: ['diabetes', 'follow-up', 'glucose', 'A1C'],\n        format: 'paragraph',\n        exampleText: 'Routine diabetes follow-up visit',\n      },\n      glycemicControl: {\n        title: 'Glycemic Control',\n        aiInstructions:\n          \"Document current A1C, glucose patterns, time in range if CGM user, hypoglycemia frequency and severity, dawn phenomenon, and any patterns noted. Include patient's self-monitoring frequency.\",\n        required: true,\n        order: 2,\n        keywords: ['A1C', 'glucose', 'hypoglycemia', 'hyperglycemia', 'CGM', 'fingersticks'],\n        format: 'bullets',\n        exampleText:\n          '• Current A1C: 7.2% (goal <7%)\\n• Average glucose: 150-180 mg/dL\\n• Hypoglycemia: 1-2 episodes/week, mild',\n      },\n      diabetesDevices: {\n        title: 'Diabetes Technology',\n        aiInstructions:\n          'Document insulin delivery method (pump/MDI), CGM use, settings, recent adjustments. For pump users: basal rates, I:C ratios, ISF. For MDI: injection technique and timing.',\n        required: false,\n        order: 3,\n        keywords: ['pump', 'CGM', 'Dexcom', 'Libre', 'basal', 'bolus', 'injection'],\n        format: 'paragraph',\n        exampleText:\n          'Using Dexcom G6 CGM with good adherence. Time in range 68%. MDI with Lantus 24 units qHS and Humalog sliding scale.',\n      },\n      complications: {\n        title: 'Complications Screening',\n        aiInstructions:\n          'Review microvascular (retinopathy, nephropathy, neuropathy) and macrovascular complications. Include dates of last screenings and any positive findings.',\n        required: true,\n        order: 4,\n        keywords: [\n          'retinopathy',\n          'nephropathy',\n          'neuropathy',\n          'CAD',\n          'PAD',\n          'feet',\n          'eyes',\n          'kidney',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Eyes: Last exam 6/2024, no retinopathy\\n• Feet: Intact sensation, pulses 2+ bilaterally\\n• Kidney: Microalbumin 28 mg/g',\n      },\n      medications: {\n        title: 'Diabetes Medications',\n        aiInstructions:\n          'List all diabetes medications with exact doses and timing. Include insulin types, oral medications, and non-insulin injectables.',\n        required: true,\n        order: 5,\n        keywords: ['metformin', 'insulin', 'GLP-1', 'SGLT2', 'units', 'mg'],\n        format: 'bullets',\n        exampleText:\n          '• Metformin 1000mg BID\\n• Lantus 24 units qHS\\n• Humalog per sliding scale AC meals',\n      },\n      lifestyleFactors: {\n        title: 'Lifestyle Management',\n        aiInstructions:\n          'Document diet adherence, carb counting ability, exercise routine, weight trends, and any barriers to management.',\n        required: false,\n        order: 6,\n        keywords: ['diet', 'exercise', 'weight', 'carbs', 'activity'],\n        format: 'paragraph',\n        exampleText:\n          'Following carb-controlled diet, counting carbs with meals. Walking 30 min 3x/week. Weight stable.',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Provide assessment of diabetes control and complications. Include type of diabetes with control status.',\n        required: true,\n        order: 7,\n        keywords: ['Type 1', 'Type 2', 'controlled', 'uncontrolled'],\n        format: 'numbered',\n        exampleText:\n          '1. Type 2 DM, partially controlled (E11.65)\\n2. Diabetic nephropathy, stage 2 (E11.21)',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Detail medication adjustments, lifestyle recommendations, labs to order, referrals, and follow-up timing. Be specific with insulin adjustments.',\n        required: true,\n        order: 8,\n        keywords: ['adjust', 'increase', 'decrease', 'labs', 'A1C', 'follow-up'],\n        format: 'numbered',\n        exampleText:\n          '1. Increase Lantus to 26 units qHS\\n2. Check A1C, CMP, lipids, urine microalbumin\\n3. Referral to ophthalmology for annual exam\\n4. Follow-up in 3 months',\n      },\n    },\n    generalInstructions:\n      'Focus on comprehensive diabetes management including glycemic control, complication screening, and treatment optimization. Use endocrine-specific terminology.',\n  },\n  {\n    name: 'Quick Progress Note',\n    description: 'Brief follow-up visit documentation',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'Combine chief complaint and interval history. Focus on changes since last visit and current symptoms.',\n        required: true,\n        order: 1,\n        keywords: ['since last visit', 'better', 'worse', 'stable'],\n        format: 'paragraph',\n        exampleText:\n          'Patient returns for follow-up of HTN. Reports good medication adherence. No chest pain, SOB, or headaches.',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions: 'Include vital signs and pertinent exam findings only. Be concise.',\n        required: true,\n        order: 2,\n        keywords: ['BP', 'HR', 'exam'],\n        format: 'paragraph',\n        exampleText: 'BP 128/78, HR 72. Heart RRR, no murmurs. Lungs clear.',\n      },\n      assessment: {\n        title: 'Assessment/Plan',\n        aiInstructions: 'Combine assessment and plan. List problems with brief plan for each.',\n        required: true,\n        order: 3,\n        keywords: ['continue', 'stable', 'improved'],\n        format: 'bullets',\n        exampleText:\n          '• HTN - improved, continue current regimen\\n• DM - stable, recheck A1C next visit',\n      },\n    },\n    generalInstructions:\n      'Create a concise progress note focusing on interval changes and current management. Appropriate for stable follow-up visits.',\n  },\n  {\n    name: 'Telehealth Visit',\n    description: 'Template optimized for virtual visits',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      chiefComplaint: {\n        title: 'Reason for Telehealth Visit',\n        aiInstructions: 'Document reason for visit and note that this is a telehealth encounter',\n        required: true,\n        order: 1,\n        keywords: ['telehealth', 'video', 'virtual'],\n        format: 'paragraph',\n        exampleText: 'Telehealth follow-up visit for diabetes management',\n      },\n      subjective: {\n        title: 'History & Symptoms',\n        aiInstructions:\n          'Detailed history as limited exam possible. Include specific questions about symptoms that would normally be examined.',\n        required: true,\n        order: 2,\n        keywords: ['reports', 'describes', 'denies'],\n        format: 'paragraph',\n        exampleText:\n          'Patient reports stable glucose levels ranging 120-160. No visual changes, chest pain, or foot problems.',\n      },\n      virtualExam: {\n        title: 'Virtual Examination',\n        aiInstructions:\n          'Document observable findings via video. Note limitations of virtual exam. Include patient-reported vitals if available.',\n        required: true,\n        order: 3,\n        keywords: ['appears', 'observed', 'video', 'reported'],\n        format: 'paragraph',\n        exampleText:\n          'Via video: Patient appears well, no distress. No obvious edema. Patient reports home BP 135/82, glucose 142.',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions: 'Include note about telehealth limitations if relevant to diagnosis',\n        required: true,\n        order: 4,\n        keywords: ['assessment', 'impression'],\n        format: 'numbered',\n        exampleText:\n          '1. Type 2 DM - stable based on history\\n2. HTN - suboptimal control per home readings',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Include when in-person follow-up needed. Note any limitations due to virtual format.',\n        required: true,\n        order: 5,\n        keywords: ['follow-up', 'in-person', 'labs'],\n        format: 'numbered',\n        exampleText:\n          '1. Order labs: A1C, CMP\\n2. Increase lisinopril to 20mg daily\\n3. In-person visit in 3 months for foot exam',\n      },\n    },\n    generalInstructions:\n      'Document telehealth encounter noting virtual format limitations. Emphasize history and patient-reported data.',\n  },\n  {\n    name: 'New Patient Comprehensive',\n    description: 'Detailed template for new patient visits',\n    visitType: 'new-patient',\n    isDefault: false,\n    sections: {\n      chiefComplaint: {\n        title: 'Chief Complaint',\n        aiInstructions: 'Reason for establishing care and any acute concerns',\n        required: true,\n        order: 1,\n        keywords: ['establish', 'new patient', 'transfer care'],\n        format: 'paragraph',\n        exampleText: 'New patient establishing care, transferring from previous endocrinologist',\n      },\n      historyOfPresentIllness: {\n        title: 'History of Present Illness',\n        aiInstructions:\n          'Detailed history of all active medical problems. Include diagnostic history, previous treatments, and current status.',\n        required: true,\n        order: 2,\n        keywords: ['diagnosed', 'started', 'previously', 'currently'],\n        format: 'paragraph',\n        exampleText: 'Type 2 DM diagnosed 2018, initially managed with metformin...',\n      },\n      reviewOfSystems: {\n        title: 'Complete Review of Systems',\n        aiInstructions:\n          'Comprehensive ROS covering all systems. Document pertinent positives and negatives.',\n        required: true,\n        order: 3,\n        keywords: ['constitutional', 'HEENT', 'cardiovascular', 'respiratory'],\n        format: 'bullets',\n        exampleText:\n          '• Constitutional: No fever, weight stable\\n• HEENT: No vision changes\\n• Cardiovascular: No chest pain',\n      },\n      pastMedicalHistory: {\n        title: 'Past Medical History',\n        aiInstructions: 'Complete medical history including dates, surgeries, hospitalizations',\n        required: true,\n        order: 4,\n        keywords: ['history', 'surgery', 'hospitalization'],\n        format: 'bullets',\n        exampleText: '• Type 2 DM (2018)\\n• HTN (2015)\\n• Appendectomy (2005)',\n      },\n      medications: {\n        title: 'Current Medications',\n        aiInstructions:\n          'Complete medication list with doses, frequencies, and indication if not obvious',\n        required: true,\n        order: 5,\n        keywords: ['mg', 'daily', 'for'],\n        format: 'bullets',\n        exampleText: '• Metformin 1000mg BID for diabetes\\n• Lisinopril 10mg daily for HTN',\n      },\n      allergies: {\n        title: 'Allergies',\n        aiInstructions: 'Drug allergies with reaction types',\n        required: true,\n        order: 6,\n        keywords: ['allergic', 'reaction'],\n        format: 'paragraph',\n        exampleText: 'NKDA',\n      },\n      socialHistory: {\n        title: 'Social History',\n        aiInstructions:\n          'Detailed social history including occupation, education, substance use, exercise, diet',\n        required: true,\n        order: 7,\n        keywords: ['occupation', 'tobacco', 'alcohol', 'exercise'],\n        format: 'paragraph',\n        exampleText: 'Never smoker, rare alcohol, works as teacher, married with 2 children',\n      },\n      familyHistory: {\n        title: 'Family History',\n        aiInstructions: 'Three-generation family history focusing on hereditary conditions',\n        required: true,\n        order: 8,\n        keywords: ['mother', 'father', 'siblings', 'children'],\n        format: 'bullets',\n        exampleText:\n          '• Mother: DM2, HTN\\n• Father: CAD, MI at 62\\n• Siblings: none with medical issues',\n      },\n      physicalExam: {\n        title: 'Complete Physical Examination',\n        aiInstructions:\n          'Comprehensive exam with all systems. Include vital signs and detailed findings.',\n        required: true,\n        order: 9,\n        keywords: ['vitals', 'general', 'HEENT', 'cardiac', 'pulmonary'],\n        format: 'paragraph',\n        exampleText:\n          'Vitals: BP 130/80, HR 76, BMI 28\\nGeneral: Well-appearing\\nHEENT: PERRL, thyroid normal size...',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions: 'Complete problem list with all active diagnoses',\n        required: true,\n        order: 10,\n        keywords: ['diagnosis', 'problem'],\n        format: 'numbered',\n        exampleText: '1. Type 2 DM (E11.9)\\n2. Essential HTN (I10)\\n3. Obesity (E66.9)',\n      },\n      plan: {\n        title: 'Comprehensive Plan',\n        aiInstructions:\n          'Detailed plan for each problem including diagnostics, treatments, education, preventive care, and follow-up',\n        required: true,\n        order: 11,\n        keywords: ['order', 'continue', 'start', 'education', 'screening'],\n        format: 'numbered',\n        exampleText:\n          '1. DM: Continue metformin, check A1C, refer diabetes education\\n2. HTN: Continue lisinopril, home BP log\\n3. Preventive: Colonoscopy screening, vaccinations UTD',\n      },\n    },\n    generalInstructions:\n      'Create comprehensive new patient documentation. Be thorough in all sections as this establishes baseline.',\n  },\n  {\n    name: 'Tess - Endocrinology Follow-up',\n    description:\n      'Specialized template for endocrinology follow-up visits with CGM data integration',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      chiefComplaint: {\n        title: 'Chief Complaint',\n        aiInstructions:\n          \"Start with 'Patient presents to endocrinology for follow-up regarding' followed by conditions using medical abbreviations (T2D, HLD, etc.). Note if no PCP.\",\n        required: true,\n        order: 1,\n        keywords: ['presents to endocrinology', 'follow-up regarding', 'No PCP'],\n        format: 'paragraph',\n        exampleText: 'Patient presents to endocrinology for follow-up regarding T2D, HLD.\\nNo PCP',\n      },\n      historyOfPresentIllness: {\n        title: 'Diabetes History & Current Status',\n        aiInstructions:\n          \"ONLY include information explicitly mentioned in the dictation. Do NOT add historical information not stated. Structure as: 1) Review of DM hx only if mentioned, 2) Ophthalmology exam only if mentioned, 3) Previously tried medications ONLY if specifically mentioned in dictation, 4) Current symptoms and patterns mentioned in visit. If information is not mentioned, state 'not documented' or omit the section entirely. Do NOT invent medication history.\",\n        required: true,\n        order: 2,\n        keywords: [\n          'Dx with DM',\n          'complicated by',\n          'Previously tried',\n          'Last ophtho',\n          'At last visit',\n          'Today',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"Review of DM hx: Dx with DM in 2013. DM complicated by denies. Last ophtho was February 2025 at Grand Vision - no DR.\\n\\nPreviously tried:\\nmetformin- didn't help BG\\ntrulicity- BG elevated\\n\\nAt last visit 6/2025, was recommended:\\n- continue 24 units tresiba daily\",\n      },\n      cgmData: {\n        title: 'CGM/Glucose Monitoring Data',\n        aiInstructions:\n          'Document CGM data in exact format: Device name, Home use indication, Type 2 Diabetes indication, note if >72 hours reviewed, Date Range (M/D-M/D), Average Glucose value, Time percentages (Above/Target/Below), and Interpretation focusing on patterns. Use exact formatting as shown.',\n        required: false,\n        order: 3,\n        keywords: [\n          'Device used',\n          'Eversense',\n          'Dexcom',\n          'Average Glucose',\n          'Time Above Range',\n          'Time in Target',\n          'Interpretation',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Device used\\nEversense\\nHome use\\n\\nIndication\\nType 2 Diabetes\\nMore than 72 hours of data was reviewed.\\n\\nDate Range: 8/20-9/2\\nAverage Glucose: 174\\nTime Above Range: 5 v high, 33 high\\nTime in Target Range: 62\\nTime Below Range: 0\\n\\nInterpretation: Infrequent hyperglycemia, most commonly after dinner',\n      },\n      medications: {\n        title: 'Current Medications',\n        aiInstructions:\n          \"List medications the patient is currently taking BEFORE any changes made during this visit. When dictation mentions dose increases (e.g., 'increase from 40mg to 80mg'), use the ORIGINAL 40mg dose, not the new 80mg dose. List exact brand names, current doses, and frequencies. Use format: 'medication name dose, formulation frequency'. Include insulin units and pen types.\",\n        required: true,\n        order: 4,\n        keywords: ['units', 'mg', 'weekly', 'daily', 'tresiba', 'mounjaro', 'synjardy'],\n        format: 'bullets',\n        exampleText:\n          '• Tresiba FlexTouch U-200: 24 units daily\\n• Synjardy XR 12.5mg-1000mg: 2 tablets once daily\\n• Mounjaro 15mg: weekly injection',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          \"Number each diagnosis. For diabetes: Include 'Type 2 diabetes mellitus', control status ('uncontrolled as evidenced by' with specific A1C), complications status ('complicated by' or 'denies'), and monitoring method. For lipids: Include 'Mixed hyperlipidemia' or specific type, past lipid values with dates, current therapy, and goal status.\",\n        required: true,\n        order: 5,\n        keywords: [\n          'Type 2 diabetes',\n          'uncontrolled',\n          'evidenced by',\n          'a1c',\n          'complicated by',\n          'hyperlipidemia',\n          'LDL',\n          'at goal',\n        ],\n        format: 'numbered',\n        exampleText:\n          '1. Type 2 diabetes mellitus -\\nuncontrolled as evidenced by most recent a1c 7.3\\n- complicated by denies\\n- check BG 4 times daily, eversense\\n\\n2. Mixed hyperlipidemia -\\n- 11/2024 ldl 24, tg 125\\n- ldl at goal',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'For each diagnosis, list current medications to continue with exact doses, new medications to start, and monitoring instructions. Include: microalbumin date/result, diabetic foot exam date/result, ophthalmology exam date/result, hypoglycemia education status, patient awareness instructions. End with RTC timeframe and required labs. Include full prescription details with sig, quantity, refills, and pharmacy when available. Add ICD-10 codes.',\n        required: true,\n        order: 6,\n        keywords: [\n          'continue',\n          'start',\n          'increase',\n          'microalbumin',\n          'foot exam',\n          'ophthalmology',\n          'RTC',\n          'labs prior',\n          'Qty',\n          'Refills',\n          'Pharmacy',\n        ],\n        format: 'paragraph',\n        exampleText:\n          '1. Type 2 diabetes mellitus -\\n- continue 24 units tresiba daily\\n- continue synjardy 1000/12.5 mg two tablets once daily\\n- continue 15mg mounjaro\\n- start repaglinide 0.5mg before dinner\\n\\n- 11/2024 microalbumin <4\\n- 6/2025 Diabetic foot exam wnl\\n- ophthalmology exam 2025 no retinopathy\\n- Hypoglycemia s/s reviewed\\n- patient aware to call with hyperglycemia or hypoglycemia\\n\\nRTC in 3 months with labs prior\\n\\nE11.65: Type 2 diabetes mellitus with hyperglycemia\\nMounjaro 15 mg/0.5 mL - Inject 15 mg weekly Qty: (2) mL Refills: 2',\n      },\n    },\n    generalInstructions:\n      \"Focus on comprehensive medication documentation with exact brand names, doses, and formulations. Always include CGM data interpretation when available. Document all preventive care dates (eye exams, foot exams, microalbumin). Use medical abbreviations appropriately (T2D, HLD, DM, BG). Include pharmacy details and refill counts in prescriptions. Structure assessment with control status and evidence. Note 'denies' for absent complications. Always end with RTC timeframe and required labs.\",\n  },\n  {\n    name: 'Nikki - Psychiatry Follow-up',\n    description: 'Comprehensive psychiatric follow-up template with therapy documentation',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      reasonForVisit: {\n        title: 'Reason for Visit',\n        aiInstructions:\n          \"Start with 'Follow-up:' followed by all psychiatric diagnoses. On new line, state 'Appointment today for medication management follow-up to discuss mental health status and determine any necessary adjustments or changes to treatment regimen.'\",\n        required: true,\n        order: 1,\n        keywords: ['Follow-up', 'medication management', 'treatment regimen'],\n        format: 'paragraph',\n        exampleText:\n          'Follow-up: generalized anxiety disorder, Follow-up: mixed bipolar affective disorder, severe, with psychosis\\nAppointment today for medication management follow-up to discuss mental health status and determine any necessary adjustments or changes to treatment regimen.',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          \"List each psychiatric diagnosis with ICD-10 code and full name. For each diagnosis, describe current symptom status, patient's reported experience, medication response, and any notable changes since last visit. Use patient's own words when possible (e.g., 'period of emptiness', 'feeling overwhelmed').\",\n        required: true,\n        order: 2,\n        keywords: [\n          'F33.1',\n          'F41.1',\n          'Major Depressive Disorder',\n          'Anxiety Disorder',\n          'stable mood',\n          'improved',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'F33.1 Major Depressive Disorder, Recurrent Episode, Moderate: Patient reports stable mood with brief period of emptiness following a business trip, which she attributed to fatigue and being overwhelmed. Overall, mood is improved with continuation of medication regimen.\\n\\nF41.1 Anxiety Disorder: Patient reports reduced anxiety symptoms with current medication management. She denies significant anxiety concerns at this time.',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          \"Structure as bulleted list. Include: 1) Continue/adjust each medication with exact dose and frequency, noting any gradual adjustments patient is making, 2) Pharmacy information and refill details, 3) Therapy continuation with therapist name and next appointment if mentioned, 4) Follow-up timeline. Use 'Continue' for unchanged meds, 'Increase' for dose changes.\",\n        required: true,\n        order: 3,\n        keywords: [\n          'Continue',\n          'Increase',\n          'mg daily',\n          'refills',\n          'therapy',\n          'Follow-up appointment',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Continue Abilify 5mg daily. Patient reports taking 2.5mg some days and 5mg other days as she gradually adjusts to the increased dose\\n• Continue Lexapro 10mg daily\\n• Increase Benztropine from 1mg daily to 1mg twice daily to address ocular side effects\\n• Patient was reminded that medication refills have been sent to HEB pharmacy (2 refills each)\\n• Continue therapy with Camille\\n• Follow-up appointment scheduled in 2 months',\n      },\n      therapyDetails: {\n        title: 'Therapy Details',\n        aiInstructions:\n          'If therapy was provided during visit, document: 1) CPT code and time spent, 2) Problem List with bullet points of key issues discussed, 3) Interventions with INTERVENTION/GOALS/RESPONSE format for each therapeutic approach used.',\n        required: false,\n        order: 4,\n        keywords: ['90833', 'minutes', 'INTERVENTION', 'GOALS', 'RESPONSE', 'Problem List'],\n        format: 'paragraph',\n        exampleText:\n          'Therapy Time Spent:\\n90833 - In addition to medication management, 17 minutes was spent on therapy.\\n\\nProblem List:\\n• Mood management - Patient reports overall good mood\\n• Anxiety - Patient reports anxiety is well-controlled\\n• Medication management\\n• Side effects\\n\\nInterventions:\\nINTERVENTION: Supportive Therapy. GOALS: To provide validation and encouragement. RESPONSE: The patient demonstrated positive engagement.',\n      },\n      medications: {\n        title: 'Medication Orders',\n        aiInstructions:\n          \"List medications grouped by diagnosis. Format as: diagnosis name in lowercase, then 'CONTINUE' or 'START' or 'INCREASE' followed by generic name, dose, route (PO), and frequency (Q D for daily, BID for twice daily). Use standard abbreviations.\",\n        required: true,\n        order: 5,\n        keywords: ['CONTINUE', 'START', 'INCREASE', 'mg PO', 'Q D', 'BID'],\n        format: 'paragraph',\n        exampleText:\n          'Bipolar affective disorder, mixed, severe, with psychotic behavior\\nCONTINUE Aripiprazole 5 mg PO Q D\\nCONTINUE Benztropine 1 mg PO BID\\n\\ngeneralized anxiety disorder\\nCONTINUE Escitalopram 10 mg PO Q D',\n      },\n      patientInstructions: {\n        title: 'Patient Instructions & Discussion',\n        aiInstructions:\n          'Document all patient education provided. Include: medication instructions, side effect discussions, risk/benefit review, emergency instructions, substance use warnings, and any psychoeducation provided. Use bullet points or structured paragraphs.',\n        required: true,\n        order: 6,\n        keywords: [\n          'Medication instructions',\n          'side effects',\n          'risks and benefits',\n          'call 911',\n          'compliance',\n          'psychoeducation',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Medication instructions provided.\\n- Discussed medication side effects, therapeutic expectations, and potential interactions\\n- Discussed the risks and benefits of the overall treatment plan\\n- Pt advised to call the office if symptoms worsen\\n- Pt encouraged to call 911 in the event of an emergent issue\\n- Pt notified of risks in using illegal substances with medications\\n\\nThe risk and benefits of medication versus untreated Mental Illness were discussed. Pt informed that routine labs are ordered to monitor for side effects.\\nDiscussed importance of compliance and risk of withdrawal.\\n\\nPt provided with psychoeducation regarding:\\n- Risks/benefits/alternatives of psychotropic medication\\n- Heat risks of psychotropic medication\\n- Mental illness and available resources\\n- Exercise and healthy nutrition',\n      },\n      followUp: {\n        title: 'Follow-Up',\n        aiInstructions:\n          \"Document scheduled follow-up appointments with exact dates. Format as 'Established patient scheduled on MM-DD-YYYY' for each appointment.\",\n        required: true,\n        order: 7,\n        keywords: ['Established patient', 'scheduled on'],\n        format: 'paragraph',\n        exampleText:\n          'Established patient scheduled on 09-04-2025\\nEstablished patient scheduled on 11-18-2025',\n      },\n    },\n    generalInstructions:\n      \"Focus on comprehensive psychiatric documentation with emphasis on patient's subjective experience and medication response. Always use ICD-10 codes with full diagnosis names. Document therapy interventions using INTERVENTION/GOALS/RESPONSE format. Include detailed patient education and risk discussions. Use patient's own words when describing symptoms. Document all medication adjustments with rationale. Include pharmacy details and refill information. Always end with scheduled follow-up dates.\",\n  },\n  {\n    name: 'Vanessa - Nutrition Consultation',\n    description:\n      'Comprehensive template for registered dietitian nutrition consultations with diabetes and weight management focus',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      reasonForConsult: {\n        title: 'Reason for Consultation',\n        aiInstructions:\n          \"Extract the primary reason for nutrition consultation. Format as 'Patient seen for [reason]'. Include relevant diagnoses being addressed (T2DM, hyperlipidemia, weight management, etc.).\",\n        required: true,\n        order: 1,\n        keywords: [\n          'nutrition consultation',\n          'weight management',\n          'hyperlipidemia',\n          'T2DM',\n          'diabetes',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Patient seen for initial nutrition consultation for weight management and hyperlipidemia',\n      },\n      medicalHistory: {\n        title: 'Past Medical History',\n        aiInstructions:\n          \"List all relevant medical conditions with onset dates when available. Format as 'PMHx significant for [conditions]'. Include psychiatric conditions, metabolic disorders, GI issues, sleep disorders, and hormonal conditions. Note CPAP use for OSA.\",\n        required: true,\n        order: 2,\n        keywords: [\n          'PMHx',\n          'depression',\n          'anxiety',\n          'T2DM',\n          'PCOS',\n          'HLD',\n          'OSA',\n          'CPAP',\n          'gallstone',\n          'menopause',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'PMHx significant for major depression, anxiety disorder, HLD, T2DM, PCOS, Hypercalcemia, gallstone, elevated liver enzymes, menopause, Obstructive sleep apnea on CPAP',\n      },\n      weightHistory: {\n        title: 'Weight & Medication History',\n        aiInstructions:\n          \"Document weight loss attempts, current weight loss medications (especially GLP-1 agonists like Mounjaro/Ozempic), dose history, duration of use, and response to therapy. Include patient's emotional relationship with food and body image concerns.\",\n        required: true,\n        order: 3,\n        keywords: [\n          'Mounjaro',\n          'Ozempic',\n          'weight loss',\n          'dietary attempts',\n          'body image',\n          'guilt',\n          'shame',\n          'PCOS',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Reports longstanding difficulty losing weight despite multiple dietary attempts (including liquid diets) and ongoing use of Mounjaro for >1 year (10 mg for past 2 months, previously 5 mg). Notes lack of significant weight loss on therapy.',\n      },\n      gastrointestinal: {\n        title: 'GI Symptoms & Food Sensitivities',\n        aiInstructions:\n          'Document GI symptoms including bloating, diarrhea, nausea, constipation. Note frequency and triggers (eating out, specific foods). Include any taste changes, COVID-related symptoms, and food cravings.',\n        required: true,\n        order: 4,\n        keywords: [\n          'bloating',\n          'diarrhea',\n          'nausea',\n          'constipation',\n          'COVID',\n          'taste',\n          'craves',\n          'fruit',\n          'dairy',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Patient c/o bloating with eating out, occasional diarrhea (1x/week), and intermittent nausea (1x every 2 weeks). Reports prior COVID infection with loss of taste; sense of taste has fully returned. Craves fruit and dairy.',\n      },\n      currentActivity: {\n        title: 'Physical Activity Status',\n        aiInstructions:\n          \"Document current activity level, past exercise history, barriers to exercise, and patient's goals/preferences for physical activity. Note any discontinued activities and reasons.\",\n        required: true,\n        order: 5,\n        keywords: [\n          'activity',\n          'exercise',\n          'treadmill',\n          'yoga',\n          'walking',\n          'sedentary',\n          'structured',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Currently not engaging in structured physical activity. Past activity includes treadmill walking, yoga (discontinued ~2 years ago). States desire to increase physical activity but has not found a preferred routine.',\n      },\n      functionalMedicine: {\n        title: 'Functional Medicine & Hormone Management',\n        aiInstructions:\n          'Document if patient is followed by functional medicine provider. Include hormone replacement therapy (progesterone, estradiol), inflammatory markers, and any alternative medicine approaches.',\n        required: false,\n        order: 6,\n        keywords: [\n          'functional medicine',\n          'hormone',\n          'progesterone',\n          'estradiol',\n          'inflammation',\n          'Lyme',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Patient is followed by a functional medicine provider for hormone management and internal inflammation concerns (on progesterone and estradiol patch; reports Lyme antibody positivity)',\n      },\n      laboratoryData: {\n        title: 'Laboratory Data',\n        aiInstructions:\n          \"List relevant labs with values and dates. Focus on metabolic panel: A1C, glucose, lipid panel (triglycerides, LDL, HDL), liver enzymes, and any other pertinent values. Use format: 'Parameter value (date if available)'\",\n        required: true,\n        order: 7,\n        keywords: ['Labs', 'A1C', 'glucose', 'triglycerides', 'LDL', 'HDL', 'cholesterol', 'liver'],\n        format: 'paragraph',\n        exampleText: 'Labs: Triglycerides 224, Glucose 102, A1C 5.8',\n      },\n      currentMedications: {\n        title: 'Current Medications',\n        aiInstructions:\n          'List all diabetes and metabolic medications with exact doses. Include GLP-1 agonists (Mounjaro, Ozempic), SGLT2 inhibitors (Synjardy, Jardiance), metformin, and any lipid medications. Note dose changes.',\n        required: true,\n        order: 8,\n        keywords: ['Medications', 'Mounjaro', 'Synjardy', 'metformin', 'statin', 'mg', 'units'],\n        format: 'bullets',\n        exampleText: '• Mounjaro 10 mg weekly\\n• Synjardy 12.5/1000mg twice daily',\n      },\n      supplements: {\n        title: 'Supplement Use',\n        aiInstructions:\n          'List all supplements, vitamins, and alternative medicines. Include dosing if mentioned and indication (e.g., PRN, for sleep, for inflammation).',\n        required: false,\n        order: 9,\n        keywords: [\n          'Supplement',\n          'curcumin',\n          'naltrexone',\n          'enzymes',\n          'magnesium',\n          'vitamin',\n          'PRN',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Curcumin for inflammation\\n• Low-dose naltrexone\\n• Digestive enzymes PRN\\n• Magnesium for sleep',\n      },\n      anthropometrics: {\n        title: 'Anthropometric Data',\n        aiInstructions:\n          \"Document current weight in pounds, BMI, and any weight changes. Include height if mentioned. Format: 'Weight: X lb, BMI: X, Weight change: X lb over X timeframe'\",\n        required: true,\n        order: 10,\n        keywords: ['Weight', 'BMI', 'pounds', 'lb', 'kg', 'height'],\n        format: 'paragraph',\n        exampleText: 'Current Weight: 208.8 lb\\nBMI: 33.9',\n      },\n      dietaryRecall: {\n        title: 'Dietary Recall / Intake Patterns',\n        aiInstructions:\n          'Document detailed food intake including meals per day, eating patterns (grazing vs structured), and specific foods for each meal. Include restaurant names and frequency of eating out. Format each meal category separately.',\n        required: true,\n        order: 11,\n        keywords: [\n          'Breakfast',\n          'Lunch',\n          'Dinner',\n          'Snacks',\n          'meals per day',\n          'grazing',\n          'dining out',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"Meals per day: Typically 2-3 meals, with grazing/snacking pattern\\n\\nBreakfast: Protein shake, or bagel with cream cheese\\n\\nLunch: 50% dining out (Raising Cane's, Jason's Deli), 50% packed lunches\\n\\nDinner: Inconsistent; cheese and crackers, fruit\\n\\nSnacks: Fruit, cheese and crackers, cottage cheese, nuts\",\n      },\n      nutritionDiagnosis: {\n        title: 'Nutrition Diagnosis',\n        aiInstructions:\n          'Write PES statements (Problem, Etiology, Signs/Symptoms) for nutrition diagnoses. Use standard nutrition diagnostic terminology. Include anthropometric data, lab values, and dietary intake as evidence.',\n        required: true,\n        order: 12,\n        keywords: [\n          'inadequate',\n          'excessive',\n          'intake',\n          'related to',\n          'evidenced by',\n          'BMI',\n          'pattern',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Inadequate energy intake related to irregular meal patterns and as evidenced by dietary recall, BMI of 33.9, elevated triglycerides (224 mg/dL), and A1C of 5.8%\\n• Overweight/obesity related to inconsistent meal patterns, as evidenced by BMI of 33.9',\n      },\n      mnt: {\n        title: 'Medical Nutrition Therapy (MNT) Plan',\n        aiInstructions:\n          'List specific, measurable nutrition interventions. Include meal planning goals, macronutrient targets, meal frequency, portion control strategies, and physical activity recommendations. Be specific with frequencies and quantities.',\n        required: true,\n        order: 13,\n        keywords: [\n          'Prepare',\n          'Increase',\n          'protein',\n          'omega-3',\n          'fiber',\n          'vegetables',\n          'meal',\n          'snack',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Prepare dinner at home at least 3 times per week, making 2 servings each time\\n• Increase protein intake by incorporating a protein source at each meal and snack\\n• Include omega-3-rich foods and increase fiber intake\\n• Establish consistent eating pattern with 3 meals and 1-2 snacks at least 3 days per week\\n• Begin structured physical activity with walking 2x per week for 20 minutes',\n      },\n      nutritionEducation: {\n        title: 'Nutrition Education Provided',\n        aiInstructions:\n          'Document all education topics covered. Include Plate Method, carbohydrate counting, heart-healthy diet principles, fiber benefits, portion control, and behavior change strategies. Format as bullets starting with action verbs (Reviewed, Discussed, Educated, Emphasized).',\n        required: true,\n        order: 14,\n        keywords: [\n          'Reviewed',\n          'Discussed',\n          'Educated',\n          'Plate Method',\n          'carbohydrate',\n          'fiber',\n          'portion',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Reviewed the Plate Method to support balanced meal planning\\n• Emphasized importance of positive reinforcement and realistic expectations\\n• Reviewed meal patterns and role of carbohydrates, protein, and fats\\n• Educated on role of fiber in blood lipid control and glycemic management',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'List diagnoses with ICD-10 codes. Include onset dates when available. Format each as numbered item with code at the end.',\n        required: true,\n        order: 15,\n        keywords: [\n          'E11',\n          'E78',\n          'R63',\n          'Type 2 diabetes',\n          'hyperlipidemia',\n          'weight gain',\n          'obesity',\n        ],\n        format: 'numbered',\n        exampleText:\n          '1. Type 2 diabetes mellitus with hyperglycemia - Onset: 03/18/2016 (E11.65)\\n2. Mixed hyperlipidemia - Onset: 04/03/2017 (E78.2)\\n3. Abnormal weight gain - Onset: 08/19/2025 (R63.5)',\n      },\n      timeSpent: {\n        title: 'Time Spent & Follow-up',\n        aiInstructions:\n          \"Document total time spent with patient and services provided. Include follow-up interval. Use exact format for billing: 'Spent a total of X minutes with patient providing medical nutrition therapy...'\",\n        required: true,\n        order: 16,\n        keywords: [\n          'minutes',\n          'spent',\n          'medical nutrition therapy',\n          'assessment',\n          'follow up',\n          'months',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Spent a total of 60 minutes with patient providing medical nutrition therapy. This included comprehensive nutrition assessment, review of relevant labs and medical history, dietary recall and analysis, nutrition education and development of individualized nutrition care plan.\\n\\nFollow up in 1 month',\n      },\n      returnVisits: {\n        title: 'Return to Office',\n        aiInstructions:\n          'List all scheduled follow-up appointments with provider names, credentials, visit type (virtual/in-person), location, date and time. Format each on separate line.',\n        required: false,\n        order: 17,\n        keywords: ['Return', 'follow-up', 'appointment', 'scheduled', 'PMHNP', 'RD', 'MD'],\n        format: 'paragraph',\n        exampleText:\n          'Ogechi Nebeolisa, PMHNP for Privia Virtual Visit at GC_EPC_Katy Office on 09/05/2025 at 11:20 AM\\nCindy Laverde, RD for Privia Virtual Visit at GC_EPC_Katy Office on 09/22/2025 at 11:00 AM',\n      },\n    },\n    generalInstructions:\n      'Create a comprehensive nutrition consultation note following registered dietitian documentation standards. Focus on detailed dietary assessment, nutrition diagnoses using PES statements, specific MNT interventions, and thorough education documentation. Include all anthropometric data, relevant labs, and medication history especially GLP-1 agonists. Document time spent for billing purposes. Maintain professional nutritionist terminology throughout.',\n  },\n  {\n    name: 'Radha - Complex Diabetes Management',\n    description:\n      'Comprehensive template for endocrinology PA managing complex diabetes cases with multiple comorbidities',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      presentingConcern: {\n        title: 'Presenting Concern',\n        aiInstructions:\n          'Document age, reason for visit (establish care, follow-up), and primary diagnosis. Include initial diagnosis date and type (Type 1, Type 2, unknown type). Note any recent hospitalizations or ER visits for glucose issues.',\n        required: true,\n        order: 1,\n        keywords: [\n          'presents',\n          'establish care',\n          'diabetes',\n          'diagnosis',\n          'ER',\n          'hospitalized',\n          'unreadable',\n        ],\n        format: 'paragraph',\n        exampleText:\n          '80 y/o who presents to establish care for diabetes. Initial diagnosis/type: Unknown type, dx 6.2024. Last week went to ER for sugars that were unreadable.',\n      },\n      relevantMedicalHistory: {\n        title: 'Relevant Medical History',\n        aiInstructions:\n          'Document significant medical conditions affecting diabetes management. Include cancer history with treatment details (infusions, chemotherapy), pancreatic abnormalities, and monitoring schedules. Note treating specialists.',\n        required: true,\n        order: 2,\n        keywords: [\n          'melanoma',\n          'infusion',\n          'MDACC',\n          'pancreas',\n          'extension',\n          'oncologist',\n          'dermatology',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Receiving infusions for melanoma, last infusion at MDACC in March. Small extension on pancreas that MDACC is monitoring, repeat in March. Oncologist: Dr. Wong, Michael',\n      },\n      diabetesHistory: {\n        title: 'Diabetes History & Family History',\n        aiInstructions:\n          'Document prediabetes history, family history of diabetes (specify Type 1 or Type 2, include GAD antibody status if known). Note any autoimmune markers if tested.',\n        required: true,\n        order: 3,\n        keywords: [\n          'prediabetes',\n          'family history',\n          'fhx',\n          'Type 1',\n          'Type 2',\n          'GAD',\n          'son',\n          'daughter',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'No previous history of prediabetes/diabetes. Fhx: son recently diagnosed with Type 1 diabetes (GAD+)',\n      },\n      currentMedications: {\n        title: 'Current Diabetes Medications',\n        aiInstructions:\n          'List all current diabetes medications with exact doses and timing. Include basal insulin (Lantus, Toujeo), bolus insulin (Lispro, Humalog), oral medications, and GLP-1 agonists. Note any recent dose adjustments.',\n        required: true,\n        order: 4,\n        keywords: [\n          'Lantus',\n          'Toujeo',\n          'Lispro',\n          'units',\n          'Ozempic',\n          'Pioglitazone',\n          'TID',\n          'qd',\n          'weekly',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Toujeo 18 units in PM\\n• Lispro 6 units TID\\n• Pioglitazone 30 mg qd\\n• Ozempic 0.5 mg weekly',\n      },\n      previousMedications: {\n        title: 'Previous Medications Tried',\n        aiInstructions:\n          'List medications that were discontinued and reason for discontinuation (ineffective, side effects, rash, etc.).',\n        required: false,\n        order: 5,\n        keywords: ['previous', 'discontinued', 'rash', 'side effect', 'Januvia', 'tried'],\n        format: 'bullets',\n        exampleText: '• Januvia: discontinued due to rash',\n      },\n      glucoseMonitoring: {\n        title: 'Blood Glucose Monitoring',\n        aiInstructions:\n          'Document current glucose readings (fasting, pre-meal, post-meal). Include patterns, timing of highs/lows. Note any recent hypoglycemic episodes with details about timing and cause.',\n        required: true,\n        order: 6,\n        keywords: ['BG', 'meter', 'fasting', 'glucose', 'low', 'high', 'hypoglycemia', 'episodes'],\n        format: 'paragraph',\n        exampleText:\n          'BG meter: fasting >200\\nTwo episodes of low blood sugars - on second episode, took shot and waited too long before eating',\n      },\n      diabetesComplications: {\n        title: 'Complications Screening',\n        aiInstructions:\n          'Document status of diabetic complications screening: retinopathy (eye exam date/results), neuropathy (symptoms, exam findings), nephropathy (microalbumin, CMP results). Note what needs to be done.',\n        required: true,\n        order: 7,\n        keywords: [\n          'Retinopathy',\n          'Neuropathy',\n          'Nephropathy',\n          'eye exam',\n          'microalbumin',\n          'CMP',\n          'need',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Diabetic Retinopathy: need to get exam done\\n• Diabetic Neuropathy: Need to update\\n• Diabetic Nephropathy: Need to check CMP',\n      },\n      currentVisitHistory: {\n        title: 'Current Visit History',\n        aiInstructions:\n          'Document chronological visit notes with dates. Include symptoms, weight changes, medication adjustments, compliance concerns, and patient-reported issues. Format as date: findings for each visit.',\n        required: true,\n        order: 8,\n        keywords: [\n          'Current visit',\n          'weight loss',\n          'compliance',\n          'denies',\n          'swollen',\n          'rash',\n          'prednisone',\n        ],\n        format: 'paragraph',\n        exampleText:\n          '7.2024: Per wife, losing weight, lost appetite with infusions. Having morning lows, decreased Toujeo dose.\\n9.2024: Interested in more pills. Swollen ankles after hurting foot.\\n2.2025: High BG levels.\\n5.2025: No changes, compliant with medications, denies confusion/nausea.',\n      },\n      dietaryIntake: {\n        title: 'Dietary Intake',\n        aiInstructions:\n          'Document typical meals and eating patterns. Include specific foods for breakfast, lunch, dinner, and snacks. Note any alcohol consumption.',\n        required: false,\n        order: 9,\n        keywords: ['breakfast', 'lunch', 'dinner', 'diet', 'alcohol', 'beer', 'coffee', 'pizza'],\n        format: 'paragraph',\n        exampleText:\n          'Breakfast: fried eggs + bacon + toast + coffee\\nLunch: campbell soups\\nDinner: pizza, fried chicken\\nAlcohol: 1 beer nightly before dinner',\n      },\n      reviewOfSystems: {\n        title: 'Review of Systems',\n        aiInstructions:\n          'Document pertinent ROS findings. Include any symptoms affecting diabetes management (asthma requiring steroids, infections, etc.).',\n        required: false,\n        order: 10,\n        keywords: ['ROS', 'asthma', 'steroid', 'confusion', 'nausea', 'vomiting', 'denies'],\n        format: 'paragraph',\n        exampleText:\n          'Asthma worsening, using steroid inhaler more often. Denies confusion, nausea, vomiting',\n      },\n      laboratoryResults: {\n        title: 'Laboratory Results',\n        aiInstructions:\n          'Document A1C trends with dates, autoantibody results (IA2, GAD, IAA), C-peptide levels, and other relevant labs. Show progression over time.',\n        required: true,\n        order: 11,\n        keywords: ['A1c', 'GAD', 'IA2', 'IAA', 'C-peptide', 'glucose', 'prediabetic'],\n        format: 'paragraph',\n        exampleText:\n          'Most Recent A1c: 12.1 (7.2024) → 7.9 (8.2024)\\nPrediabetic 4.2024, A1c 6.2\\nIA2, GAD, IAA negative, C-peptide 0.68',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Provide numbered assessment with ICD-10 codes. For diabetes: specify type, control status (controlled/uncontrolled), diagnosis date, and most recent A1C. Include compliance concerns and clinical reasoning. Add other diagnoses as separate numbered items.',\n        required: true,\n        order: 12,\n        keywords: [\n          'Uncontrolled',\n          'Type 2 diabetes',\n          'improving',\n          'concerned',\n          'compliance',\n          'E11.65',\n          'Z85',\n        ],\n        format: 'numbered',\n        exampleText:\n          '1. Uncontrolled type 2 diabetes mellitus - Uncontrolled, dx: 6.2024 but improving; Most Recent A1c: 7.9 (8.2024). Concerned patient not taking insulin as prescribed. (E11.65)\\n2. History of Malignant melanoma - monitored by MDACC (Z85.89)',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Detail medication adjustments with specific doses and sliding scales. Include GLP-1 counseling with side effects and contraindications. Add lifestyle modifications, monitoring instructions, referrals, and follow-up timing. Include prescription details with quantity and refills.',\n        required: true,\n        order: 13,\n        keywords: [\n          'Increase',\n          'Continue',\n          'units',\n          'sliding scale',\n          'GLP-1',\n          'pancreatitis',\n          'thyroid cancer',\n        ],\n        format: 'numbered',\n        exampleText:\n          '1. Increase Toujeo 18 units qd to 22 units qd\\n2. Continue Lispro 6 units with meals\\n   100-150: no additional units\\n   151-200: +1 units\\n   201-250: +2 units\\n3. Continue Pioglitazone 30 mg qd (no h/o CHF)\\n4. Increase Ozempic 0.5 mg to 1 mg weekly\\n   - Discussed nausea, constipation, acid reflux\\n   - Discussed risk of pancreatitis and thyroid cancer warning',\n      },\n      glucoseGoals: {\n        title: 'Glucose Goals & Targets',\n        aiInstructions:\n          'Document specific BG targets for fasting, pre-meal, and post-meal. Include A1C goal and hypoglycemia threshold.',\n        required: true,\n        order: 14,\n        keywords: ['Fasting', 'pre-meal', 'post-meal', 'goals', 'A1c', 'hypoglycemia', '<70'],\n        format: 'bullets',\n        exampleText:\n          '• Fasting: <120\\n• Pre-meal: <140\\n• 2 hours post-meal: <180\\n• A1C goal: ~7%\\n• Hypoglycemia: BG <70',\n      },\n      patientEducation: {\n        title: 'Patient Education',\n        aiInstructions:\n          'Document all education provided including diet counseling, exercise recommendations, BG monitoring frequency, hypoglycemia management, compliance counseling, and complications education. Use bullet format with specific recommendations.',\n        required: true,\n        order: 15,\n        keywords: [\n          'Diet',\n          'Exercise',\n          'Check BG',\n          'QID',\n          'compliance',\n          'complications',\n          'retinopathy',\n        ],\n        format: 'bullets',\n        exampleText:\n          '• Recommended low carb diet\\n• Exercise: 150 mins aerobic/week\\n• Check BG QID - fasting, pre-meals, 2hr post-prandial\\n• Hypoglycemia management discussed in detail\\n• Counseled on compliance with meds, appointments, diet\\n• Counseled on complications: retinopathy, neuropathy, nephropathy, CAD, stroke',\n      },\n      prescriptions: {\n        title: 'Prescriptions',\n        aiInstructions:\n          'List all prescriptions written with complete sig, quantity, refills, and pharmacy. Include both medications and lab orders.',\n        required: true,\n        order: 16,\n        keywords: ['Qty', 'Refills', 'Pharmacy', 'CVS', 'tablet', 'mg', 'subcutaneous', 'oral'],\n        format: 'paragraph',\n        exampleText:\n          'Pioglitazone 30 mg tablet - Take 1 tablet every day by oral route for 90 days. Qty: (90) tablet Refills: 1 Pharmacy: CVS #3573\\n\\nOzempic 1 mg/dose (4 mg/3 mL) pen - Inject 1 mg weekly subcutaneous for 90 days. Qty: (3) 3 mL syringe Refills: 1\\n\\nLabs: HEMOGLOBIN A1C, COMP. METABOLIC PANEL, LIPID PANEL',\n      },\n      followUp: {\n        title: 'Follow-up Plan',\n        aiInstructions:\n          'Document follow-up timing, specific instructions for urgent issues, and contingency plans. Include referrals to other providers or services.',\n        required: true,\n        order: 17,\n        keywords: ['Return', 'follow-up', 'referral', 'ER', 'if not controlled', 'weeks', 'months'],\n        format: 'paragraph',\n        exampleText:\n          'If BG not in range in 1 week, refer to physician. Advised if sugar not going down to go to ER. Repeat A1c every 3 months.\\n\\nReturn to Office: RADHA BERNANDER, PA at GC_EPC_Katy Office on 09/03/2025 at 01:00 PM',\n      },\n    },\n    generalInstructions:\n      'Create a comprehensive diabetes management note for complex cases with multiple comorbidities. Focus on medication titration, sliding scale adjustments, and compliance concerns. Document cancer history and its impact on diabetes management. Include detailed A1C trends, autoantibody results when relevant, and clear escalation plans. Always include GLP-1 counseling documentation with contraindications. Maintain PA/NP documentation standards with supervising physician referral criteria.',\n  },\n  {\n    name: 'Elina - Comprehensive Diabetes Follow-up',\n    description:\n      'Detailed endocrinology template for uncontrolled Type 2 DM with multiple comorbidities and insulin management',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      patientIntroduction: {\n        title: 'Patient Introduction',\n        aiInstructions:\n          'Document patient demographics (age/gender), reason for follow-up, diabetes control status. Include any care transitions (new PCP, moving from different state, changing providers).',\n        required: true,\n        order: 1,\n        keywords: ['f/up', 'uncontrolled', 'type 2 DM', 'Seattle', 'Endocrine', 'PCP', 'Texas'],\n        format: 'paragraph',\n        exampleText:\n          '64 M f/up for uncontrolled type 2 DM. Was in Seattle seeing Endocrine for Diabetes. After moving to Texas, has not been to Endocrine. Will have new PCP now.',\n      },\n      diabetesEducation: {\n        title: 'Diabetes Education & Self-Management',\n        aiInstructions:\n          'Document any diabetes education received, self-monitoring practices, and lifestyle changes made. Include hospital education programs, meter use, and dietary changes.',\n        required: false,\n        order: 2,\n        keywords: [\n          'diabetes educator',\n          'memorial hermann',\n          'diet',\n          'recording',\n          'meter',\n          'checks sugars',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Has been to diabetes educator at Memorial Hermann Hospital, has changed diet and recording sugars. Checks sugars with meter.',\n      },\n      pastMedicalHistory: {\n        title: 'Past Medical History',\n        aiInstructions:\n          'List all medical conditions including Type 2 DM, cardiovascular conditions (HLP, A-Fib), complications (neuropathy, retinopathy), and other conditions. Use standard abbreviations.',\n        required: true,\n        order: 3,\n        keywords: ['PMH', 'Type 2 DM', 'HLP', 'A Fib', 'neuropathy', 'vitamin D', 'deficiency'],\n        format: 'paragraph',\n        exampleText: 'PMH: Type 2 DM, HLP, vit D deficiency, A Fib, diabetic neuropathy',\n      },\n      pastSurgicalHistory: {\n        title: 'Past Surgical History',\n        aiInstructions:\n          'List all surgeries with years when available. Include eye surgeries for diabetic complications, colonoscopies, and other procedures.',\n        required: false,\n        order: 4,\n        keywords: [\n          'PSH',\n          'cholecystectomy',\n          'hernia',\n          'surgery',\n          'colonoscopy',\n          'laser',\n          'eye bleeding',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'PSH: cholecystectomy 2015, Hernia surgery 1997, right knee surgery 1973, colonoscopy-normal, laser surgery for eye bleeding',\n      },\n      familyHistory: {\n        title: 'Family History',\n        aiInstructions:\n          'Document family history of diabetes, cardiovascular disease, and other relevant conditions. Include cause of death if mentioned.',\n        required: true,\n        order: 5,\n        keywords: ['FH', 'parents', 'diabetes', 'A fib', 'MI', 'died'],\n        format: 'paragraph',\n        exampleText: 'FH: both parents had diabetes, mom had A fib, dad died of MI',\n      },\n      socialHistory: {\n        title: 'Social History',\n        aiInstructions:\n          'Document smoking status (current/former/never), alcohol use, drug use, and occupation. Include relevant lifestyle factors.',\n        required: true,\n        order: 6,\n        keywords: ['SH', 'smoking', 'alcohol', 'drugs', 'former smoker', 'occupation', 'inspector'],\n        format: 'paragraph',\n        exampleText: 'SH: Denies smoking/excess alcohol/drugs. Former smoker. Was food inspector',\n      },\n      diabetesDiagnosis: {\n        title: 'Diabetes Diagnosis & Previous Medications',\n        aiInstructions:\n          'Document age at diagnosis, years since diagnosis, and any previous diabetes medications that were discontinued or recalled.',\n        required: true,\n        order: 7,\n        keywords: ['DIAGNOSIS', 'DM', 'years', 'age', 'PREVIOUS MEDS', 'recalled', 'discontinued'],\n        format: 'paragraph',\n        exampleText:\n          'DIAGNOSIS of DM II: 28 years of age\\nPREVIOUS MEDS: does not remember name of medicine, was recalled',\n      },\n      bloodGlucoseRecord: {\n        title: 'Blood Glucose Record',\n        aiInstructions:\n          'Document glucose monitoring patterns and specific readings. Include fasting, pre-meal, post-meal values with times. Note any patterns or trends. Include hypoglycemia occurrences.',\n        required: true,\n        order: 8,\n        keywords: [\n          'BLOOD GLUCOSE',\n          'fasting',\n          'post breakfast',\n          'pre lunch',\n          'post lunch',\n          'dinner',\n          'bedtime',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'BLOOD GLUCOSE RECORD: usually checks after meals\\nFasting: [values]\\nPost breakfast: 205, 218, 164, 191, 185, 187\\nPost lunch: 150, 140, 183, 134, 215, 256\\nPost dinner: 174, 214, 133, 179, 207, 153',\n      },\n      dietHistory: {\n        title: 'Diet History',\n        aiInstructions:\n          'Document detailed dietary intake for all meals and snacks. Include specific foods, portions, and timing. List breakfast, lunch, dinner, and all snacks separately.',\n        required: true,\n        order: 9,\n        keywords: [\n          'DIET HISTORY',\n          'Breakfast',\n          'Lunch',\n          'Dinner',\n          'snacks',\n          'bedtime',\n          'graham crackers',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Breakfast 8 AM: two slices toast with cinnamon, tea with milk/artificial sweetener, egg, hot dog link\\nLunch 1-2 PM: 2 oz meatloaf with cup of rice\\nDaytime snacks: graham crackers, saltine crackers with cheese\\nDinner 8 PM: 4 cheese enchiladas, vegetables, beef spaghetti\\nBedtime snacks: popcorn, cracker with cheese',\n      },\n      exercise: {\n        title: 'Exercise',\n        aiInstructions:\n          'Document current exercise routine including type, frequency, duration. Include strength training, cardio, walking ability, and use of assistive devices.',\n        required: true,\n        order: 10,\n        keywords: [\n          'EXERCISE',\n          'strength training',\n          'stationary bike',\n          'walking',\n          'weights',\n          'crunches',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'EXERCISE: strength training exercise, stationary bike, weights after lunch, walks in morning',\n      },\n      diabetesComplications: {\n        title: 'Diabetes Complications',\n        aiInstructions:\n          'List all diabetes complications with + for present, - for absent. Include CAD/Stroke, Neuropathy, Nephropathy, Foot ulcer/PVD, Retinopathy (with last exam date), Sexual problems (ED), and Musculoskeletal complications.',\n        required: true,\n        order: 11,\n        keywords: [\n          'COMPLICATIONS',\n          'CAD',\n          'Neuropathy',\n          'Nephropathy',\n          'Retinopathy',\n          'ED',\n          'foot ulcer',\n        ],\n        format: 'paragraph',\n        exampleText:\n          '- CAD/Stroke\\n+ Neuropathy\\n- Nephropathy\\n- Foot ulcer/PVD\\n+ Retinopathy, Last ophthalmology exam 2023\\n+ Sexual problems, ED\\n+ Musculoskeletal complications: back pain, shoulder pain',\n      },\n      laboratoryValues: {\n        title: 'Laboratory Values',\n        aiInstructions:\n          'Document all lab results with dates. Include lipid panel (T chol, HDL, TG, LDL), A1C with trends, CMP (glucose, creatinine, LFTs), CBC, and microalbuminuria. Show progression over multiple dates.',\n        required: true,\n        order: 12,\n        keywords: [\n          'LABS',\n          'A1c',\n          'T chol',\n          'HDL',\n          'TG',\n          'LDL',\n          'glucose',\n          'creatinine',\n          'microalbuminuria',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'LABS 12/4/2024: T chol 110, HDL 46, TG 165, LDL 40, A1c 8.5\\nCMP: glucose 231, creatinine 1, LFTs normal\\n\\n2/11/2025: A1c 9.4, glucose 227\\nT chol 118, HDL 45, TG 136, LDL 51',\n      },\n      visitProgressNotes: {\n        title: 'Visit Progress Notes',\n        aiInstructions:\n          'Document chronological visit notes with dates. Include weight changes, medication changes, side effects, symptoms, and patient-reported outcomes. Format as date followed by bullet points of key findings.',\n        required: true,\n        order: 13,\n        keywords: [\n          'Patient reports',\n          'sugars',\n          'portion control',\n          'weight loss',\n          'side effect',\n          'mounjaro',\n        ],\n        format: 'paragraph',\n        exampleText:\n          '2/17/2025:\\n- High sugars reported\\n- Portion control efforts\\n- Lost 15 lb in 2 months\\n- Walking better, no back pain\\n\\n3/31/2025:\\n- Sugars improved with Mounjaro 5mg\\n- Lost 5 lb in one month\\n- Still using Levemir, not started Tresiba',\n      },\n      currentMedications: {\n        title: 'Current Medications',\n        aiInstructions:\n          'List all current medications organized by category. First list general meds, then DM MEDS separately. Include exact doses, frequencies, and routes. For insulin, specify units and timing.',\n        required: true,\n        order: 14,\n        keywords: [\n          'MEDS',\n          'DM MEDS',\n          'Gabapentin',\n          'Losartan',\n          'Eliquis',\n          'Levemir',\n          'Humalog',\n          'Jardiance',\n          'Mounjaro',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'MEDS:\\nGabapentin 300 mg BID\\nLosartan 100 mg daily\\nEliquis 5 mg BID\\nMetoprolol 50 mg BID\\n\\nDM MEDS:\\nLevemir 22 units AM and 22 units PM\\nHumalog 27 units before breakfast, 13 before lunch, 28 before dinner\\nJardiance 25 mg daily\\nMounjaro 5 mg weekly',\n      },\n      physicalExam: {\n        title: 'Physical Exam',\n        aiInstructions:\n          'Document pertinent physical exam findings by system. Include HEENT, Thyroid, Heart, Lungs, Extremities, Neuro, Psych, Derm, and Musculoskeletal findings.',\n        required: true,\n        order: 15,\n        keywords: [\n          'Physical Exam',\n          'HEENT',\n          'Heart',\n          'Lungs',\n          'Extremities',\n          'Neuro',\n          'DTRs',\n          'edema',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'HEENT: EOMI, no oral lesions\\nHeart: Regular rate and rhythm\\nLungs: Normal respiratory rate, no wheezes\\nExtremities: Pulses normal, no edema\\nNeuro: No gross sensory defect, DTRs normal',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'List all diagnoses with ICD-10 codes. Start with primary diabetes diagnosis including control status. Add all comorbidities as numbered items. Include brief management notes for each.',\n        required: true,\n        order: 16,\n        keywords: [\n          'Assessment',\n          'Uncontrolled type 2 diabetes',\n          'E11.65',\n          'E66.01',\n          'E78.2',\n          'I48.20',\n        ],\n        format: 'numbered',\n        exampleText:\n          '1. Uncontrolled type 2 diabetes mellitus (E11.65)\\n2. Vitamin D deficiency (E55.9)\\n3. Morbid obesity - on Mounjaro (E66.01)\\n4. Mixed hyperlipidemia - on Repatha, LDL 59 (E78.2)\\n5. Chronic atrial fibrillation - on Eliquis (I48.20)',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Detail management plan for each diagnosis. Include medication changes with rationale, monitoring parameters, lifestyle recommendations, and follow-up timing. Note any medications patient declined or previous failures.',\n        required: true,\n        order: 17,\n        keywords: [\n          'PLAN',\n          'increase',\n          'continue',\n          'metformin',\n          'declined',\n          'Quest labs',\n          'F/up',\n          'months',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Was on metformin in past, discontinued as not working. Patient does not want metformin now.\\n- Increase Mounjaro to 7.5 mg weekly\\n- Continue Jardiance 25 mg daily\\n- SBP on low side, advised discussing with PCP/cardiologist\\n- Patient prefers Quest labs\\n- Replace vitamin D\\n- F/up 3 months',\n      },\n      prescriptions: {\n        title: 'Prescriptions',\n        aiInstructions:\n          'List all prescriptions with complete sig including dose, route, frequency, quantity, refills, and pharmacy. Group by diagnosis if applicable.',\n        required: true,\n        order: 18,\n        keywords: ['mg', 'tablet', 'injector', 'subcutaneous', 'Qty', 'Refills', 'Pharmacy', 'HEB'],\n        format: 'paragraph',\n        exampleText:\n          'Mounjaro 7.5 mg/0.5 mL subcutaneous pen - Inject 7.5 mg weekly subcutaneous. Qty: (4) 0.5 mL syringe Refills: 4 Pharmacy: HEB PHARMACY\\n\\nJardiance 25 mg tablet - Take 1 tablet daily oral. Qty: (90) tablet Refills: 2\\n\\nErgocalciferol 50,000 unit capsule - Take 1 capsule weekly oral. Qty: (8) capsule Refills: 0',\n      },\n      returnVisit: {\n        title: 'Return to Office',\n        aiInstructions:\n          'Document scheduled follow-up appointment with provider name, credentials, visit type, location, date and time.',\n        required: true,\n        order: 19,\n        keywords: ['Return', 'Office', 'MD', 'Established Patient', 'AM', 'PM'],\n        format: 'paragraph',\n        exampleText:\n          'Elina Shakya, MD for Established Patient at GC_EPC_Katy Office on 09/03/2025 at 09:15 AM',\n      },\n    },\n    generalInstructions:\n      'Create a comprehensive endocrinology follow-up note for uncontrolled Type 2 diabetes with multiple comorbidities. Focus on detailed glucose monitoring patterns, complex insulin regimens with specific unit dosing, GLP-1 agonist management, and dietary assessment. Document all diabetes complications systematically. Include chronological visit progress notes showing medication adjustments and patient responses. Always note previous medication failures and patient preferences. Maintain detailed physical exam documentation and complete prescription information with pharmacy details.',\n  },\n  {\n    name: 'Shannon - Complex T1DM with Frequent Hypoglycemia',\n    description:\n      'Comprehensive Type 1 diabetes management with pump therapy, frequent hypoglycemia, and multiple comorbidities',\n    visitType: 'diabetes_type1_complex',\n    isDefault: false,\n    sections: {\n      presentingConditions: {\n        title: 'Presenting Conditions',\n        aiInstructions:\n          'List all conditions patient presents with today including diabetes type, cardiovascular conditions, metabolic disorders, and deficiencies. Include age, gender, and brief descriptor.',\n        required: true,\n        order: 1,\n        keywords: [\n          'presents for',\n          'T1DM',\n          'T2DM',\n          'hyperlipidemia',\n          'htn',\n          'def',\n          'yo female',\n          'yo male',\n        ],\n        format: 'paragraph',\n        exampleText: '66 yo female presents for t1dm, hyperlipidemia, htn, vit d def.',\n      },\n      diabetesStatus: {\n        title: 'Type 1 Diabetes Status',\n        aiInstructions:\n          'Document current pump model, CGM status, and immediate concerns about glucose control. Note if having frequent hypoglycemia or hyperglycemia. Brief statement about overall stability.',\n        required: true,\n        order: 2,\n        keywords: [\n          'pump',\n          '670',\n          '770',\n          '780',\n          'stable',\n          'frequent',\n          'hypoglycemia',\n          'hyperglycemia',\n          'CGM',\n        ],\n        format: 'paragraph',\n        exampleText: 'T1DM:\\non 670 pump,\\nstable, is having frequent mild hypoglycemia',\n      },\n      hypertensionStatus: {\n        title: 'Hypertension Status',\n        aiInstructions:\n          'Current BP control status and medications with doses. Note if improved, stable, or worsening. Include specific medication names and doses.',\n        required: true,\n        order: 3,\n        keywords: [\n          'htn',\n          'bp',\n          'improved',\n          'benicar',\n          'hctz',\n          'olmesartan',\n          'metoprolol',\n          'stable',\n        ],\n        format: 'paragraph',\n        exampleText: 'htn: bp now improved on benicar 40 and hctz 25. stable.',\n      },\n      mentalHealthStatus: {\n        title: 'Depression/Mental Health',\n        aiInstructions:\n          'Document current psychiatric medications with doses, mental status, and specifically note presence or absence of suicidal ideation. Include stability assessment.',\n        required: true,\n        order: 4,\n        keywords: [\n          'depression',\n          'duloxetine',\n          'denies',\n          'suicidal ideation',\n          'stable',\n          'doing well',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'depression: doing well on duloxetine 60mg +20 mg q d. denies suicidal ideation, stable.',\n      },\n      vitaminDeficiencies: {\n        title: 'Vitamin Deficiencies',\n        aiInstructions:\n          'Document vitamin D and B12 status, current supplementation or lack thereof, and stability.',\n        required: true,\n        order: 5,\n        keywords: ['vit d def', 'cobalamin', 'B12', 'not taking', 'stable', 'mcg'],\n        format: 'paragraph',\n        exampleText: 'vit d def: not taking any at this time. stable.',\n      },\n      lipidManagement: {\n        title: 'Hyperlipidemia Management',\n        aiInstructions:\n          'Current statin therapy, efficacy assessment, medication changes, and additional lipid medications like Vascepa. Note if current therapy is adequate or changes needed.',\n        required: true,\n        order: 6,\n        keywords: [\n          'hyperlipidemia',\n          'atorva',\n          'rosuvastatin',\n          'vascepa',\n          'not efficacious',\n          'worsening',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'hyperlipidemia:\\natorva 40 not efficacious enough\\nnow on rosuvastatin 40 and vascepa 0.5 g ii po bid worsening',\n      },\n      assessmentPlan: {\n        title: 'Assessment / Plan',\n        aiInstructions:\n          'Start with weight change and glucagon use summary. Then detailed T1DM management including A1c history, CGM downloads with percentages, pump settings with exact basal rates by time periods, bolus adjustments, and patient education about hypoglycemia risks.',\n        required: true,\n        order: 7,\n        keywords: [\n          'Assessment',\n          'Plan',\n          'down',\n          'lbs',\n          'gvok',\n          'A1c',\n          'CGM download',\n          'in range',\n          'high',\n          'low',\n          'very low',\n          'basal',\n          'bolus',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Assessment / Plan\\ndown 2 lbs\\nhas required gvok 3 x since last visit.\\n\\nT1DM:\\nlast a1c 5.6, 5.2, 5.5, 5.4, 5.4, 5.4, 5.3, 5.5, 5.1, 5.4, 5.5, 4.9 (8/24), 4.3 (12/24), 4.8 (2/25), 4.9 (6/25)\\nmedtronic 700 (4/24)\\ncgm download 2/27/25: in range 44, high 1, low 21, very low 34',\n      },\n      pumpManagement: {\n        title: 'Pump and Insulin Management',\n        aiInstructions:\n          'Detailed pump settings including all basal rates by time periods (format as 0000-0330 0.025), bolus strategies, MDI if applicable, carb ratios, and specific adjustments made. Include patient behavior notes about self-adjustments and education provided.',\n        required: true,\n        order: 8,\n        keywords: [\n          'basal',\n          'bolus',\n          'units',\n          'reduce',\n          'CR',\n          '0000',\n          'medtronic',\n          'closed loop',\n          'MDI',\n          'injecting',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'now on medtronic closed loop, only uses pump for basal. she boluses with mdi and she boluses too much.\\nInjecting 18-20 rapid acting. will reduce by 2 units each time.\\npt continues to increase basal adjustments after we decrease.\\n0000-0330 0.025\\n0330-0630 0.125> 0.10\\n630-3:30 pm 2.65> 2.20\\n330 pm -8 pm 1.45> 1.20\\n8 pm -0000 0.125>0.75\\n-CR 9',\n      },\n      diabetesMonitoring: {\n        title: 'Diabetes Monitoring Requirements',\n        aiInstructions:\n          'Document CGM medical necessity statement, testing frequency, glucagon availability, and pump adjustment rationale. Include any shortage discussions or supply issues.',\n        required: true,\n        order: 9,\n        keywords: [\n          'CGM',\n          'medically necessary',\n          'glucagon',\n          'testing',\n          'times daily',\n          'pump',\n          'adjust',\n          'gvoke',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Patient is currently on CGMs, and it is medically necessary for the patient to be on due glycemic episodes and low/high blood glucose readings.\\n-refill glucagon 12/24\\nPatient is testing 6 times daily.\\nPatient is on insulin pump and patient will adjust insulin accordingly due to his/her glucose numbers.',\n      },\n      hypertensionManagement: {\n        title: 'Hypertension Management Details',\n        aiInstructions:\n          'Current antihypertensive regimen with specific doses and timing, medication intolerances, sensitivity issues, and BP goal status.',\n        required: true,\n        order: 10,\n        keywords: [\n          'olmesartan',\n          'metoprolol',\n          'bid',\n          \"can't tolerate\",\n          'hctz',\n          'sensitive',\n          'bp at goal',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"htn: now taking olmesartan 40 po q d and metoprolol 50 bid.\\ncan't tolerate hctz\\nshe is very sensitive to htn meds.\\nbp at goal\",\n      },\n      lipidDetails: {\n        title: 'Lipid Management Details',\n        aiInstructions:\n          'Detailed lipid medication regimen with reasons for changes, efficacy assessments, and compliance issues. Include specific doses and frequencies.',\n        required: true,\n        order: 11,\n        keywords: [\n          'rosuvastatin',\n          'vascepa',\n          'not taking consistently',\n          'will begin',\n          'not efficacious',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'hyperlipidemia:\\natorva 40 not efficacious enough, now on rosuvastatin 40 and vascepa 0.5 g 4 po bid. (not taking vascepa consistently, will begin doing so).',\n      },\n      liverFunction: {\n        title: 'Liver Function Monitoring',\n        aiInstructions:\n          'Document elevated liver enzymes with specific values and dates, recommendations for lifestyle modifications, and follow-up plans with PCP or GI.',\n        required: false,\n        order: 12,\n        keywords: [\n          'elevated lfts',\n          'ast',\n          'alt',\n          'avoid etoh',\n          'tylenol',\n          'exercise',\n          'diet',\n          'fu with pcp',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'elevated lfts: avoid etoh, tylenol.\\nast 66 alt 51 (1/24), fu with pcp or gi\\ninc exercise, improve diet.\\n-ast nl alt 41 4/24\\n-ast 39 alt 35 (8/24), improving, cont to fu with pcp.',\n      },\n      thyroidFunction: {\n        title: 'Thyroid Function',\n        aiInstructions:\n          'Document thyroid function test results with dates, TPO antibody status, and monitoring plan. Note if euthyroid or requires treatment.',\n        required: false,\n        order: 13,\n        keywords: ['abnl tfts', 'tsh', 'tpo', 'neg', 'euthyroid', 'monitor'],\n        format: 'paragraph',\n        exampleText:\n          \"abnl tfts: hasn't been issue in long time.\\nprev neg tpo\\ntsh 4.55 (4/24)\\n7/24: tpo neg\\n8/24: tsh 2.1, euthyroid, cont to monitor.\",\n      },\n      weightManagement: {\n        title: 'Weight Management',\n        aiInstructions:\n          'Document current weight loss medications (Qsymia, Mounjaro, Ozempic, etc.), current dose, efficacy, patient requests for dose adjustments, and any discontinued medications.',\n        required: false,\n        order: 14,\n        keywords: [\n          'obesity',\n          'qsymia',\n          'doing well',\n          'eating less',\n          'increase dose',\n          'zepbound',\n          'd/c',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'obesity: started qsymia 1/25. doing well, eating less.\\ntaking 7.5-46, she wants to increase dose.\\n-6/25: wants a further inc. will send in.',\n      },\n      vitaminB12: {\n        title: 'Vitamin B12 Status',\n        aiInstructions:\n          'Document B12 levels with specific values, goal levels, and current supplementation dose.',\n        required: false,\n        order: 15,\n        keywords: ['cobalamin def', 'B12', 'mcg', 'goal', 'otc'],\n        format: 'paragraph',\n        exampleText:\n          'cobalamin def: 370s, review goal >400\\nbegin 500 mcg B12 q d otc.\\n754 (8/24), cont otc 500 mcg.',\n      },\n      diagnosesList: {\n        title: 'Problem List with ICD-10 Codes',\n        aiInstructions:\n          'Numbered list of all diagnoses with ICD-10 codes. Include primary diabetes diagnosis with complications, cardiovascular conditions, metabolic disorders, obesity classification, and psychiatric conditions. Note any special monitoring like eye exams.',\n        required: true,\n        order: 16,\n        keywords: [\n          'E10.65',\n          'E78.2',\n          'I10',\n          'F32.1',\n          'E53.8',\n          'E16.2',\n          'Z68',\n          'hypoglycemia',\n          'diabetes mellitus',\n          'BMI',\n        ],\n        format: 'numbered',\n        exampleText:\n          '1. Mixed hyperlipidemia\\nE78.2: Mixed hyperlipidemia\\n2. Thyroid function tests abnormal\\nR94.6: Abnormal results of thyroid function studies\\n3. Hypertensive disorder\\nI10: Essential (primary) hypertension\\n4. Uncontrolled type 1 diabetes mellitus - frequent hypoglycemia\\nE10.65: Type 1 diabetes mellitus with hyperglycemia\\n5. Hypoglycemia\\nE16.2: Hypoglycemia, unspecified',\n      },\n      labOrders: {\n        title: 'Laboratory Orders',\n        aiInstructions:\n          'List all labs ordered including metabolic panels, A1c, lipid panels, thyroid tests, vitamin levels, and urine studies. Include specific test names and codes when provided.',\n        required: true,\n        order: 17,\n        keywords: ['LIPID SCREEN', 'CMP', 'HBA1C', 'TSH', 'ALBUMIN/CREATININE', 'VITAMIN B12'],\n        format: 'bullets',\n        exampleText:\n          '• LIPID SCREEN (CORONARY RISK I) (PH0115)\\n• CMP (COMPREHENSIVE METABOLIC PANEL) (PH0113)\\n• HBA1C (HEMOGLOBIN A1C), BLOOD\\n• TSH, SERUM OR PLASMA\\n• ALBUMIN/CREATININE RATIO, URINE\\n• VITAMIN B12 (PH0169)',\n      },\n      prescriptions: {\n        title: 'Prescriptions',\n        aiInstructions:\n          'List all prescriptions with complete sig including medication name, strength, formulation, directions, quantity, refills, and pharmacy. Include emergency medications like glucagon.',\n        required: true,\n        order: 18,\n        keywords: [\n          'Gvoke',\n          'HypoPen',\n          'Qsymia',\n          'mg',\n          'capsule',\n          'subcutaneous',\n          'Qty',\n          'Refills',\n          'CVS',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Gvoke HypoPen 2-Pack 1 mg/0.2 mL subcutaneous auto-injector - Inject as directed prn hypoglycemia Qty: (2) 0.2 mL syringe Refills: 1 Pharmacy: CVS/PHARMACY #4397\\n\\nQsymia 15 mg-92 mg capsule, extended release - Take 1 capsule(s) every day by oral route. Qty: (30) capsule Refills: 0 Pharmacy: CVS/PHARMACY #4397',\n      },\n      followUp: {\n        title: 'Return to Office',\n        aiInstructions:\n          'Document follow-up timing and any specific instructions for return visits.',\n        required: true,\n        order: 19,\n        keywords: ['Return', 'Office', 'needed', 'months', 'weeks'],\n        format: 'paragraph',\n        exampleText: 'Return to Office\\nPatient will return to the office as needed.',\n      },\n    },\n    generalInstructions:\n      'Create a comprehensive Type 1 diabetes management note focusing on complex pump therapy, frequent hypoglycemia episodes, and multiple comorbidities. Document exact pump settings with time-specific basal rates (format: 0000-0330 0.025), MDI bolus adjustments, and CGM data with percentages for in-range, high, low, and very low readings. Include chronological A1c values with dates, detailed medication intolerances, and specific patient behaviors regarding insulin self-adjustments. Note all emergency glucagon use. Document complete management of comorbidities including HTN sensitivity, statin changes for inefficacy, weight management medications, liver enzyme monitoring, and vitamin deficiencies. Always include patient education about hypoglycemia risks and strict instructions not to self-adjust basal rates.',\n  },\n  {\n    name: 'Veena - T2DM with CKD and HTN',\n    description:\n      'Type 2 diabetes management with chronic kidney disease, hypertension, and post-stroke care',\n    visitType: 'diabetes_ckd',\n    isDefault: false,\n    sections: {\n      hpi: {\n        title: 'HPI',\n        aiInstructions:\n          'Document follow-up conditions, current diabetes medications (GLP-1 agonists, SGLT2 inhibitors), side effects, glucose monitoring device status, and glucose patterns. Include any new symptoms or concerns.',\n        required: true,\n        order: 1,\n        keywords: [\n          'f.u',\n          'dm2',\n          'htn',\n          'hyperlipidemia',\n          'headaches',\n          'stroke',\n          'ozempic',\n          'jardiance',\n          'libre',\n          'sugars high',\n          'GI s/e',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'f.u dm2, htn, hyperlipidemia. Has had headaches since stroke in jan. She cant see neurologist till sept. Is on ozempic .5 mg, no GI s/e. On jardiance 25 mg qd. Thinks is getting pimples due to that. Is on libre. Sugars high post lunch, dinner sometimes. Not any insulin',\n      },\n      ros: {\n        title: 'ROS',\n        aiInstructions:\n          'Document review of systems with emphasis on weight changes and any additional symptoms beyond HPI.',\n        required: true,\n        order: 2,\n        keywords: ['Additionally reports', 'lost', 'pounds', 'headaches', 'ROS'],\n        format: 'paragraph',\n        exampleText: 'Additionally reports:\\nlost 3 pounds\\nheadaches\\n\\nROS as noted in the HPI',\n      },\n      diabetesAssessment: {\n        title: 'Type 2 Diabetes Assessment',\n        aiInstructions:\n          'Document diabetes control with A1c comparison, note kidney-related medication contraindications, current regimen changes, and insulin status. Include specific medication dose adjustments.',\n        required: true,\n        order: 3,\n        keywords: [\n          'Uncontrolled',\n          'A1c',\n          'metformin',\n          'kidneys',\n          'ozempic',\n          'jardiance',\n          'increase',\n          'insulin',\n        ],\n        format: 'paragraph',\n        exampleText:\n          '1. Uncontrolled type 2 diabetes mellitus with hyperglycemia\\nHBA1c 6.9 down from 7.6 uncontrolled. Doing better now. No metformin due to the kidneys. Cont ozempic and jardiance 25 mg. INcrease ozempic 1 mg to help weight and sugars. Off of insulin which is good',\n      },\n      glp1Education: {\n        title: 'GLP-1 Agonist Education',\n        aiInstructions:\n          'Document patient education provided about GLP-1 injection technique, mechanism of action, common GI side effects, and rare serious side effects including pancreatitis and thyroid concerns.',\n        required: true,\n        order: 4,\n        keywords: [\n          'GLP1',\n          'injection',\n          'mechanism',\n          'GI issues',\n          'nausea',\n          'pancreatitis',\n          'thyroid Ca',\n          'rat studies',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Patient instructed on how to use the GLP1 injection. Explained the mechanism of action and potential side effects such as GI issues like nausea. Also counseled about remote side effects like pancreatitis and rare thyroid Ca found in rat studies.',\n      },\n      sglt2Education: {\n        title: 'SGLT2 Inhibitor Education',\n        aiInstructions:\n          'Document education about SGLT2 inhibitor mechanism, side effects including increased urination, UTI/fungal infection risk, and potential benefits for weight and blood pressure.',\n        required: true,\n        order: 5,\n        keywords: ['SGLT2', 'inhibitor', 'urination', 'UTI', 'fungal infection', 'weight', 'bp'],\n        format: 'paragraph',\n        exampleText:\n          'Explained how SGLT2 inhibitor medicines works. Explained side effects such as increased urination and increased risk of UTI and genital fungal infection. Also counseled that it may also help patient reduce weight and reduce bp.',\n      },\n      lifestyleEducation: {\n        title: 'Diet and Exercise Counseling',\n        aiInstructions:\n          'Comprehensive lifestyle counseling including glucose monitoring, target ranges, low-carb diet specifics, foods to avoid, exercise recommendations, and diabetes complications education.',\n        required: true,\n        order: 6,\n        keywords: [\n          'diet',\n          'exercise',\n          'check sugars',\n          'targets',\n          'low carb',\n          'bread',\n          'pasta',\n          'activity',\n          'compliance',\n          'complications',\n          'retinopathy',\n          'neuropathy',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Patient instructed on diet and exercise and need to check sugars regularly. Discussed targets for blood sugars. Counseled about eating low carb meals and avoid foods such as bread, pasta, pizza or anything made out of white flour. INstructed to start reading labels. Counseled to do at least light to moderate activity consistently at least 4-5 times min 30 min each time. Counseled about compliance with meds, appts and diet. Counseled on complications due to high sugars such as retinopathy, neuropathy, nephropathy, CAD, stroke.',\n      },\n      diabetesPrescriptions: {\n        title: 'Diabetes Medications',\n        aiInstructions:\n          'List diabetes medications with complete sig, ICD-10 code, and lab orders for A1c and metabolic panel.',\n        required: true,\n        order: 7,\n        keywords: [\n          'E11.65',\n          'Ozempic',\n          'mg/dose',\n          'subcutaneous',\n          'Jardiance',\n          'tablet',\n          'HBA1C',\n          'CMP',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'E11.65: Type 2 diabetes mellitus with hyperglycemia\\nOzempic 1 mg/dose (4 mg/3 mL) subcutaneous pen injector - Inject 1 mg every week by subcutaneous route. Qty: (3) 3 mL syringe Refills: 0 Pharmacy: CVS/PHARMACY #7038\\nHEMOGLOBIN A1C (PH0147)\\nCMP (COMPREHENSIVE METABOLIC PANEL) (PH0113)\\nJardiance 25 mg tablet - Take 1 tablet(s) every day by oral route. Qty: (90) tablet Refills: 1',\n      },\n      renalFunction: {\n        title: 'Renal Function Assessment',\n        aiInstructions:\n          'Document creatinine, GFR, CKD stage, and nephrology follow-up status. Include any changes from prior measurements.',\n        required: true,\n        order: 8,\n        keywords: ['creatinine', 'GFR', 'nephrologist', 'CKD', 'stage'],\n        format: 'paragraph',\n        exampleText:\n          '2. Increase in serum creatinine from prior measurement\\ncreat 1.2 GFR 49 She sees nephrologist.\\nR79.89: Other specified abnormal findings of blood chemistry',\n      },\n      vascularStatus: {\n        title: 'Vascular Disease',\n        aiInstructions: 'Document peripheral artery disease status with ICD-10 code.',\n        required: false,\n        order: 9,\n        keywords: ['PAD', 'peripheral artery disease', 'I73.9'],\n        format: 'paragraph',\n        exampleText:\n          '3. PAD (peripheral artery disease)\\nI73.9: Peripheral vascular disease, unspecified',\n      },\n      hypertensionManagement: {\n        title: 'Hypertension Management',\n        aiInstructions:\n          'Document current BP status, medications with doses, and any medication adjustments made.',\n        required: true,\n        order: 10,\n        keywords: ['bp high', 'metoprolol', 'enalapril', 'increase', 'I10'],\n        format: 'paragraph',\n        exampleText:\n          '4. Benign essential hypertension\\nbp high today. Is on metoprolol 25 mg er. Increase enalapril 10 mg qd\\nI10: Essential (primary) hypertension',\n      },\n      ckdStaging: {\n        title: 'Chronic Kidney Disease',\n        aiInstructions:\n          'Document CKD stage with specific classification, creatinine value, and specialist involvement.',\n        required: true,\n        order: 11,\n        keywords: ['chronic renal', 'stage 3a', 'nephrologist', 'creat', 'N18'],\n        format: 'paragraph',\n        exampleText:\n          '5. Chronic renal impairment, stage 3a\\nshe is seeing a nephrologist. creat 1.6\\nN18.31: Chronic kidney disease, stage 3a',\n      },\n      lipidManagement: {\n        title: 'Lipid Management',\n        aiInstructions: 'Document hyperlipidemia status and order for lipid panel.',\n        required: true,\n        order: 12,\n        keywords: ['hyperlipidemia', 'check flp', 'E78.2', 'LIPID SCREEN'],\n        format: 'paragraph',\n        exampleText:\n          '6. Mixed hyperlipidemia\\ncheck flp\\nE78.2: Mixed hyperlipidemia\\nLIPID SCREEN (CORONARY RISK I) (PH0115)',\n      },\n      discussionNotes: {\n        title: 'Discussion Notes',\n        aiInstructions: 'Brief notes on proteinuria status and return timeline.',\n        required: false,\n        order: 13,\n        keywords: ['proteinuria', 'rtc', 'mo'],\n        format: 'paragraph',\n        exampleText: 'no proteinuria\\nrtc 3 mo',\n      },\n      returnVisit: {\n        title: 'Return to Office',\n        aiInstructions:\n          'Document scheduled follow-up with provider name, visit type, location, date and time.',\n        required: true,\n        order: 14,\n        keywords: ['Return', 'Office', 'Established Patient', 'AM', 'PM'],\n        format: 'paragraph',\n        exampleText:\n          'Veena Watwe for Established Patient at GC_EPC_Huffmeister Office on 09/03/2025 at 09:00 AM',\n      },\n    },\n    generalInstructions:\n      'Create a focused diabetes follow-up note for Type 2 diabetes with chronic kidney disease. Emphasize medication adjustments based on renal function, particularly avoiding metformin. Document GLP-1 agonist and SGLT2 inhibitor use with detailed patient education about mechanisms and side effects. Include comprehensive lifestyle counseling with specific dietary restrictions and exercise recommendations. Track A1c improvements, weight changes, and glucose patterns from continuous monitoring. Document all comorbidities including hypertension management, CKD staging with nephrology involvement, and post-stroke symptoms. Always include diabetes complication education and adherence counseling.',\n  },\n  {\n    name: 'Ghislaine - Psychiatric Medication Management',\n    description:\n      'Comprehensive psychiatric evaluation for depression, anxiety, and panic disorder with medication management',\n    visitType: 'psychiatry',\n    isDefault: false,\n    sections: {\n      chiefComplaint: {\n        title: 'Chief Complaint',\n        aiInstructions: 'Brief statement of primary reason for psychiatric visit.',\n        required: true,\n        order: 1,\n        keywords: ['Medication management', 'depression', 'anxiety'],\n        format: 'paragraph',\n        exampleText: 'Chief Complaint:\\nMedication management for depression and anxiety',\n      },\n      intervalHistory: {\n        title: 'Interval History',\n        aiInstructions:\n          'Detailed psychiatric symptom progression including anxiety manifestations, mood symptoms, panic attack frequency, sleep disturbances, medication compliance, and psychosocial stressors. Include specific triggers and timeline.',\n        required: true,\n        order: 2,\n        keywords: [\n          'anxiety symptoms',\n          'shaking',\n          'tremors',\n          'sunset',\n          'sadness',\n          'crying',\n          'panic attacks',\n          'nightmares',\n          'jaw clenching',\n          'stressors',\n          'compliant',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"Patient reports an increase in anxiety symptoms with return of shaking/tremors, particularly at sunset. Expresses constantly feeling like 'something bad is going to happen'.\\nShe also reports significant sadness, frequent crying, and has been experiencing multiple panic attacks per week (approximately 3). She was previously doing well on her medications but has felt worse for the past 2 weeks due to significant external stressors.\\nSleep: Patient reports having nightmares, sleep disturbance with jaw clenching/teeth grinding during sleep and waking up with tears.\",\n      },\n      medicationSchedule: {\n        title: 'Medication Timing and Compliance',\n        aiInstructions:\n          'Document specific medication scheduling strategies patient uses to manage side effects, compliance status, and any medication issues.',\n        required: true,\n        order: 3,\n        keywords: [\n          'compliant',\n          'schedule',\n          'Bupropion',\n          'Trintellix',\n          'drowsiness',\n          'first',\n          'later',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'The patient is compliant with medications, noting she follows a specific schedule for Bupropion first, then taking Trintellix later to avoid excessive drowsiness.',\n      },\n      psychosocialStressors: {\n        title: 'Psychosocial Stressors',\n        aiInstructions:\n          'Document specific life stressors including family health issues, work stress, and acute medical emergencies. Note which stressors are primary triggers for symptom exacerbation.',\n        required: true,\n        order: 4,\n        keywords: [\n          'stress',\n          'work',\n          'mother',\n          'emergency room',\n          'daughter',\n          'allergic reactions',\n          'trigger',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'Psychosocial Stressors: Patient reports significant stress from work, her ill mother, and multiple emergency room visits with her daughter who experienced severe allergic reactions, high blood pressure episodes, and a yeast infection. These recent events with her daughter appear to be the main trigger for her anxiety exacerbation.',\n      },\n      safetyAssessment: {\n        title: 'Safety Assessment',\n        aiInstructions:\n          'Document presence or absence of suicidal ideation, homicidal ideation, and psychotic symptoms.',\n        required: true,\n        order: 5,\n        keywords: ['Denies', 'suicidal', 'homicidal', 'ideation', 'psychotic symptoms'],\n        format: 'paragraph',\n        exampleText: 'Denies suicidal or homicidal ideation, no psychotic symptoms.',\n      },\n      therapyStatus: {\n        title: 'Psychotherapy Status',\n        aiInstructions: 'Document current therapy involvement and effectiveness.',\n        required: false,\n        order: 6,\n        keywords: ['psychologist', 'therapy', \"doesn't work\", 'distress'],\n        format: 'paragraph',\n        exampleText:\n          \"The patient continues to see her psychologist but notes that sometimes therapy 'doesn't work' for her current level of distress.\",\n      },\n      currentMedications: {\n        title: 'Current Medications',\n        aiInstructions:\n          'List all psychiatric medications with doses and note which are being taken or not taken. Include non-psychiatric medications.',\n        required: true,\n        order: 7,\n        keywords: ['Wellbutrin', 'Trintellix', 'Trazodone', 'mg', 'not taking', 'sedation'],\n        format: 'paragraph',\n        exampleText:\n          'Current Medications:\\nWellbutrin XL 150mg\\nTrintellix 20mg\\nTrazodone 12.5 mg (not taking due to excessive sedation)\\n\\nother meds:\\nTizanidine, Ubrelvy, omeprazole',\n      },\n      previousTrials: {\n        title: 'Previous Medication Trials',\n        aiInstructions: 'List previously tried psychiatric medications.',\n        required: false,\n        order: 8,\n        keywords: ['previous', 'trials', 'Prozac', 'Effexor', 'Zaleplon'],\n        format: 'paragraph',\n        exampleText: 'previous psych med trials: Prozac, Effexor, Zaleplon',\n      },\n      mentalStatusExam: {\n        title: 'Mental Status Exam',\n        aiInstructions:\n          'Complete MSE including appearance, behavior, motor activity with specific abnormalities, speech, mood (quoted), affect, thought process/content, orientation, attention, memory, insight, and judgment.',\n        required: true,\n        order: 9,\n        keywords: [\n          'MSE',\n          'well-groomed',\n          'distressed',\n          'tearful',\n          'tremors',\n          'speech',\n          'mood',\n          'affect',\n          'thought',\n          'oriented',\n          'memory',\n          'insight',\n          'judgment',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"MSE: Appears stated age, well-groomed and appropriately dressed with good hygiene\\nBehavior: distressed and tearful during the session.\\nMotor Activity: Bilat arm tremors w extension\\nSpeech: clear, normal rate, rhythm, and volume.\\nMood: 'very sad'\\nAffect: Tearful and anxious\\nThought Process: linear, logical and goal-directed.\\nThought Content: Preoccupied with anxiety and worry about her daughter's health issues.\\nSensorium/Orientation: Alert, oriented x4\\nAttention/Concentration: sustained\\nMemory: intact for immediate, recent, and remote recalls.\\nInsight: Partial\\nJudgment: Good\",\n      },\n      assessmentSummary: {\n        title: 'Assessment Summary',\n        aiInstructions:\n          'Comprehensive assessment including demographics, employment/family status, psychiatric history abbreviations (MDD-R, GAD), and current presentation summary.',\n        required: true,\n        order: 10,\n        keywords: [\n          'year-old',\n          'female',\n          'employed',\n          'married',\n          'MDD-R',\n          'GAD',\n          'panic attacks',\n          'insomnia',\n          'presentation',\n        ],\n        format: 'paragraph',\n        exampleText:\n          'This is a 48-year-old female, employed, married with children, with a psychiatric history of MDD-R, GAD with panic attacks, and insomnia presenting today for a follow up visit.\\n\\nHer presentation is most suggestive of: MDD, GAD with panic attacks, insomnia\\n\\nPatient reports increased anxiety and mood symptoms due to acute external life stressors.',\n      },\n      treatmentPlan: {\n        title: 'Treatment Plan',\n        aiInstructions:\n          'Specific medication decisions including continuations, discontinuations, dose changes, timing adjustments, and follow-up schedule.',\n        required: true,\n        order: 11,\n        keywords: ['Continue', 'D/C', 'convert', 'PM dosing', 'FU', 'weeks'],\n        format: 'bullets',\n        exampleText:\n          'Plan:\\n- Continue Wellbutrin XL 150mg for mood and fatigue.\\n- Continue Trintellix 20mg - convert to PM dosing to mitigate daytime fatigue.\\n- D/C Trazodone (not taking)\\n- FU in 2 weeks.',\n      },\n      suicideRiskAssessment: {\n        title: 'Suicide Risk Assessment',\n        aiInstructions:\n          'Comprehensive suicide risk assessment with specific protective factors and risk factors listed. Include acute risk level determination.',\n        required: true,\n        order: 12,\n        keywords: [\n          'Protective factors',\n          'Risk factors',\n          'Acute Risk',\n          'SI',\n          'plan',\n          'intent',\n          'engaged',\n          'orientation',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"Suicide Risk Assessment:\\nProtective factors: No active SI, plan, or intent, engaged in care, future orientation with planned weekend visit to sister, maternal role, family attachment, maintaining employment\\nRisk factors: Significant anxiety symptoms, sleep disturbance with nightmares, feeling overwhelmed with daughter's medical issues, work stressors\\nAcute Risk: Low\",\n      },\n      complexityStatement: {\n        title: 'Medical Decision Making',\n        aiInstructions:\n          'Document complexity of medical decision making, specific issues addressed, and interventions performed.',\n        required: true,\n        order: 13,\n        keywords: [\n          'complex medical decision-making',\n          'psychiatric concerns',\n          'suicide risk assessment',\n          'medication review',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"Today's session involved complex medical decision-making addressing multiple psychiatric concerns. Patient presented with increased anxiety symptoms including physical manifestations (shaking, jaw clenching), tearfulness, and sleep disturbance. Reviewed medication regimen and timing issues between Trintellix and Bupropion. Conducted thorough suicide risk assessment indicating low acute risk.\",\n      },\n      therapyRecap: {\n        title: 'Therapy Recap',\n        aiInstructions:\n          'Document time spent, therapeutic techniques used with specific examples, current prognosis, and necessity for continuing treatment.',\n        required: true,\n        order: 14,\n        keywords: [\n          'Time spent',\n          'mins',\n          'Supportive therapy',\n          'Validation',\n          'Psychoeducation',\n          'Behavioral interventions',\n          'prognosis',\n          'necessity',\n        ],\n        format: 'paragraph',\n        exampleText:\n          \"Therapy Recap:\\nTime spent: 17 mins\\nTherapeutic techniques used:\\n• Supportive therapy - provided emotional support during patient's disclosure about daughter's health emergencies\\n• Validation - acknowledged patient's legitimate concerns\\n• Psychoeducation - discussed connection between stressful life events and anxiety symptoms\\n• Behavioral interventions - identified need for self-care activities\\nCurrent prognosis: Guarded - patient experiencing significant anxiety symptoms despite medication management\\nNecessity for continuing treatment: Ongoing treatment necessary to address anxiety symptoms and develop coping strategies\",\n      },\n      diagnoses: {\n        title: 'Diagnoses with ICD-10 Codes',\n        aiInstructions:\n          'Numbered list of psychiatric diagnoses with ICD-10 codes and associated prescriptions.',\n        required: true,\n        order: 15,\n        keywords: [\n          'F41.1',\n          'F33.1',\n          'F41.0',\n          'F51.04',\n          'anxiety disorder',\n          'depressive disorder',\n          'panic',\n          'insomnia',\n        ],\n        format: 'numbered',\n        exampleText:\n          '1. Generalized anxiety disorder\\nF41.1: Generalized anxiety disorder\\nTrintellix 20 mg tablet - Take 1 tablet(s) every day by oral route. Qty: (30) tablet Refills: 0\\n\\n2. Moderate episode of recurrent major depressive disorder\\nF33.1: Major depressive disorder, recurrent, moderate\\nWellbutrin XL 150 mg 24 hr tablet, extended release - Take 1 tablet(s) every day by oral route. Qty: (30) tablet\\n\\n3. Panic attacks\\nF41.0: Panic disorder [episodic paroxysmal anxiety]\\n\\n4. Chronic insomnia\\nF51.04: Psychophysiologic insomnia',\n      },\n      followUp: {\n        title: 'Return to Office',\n        aiInstructions:\n          'Document scheduled follow-up with provider name, credentials (PMHNP), location, date and time.',\n        required: true,\n        order: 16,\n        keywords: ['Return', 'PMHNP', 'Established Patient', 'Office', 'AM'],\n        format: 'paragraph',\n        exampleText:\n          'Return to Office\\nGhislaine Tonye, PMHNP for Established Patient at GC_EPC_Huffmeister Office on 09/09/2025 at 10:00 AM',\n      },\n    },\n    generalInstructions:\n      'Create a comprehensive psychiatric medication management note with detailed mental status examination and suicide risk assessment. Document anxiety physical manifestations (tremors, jaw clenching), panic attack frequency, and sleep disturbances in detail. Include specific medication timing strategies patient uses to manage side effects. Thoroughly document psychosocial stressors and their relationship to symptom exacerbation. Always include complete suicide risk assessment with protective and risk factors. Document therapeutic techniques used during session and time spent. Include all psychiatric diagnoses with ICD-10 codes and complete medication prescriptions. Note previous medication trials and reasons for discontinuation. Emphasize the connection between life stressors and symptom changes.',\n  },\n\n  // ========== BACKEND SPECIALTY TEMPLATES ==========\n  // The following templates were imported from backend/api/templates/library/route.ts\n  // These provide comprehensive specialty coverage for Endocrinology, Primary Care, and Sports Medicine\n\n  // ---------- ENDOCRINOLOGY SPECIALTY TEMPLATES (10) ----------\n  {\n    name: 'Endo - Diabetes Comprehensive',\n    description: 'Comprehensive diabetes management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for diabetes follow-up. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['glucose', 'diabetes', 'HbA1c', 'insulin', 'hypoglycemia'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['BP', 'weight', 'BMI', 'glucose', 'labs'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['diabetes', 'glycemic control'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['medication', 'follow-up', 'labs'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on diabetes management, glycemic control, and medication adjustments.',\n  },\n  {\n    name: 'Endo - Thyroid Hypothyroidism',\n    description: 'Hypothyroidism management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for hypothyroidism. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['fatigue', 'weight gain', 'cold intolerance', 'thyroid'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['TSH', 'T4', 'vital signs'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['hypothyroidism', 'thyroid function'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['levothyroxine', 'TSH', 'follow-up'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on thyroid hormone replacement therapy and symptom management.',\n  },\n  {\n    name: 'Endo - Thyroid Hyperthyroidism',\n    description: 'Hyperthyroidism/thyrotoxicosis management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for hyperthyroidism/thyrotoxicosis. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['palpitations', 'weight loss', 'heat intolerance', 'tremor'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['TSH', 'T3', 'T4', 'heart rate'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['hyperthyroidism', 'thyrotoxicosis'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['methimazole', 'propranolol', 'RAI'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on antithyroid medications, symptom control, and monitoring.',\n  },\n  {\n    name: 'Endo - Thyroid Nodule',\n    description: 'Thyroid nodule evaluation template',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for thyroid nodule. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['nodule', 'neck mass', 'swallowing', 'voice changes'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['ultrasound', 'palpation', 'lymph nodes'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['thyroid nodule', 'FNA', 'malignancy risk'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['FNA biopsy', 'ultrasound', 'TSH'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on nodule characterization, biopsy decisions, and follow-up plan.',\n  },\n  {\n    name: 'Endo - Osteoporosis',\n    description: 'Osteoporosis management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for osteoporosis. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['fracture', 'bone pain', 'height loss', 'calcium'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['DEXA', 'T-score', 'height', 'spine'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['osteoporosis', 'fracture risk'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['bisphosphonate', 'calcium', 'vitamin D', 'DEXA'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on bone health, fracture prevention, and medication management.',\n  },\n  {\n    name: 'Endo - Hyperparathyroidism',\n    description: 'Hyperparathyroidism management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for hyperparathyroidism. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['kidney stones', 'bone pain', 'fatigue', 'depression'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['calcium', 'PTH', 'phosphorus', 'vitamin D'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['hyperparathyroidism', 'hypercalcemia'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['parathyroidectomy', 'imaging', 'labs'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on calcium management and surgical evaluation.',\n  },\n  {\n    name: 'Endo - Hypercalcemia',\n    description: 'Hypercalcemia evaluation template',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for hypercalcemia. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['confusion', 'kidney stones', 'bone pain', 'nausea'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['calcium', 'albumin', 'PTH', 'phosphorus'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['hypercalcemia', 'etiology'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['hydration', 'bisphosphonate', 'workup'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on identifying etiology and managing acute hypercalcemia.',\n  },\n  {\n    name: 'Endo - Adrenal Insufficiency',\n    description: 'Adrenal insufficiency management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for adrenal insufficiency. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['fatigue', 'weight loss', 'hypotension', 'stress'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['blood pressure', 'cortisol', 'ACTH', 'electrolytes'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['adrenal insufficiency', 'Addison\\'s'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['hydrocortisone', 'stress dosing', 'education'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on hormone replacement therapy and stress management education.',\n  },\n  {\n    name: 'Endo - PCOS',\n    description: 'Polycystic ovarian syndrome management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for polycystic ovarian syndrome. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['irregular periods', 'hirsutism', 'weight gain', 'acne'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['BMI', 'hirsutism score', 'acne', 'ultrasound'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['PCOS', 'insulin resistance', 'hyperandrogenism'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['metformin', 'OCPs', 'lifestyle', 'labs'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on metabolic and reproductive manifestations of PCOS.',\n  },\n  {\n    name: 'Endo - Male Hypogonadism',\n    description: 'Male hypogonadism management template',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for male hypogonadism. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['libido', 'fatigue', 'erectile dysfunction', 'mood'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['testosterone', 'LH', 'FSH', 'PSA'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['hypogonadism', 'testosterone deficiency'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['testosterone', 'monitoring', 'PSA'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on testosterone replacement therapy and monitoring.',\n  },\n\n  // ---------- PRIMARY CARE SPECIALTY TEMPLATES (10) ----------\n  {\n    name: 'Primary Care - Hypertension',\n    description: 'Hypertension management in primary care',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for hypertension. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['blood pressure', 'headache', 'chest pain', 'compliance'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['BP', 'heart rate', 'cardiovascular exam'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['hypertension', 'cardiovascular risk'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['ACE inhibitor', 'lifestyle', 'monitoring'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on blood pressure control and cardiovascular risk reduction.',\n  },\n  {\n    name: 'Primary Care - Hyperlipidemia',\n    description: 'Cholesterol management in primary care',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for hyperlipidemia. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['diet', 'exercise', 'family history', 'compliance'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['cholesterol', 'LDL', 'HDL', 'triglycerides'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['hyperlipidemia', 'cardiovascular risk'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['statin', 'diet', 'exercise', 'recheck'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on lipid management and cardiovascular risk stratification.',\n  },\n  {\n    name: 'Primary Care - Diabetes',\n    description: 'Diabetes management in primary care setting',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for diabetes in primary care. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['glucose', 'polyuria', 'polydipsia', 'compliance'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['HbA1c', 'glucose', 'feet exam', 'eye exam'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['diabetes', 'glycemic control'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['metformin', 'lifestyle', 'monitoring', 'screening'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on glycemic control and diabetes complications screening.',\n  },\n  {\n    name: 'Primary Care - Obesity',\n    description: 'Weight management in primary care',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for obesity/weight management. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['weight', 'diet', 'exercise', 'motivation'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['BMI', 'weight', 'waist circumference'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['obesity', 'metabolic syndrome'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['diet', 'exercise', 'counseling', 'referral'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on sustainable weight loss strategies and lifestyle modification.',\n  },\n  {\n    name: 'Primary Care - UTI',\n    description: 'Urinary tract infection management',\n    visitType: 'general',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for urinary tract infection. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['dysuria', 'frequency', 'urgency', 'suprapubic pain'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['urinalysis', 'nitrites', 'leukocyte esterase', 'CVA tenderness'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['UTI', 'cystitis', 'pyelonephritis'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['antibiotic', 'culture', 'hydration', 'follow-up'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on appropriate antibiotic selection and symptom management.',\n  },\n  {\n    name: 'Primary Care - URI',\n    description: 'Upper respiratory infection management',\n    visitType: 'general',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for upper respiratory infection. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['cough', 'congestion', 'sore throat', 'fever'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['throat', 'lymph nodes', 'ears', 'lungs'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['viral URI', 'sinusitis', 'pharyngitis'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['supportive care', 'symptomatic treatment', 'return precautions'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on symptom management and appropriate use of antibiotics.',\n  },\n  {\n    name: 'Primary Care - Back Pain',\n    description: 'Mechanical low back pain management',\n    visitType: 'general',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for mechanical low back pain. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['back pain', 'radiation', 'numbness', 'weakness'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['range of motion', 'straight leg raise', 'reflexes', 'strength'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['mechanical back pain', 'radiculopathy', 'muscle strain'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['NSAIDs', 'physical therapy', 'activity modification'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on conservative management and red flag screening.',\n  },\n  {\n    name: 'Primary Care - Annual Wellness',\n    description: 'Annual wellness visit template',\n    visitType: 'general',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for annual wellness. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['review of systems', 'health maintenance', 'screening'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['vital signs', 'physical exam', 'screening tests'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['health maintenance', 'prevention'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['screening', 'immunizations', 'lifestyle counseling'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on preventive care and health maintenance.',\n  },\n  {\n    name: 'Primary Care - Depression',\n    description: 'Depression screening and management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for depression screening/management. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['mood', 'sleep', 'appetite', 'energy', 'suicidal ideation'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['mental status', 'PHQ-9', 'appearance', 'affect'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['depression', 'suicide risk'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['antidepressant', 'therapy', 'safety plan', 'follow-up'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on depression screening, safety assessment, and treatment planning.',\n  },\n  {\n    name: 'Primary Care - Asthma',\n    description: 'Asthma management in primary care',\n    visitType: 'follow-up',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for asthma. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['wheezing', 'shortness of breath', 'cough', 'triggers'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['peak flow', 'oxygen saturation', 'lungs', 'wheezing'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['asthma', 'control', 'exacerbation'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['inhaler', 'controller', 'rescue', 'action plan'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on asthma control assessment and inhaler technique.',\n  },\n\n  // ---------- SPORTS MEDICINE SPECIALTY TEMPLATES (10) ----------\n  {\n    name: 'Sports Med - Shoulder Impingement',\n    description: 'Shoulder impingement syndrome management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for shoulder impingement. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['shoulder pain', 'overhead activity', 'night pain', 'weakness'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['range of motion', 'impingement tests', 'strength', 'MRI'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['impingement syndrome', 'rotator cuff'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['physical therapy', 'NSAIDs', 'activity modification'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on shoulder mechanics and conservative management.',\n  },\n  {\n    name: 'Sports Med - Rotator Cuff Tendinopathy',\n    description: 'Rotator cuff tendinopathy management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for rotator cuff tendinopathy. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['shoulder pain', 'weakness', 'overhead activities', 'night pain'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['strength testing', 'special tests', 'ultrasound', 'MRI'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['rotator cuff tendinopathy', 'tear'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['physical therapy', 'injections', 'surgery'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on rotator cuff strengthening and load management.',\n  },\n  {\n    name: 'Sports Med - Lateral Epicondylitis',\n    description: 'Tennis elbow management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for lateral epicondylitis. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['elbow pain', 'gripping', 'lifting', 'tennis'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['lateral epicondyle', 'grip strength', 'Mill\\'s test'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['lateral epicondylitis', 'tennis elbow'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['counterforce brace', 'eccentric exercises', 'activity modification'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on activity modification and progressive loading.',\n  },\n  {\n    name: 'Sports Med - Medial Epicondylitis',\n    description: 'Golfer\\'s elbow management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for medial epicondylitis. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['elbow pain', 'gripping', 'golf', 'medial'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['medial epicondyle', 'flexor tendons', 'ulnar nerve'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['medial epicondylitis', 'golfer\\'s elbow'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['eccentric exercises', 'activity modification', 'brace'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on flexor tendon rehabilitation and grip modification.',\n  },\n  {\n    name: 'Sports Med - ACL Tear',\n    description: 'ACL tear management (non-op or post-op)',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for ACL tear non-op or post-op. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['knee instability', 'giving way', 'swelling', 'surgery'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['Lachman test', 'pivot shift', 'swelling', 'MRI'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['ACL tear', 'knee instability'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['physical therapy', 'surgery', 'return to sport'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on stability assessment and return to sport planning.',\n  },\n  {\n    name: 'Sports Med - Meniscal Injury',\n    description: 'Meniscal injury management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for meniscal injury. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['knee pain', 'locking', 'catching', 'swelling'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['McMurray test', 'joint line tenderness', 'range of motion'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['meniscal tear', 'knee pain'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['MRI', 'physical therapy', 'arthroscopy'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on mechanical symptoms and surgical candidacy.',\n  },\n  {\n    name: 'Sports Med - Patellofemoral Pain',\n    description: 'Patellofemoral pain syndrome management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for patellofemoral pain. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['anterior knee pain', 'stairs', 'sitting', 'running'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['patella tracking', 'Q-angle', 'quadriceps strength'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['patellofemoral pain syndrome'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['quadriceps strengthening', 'activity modification', 'taping'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on biomechanical assessment and quadriceps strengthening.',\n  },\n  {\n    name: 'Sports Med - Achilles Tendinopathy',\n    description: 'Achilles tendinopathy management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for achilles tendinopathy. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['heel pain', 'morning stiffness', 'running', 'achilles'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['achilles tendon', 'swelling', 'calf raise', 'ultrasound'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['achilles tendinopathy', 'tendonosis'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['eccentric exercises', 'heel lift', 'load management'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on progressive loading and eccentric strengthening.',\n  },\n  {\n    name: 'Sports Med - Plantar Fasciitis',\n    description: 'Plantar fasciitis management',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for plantar fasciitis. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['heel pain', 'first steps', 'morning', 'arch'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['heel tenderness', 'dorsiflexion', 'arch height'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['plantar fasciitis', 'heel pain'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['stretching', 'orthotics', 'night splint', 'injection'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on stretching program and biomechanical factors.',\n  },\n  {\n    name: 'Sports Med - Concussion',\n    description: 'Concussion management and return to play',\n    visitType: 'consultation',\n    isDefault: false,\n    sections: {\n      subjective: {\n        title: 'Subjective',\n        aiInstructions:\n          'SOAP-only. Generate a concise clinical note for concussion. Subjective: capture HPI + key symptoms exactly as discussed; do not invent.',\n        required: true,\n        order: 1,\n        keywords: ['head injury', 'headache', 'dizziness', 'confusion', 'memory'],\n        format: 'paragraph',\n      },\n      objective: {\n        title: 'Objective',\n        aiInstructions:\n          'Objective: only include vitals/labs/imaging that the provider mentioned. Do not fabricate data.',\n        required: true,\n        order: 2,\n        keywords: ['neurological exam', 'SCAT5', 'balance', 'cognitive testing'],\n        format: 'paragraph',\n      },\n      assessment: {\n        title: 'Assessment',\n        aiInstructions:\n          'Assessment: list the problems with the provider\\'s clinical reasoning as stated.',\n        required: true,\n        order: 3,\n        keywords: ['concussion', 'mild TBI', 'post-concussion syndrome'],\n        format: 'numbered',\n      },\n      plan: {\n        title: 'Plan',\n        aiInstructions:\n          'Plan: clear action steps, med changes, orders, and explicit follow-up timing, using concise bullets.',\n        required: true,\n        order: 4,\n        keywords: ['rest', 'gradual return', 'cognitive testing', 'clearance'],\n        format: 'bullets',\n      },\n    },\n    generalInstructions: 'Focus on symptom monitoring and graduated return to play protocol.',\n  },\n];\n\n/**\n * Get default templates for a new doctor\n */\nexport function getDefaultTemplatesForDoctor(doctorId: string): DoctorTemplate[] {\n  return standardTemplates.map((template, index) => ({\n    ...template,\n    id: `standard_${doctorId}_${index}_${Date.now()}`,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n    usageCount: 0,\n  }));\n}\n","/**\n * Doctor Profile Service\n * Manages doctor-specific settings, templates, and preferences\n */\n\nexport interface DoctorTemplate {\n  id: string;\n  name: string;\n  description?: string;\n  visitType?: 'new-patient' | 'follow-up' | 'consultation' | 'emergency' | 'general';\n  isDefault?: boolean;\n  sections: {\n    [key: string]: {\n      title: string;\n      aiInstructions: string;\n      required: boolean;\n      order: number;\n      keywords?: string[];\n      format?: 'paragraph' | 'bullets' | 'numbered';\n      exampleText?: string;\n    };\n  };\n  generalInstructions?: string;\n  createdAt: string;\n  updatedAt: string;\n  usageCount: number;\n}\n\nexport interface DoctorSettings {\n  defaultTemplateId?: string;\n  defaultTemplateByVisitType?: {\n    'new-patient'?: string;\n    'follow-up'?: string;\n    consultation?: string;\n    emergency?: string;\n    general?: string;\n  };\n  aiStyle: 'formal' | 'conversational' | 'concise' | 'detailed';\n  autoProcessAfterRecording: boolean;\n  voiceSettings?: {\n    provider?: 'elevenlabs' | 'azure';\n    voiceId?: string;\n    speed?: number;\n    pitch?: number;\n  };\n  displayPreferences?: {\n    showInterimTranscript: boolean;\n    highlightMedicalTerms: boolean;\n    autoSaveInterval?: number; // in seconds\n  };\n  recordingPreferences?: {\n    mode: 'dictation' | 'conversation';\n    autoStopAfterSilence?: number; // in seconds\n    showVideoPreview?: boolean;\n  };\n}\n\nexport interface DoctorProfile {\n  doctorId: string;\n  settings: DoctorSettings;\n  templates: DoctorTemplate[];\n  recentTemplates: string[]; // Template IDs\n  favoriteTemplates: string[]; // Template IDs\n}\n\n// Import the API service\nimport { templateAPIService } from './templateAPI.service';\n// Import standard templates\nimport { getDefaultTemplatesForDoctor, standardTemplates } from '../data/standardTemplates';\nimport { logError, logWarn, logInfo, logDebug } from './logger.service';\n\nclass DoctorProfileService {\n  private readonly STORAGE_KEY_PREFIX = 'doctor_profile_';\n  private readonly MAX_TEMPLATES_PER_DOCTOR = 50;\n  private readonly MAX_RECENT_TEMPLATES = 5;\n  private currentDoctorId: string | null = null;\n  private profileCache: Map<string, DoctorProfile> = new Map();\n\n  /**\n   * Initialize service with current doctor\n   */\n  initialize(doctorId: string): void {\n    this.currentDoctorId = doctorId;\n  }\n\n  /**\n   * Get the storage key for a doctor\n   */\n  private getStorageKey(doctorId: string): string {\n    return `${this.STORAGE_KEY_PREFIX}${doctorId}`;\n  }\n\n  /**\n   * Get doctor profile (creates default if not exists)\n   */\n  async getProfile(doctorId?: string): Promise<DoctorProfile> {\n    const id = doctorId || this.currentDoctorId || 'default-doctor';\n\n    // Log the ID being used for debugging\n    logDebug('doctorProfile', 'Debug message', {});\n\n    if (!id || id === 'undefined' || id === 'null') {\n      logWarn('doctorProfile', 'Warning message', {});\n      const fallbackId = 'default-doctor';\n      return this.getProfile(fallbackId);\n    }\n\n    // Check cache first\n    if (this.profileCache.has(id)) {\n      const cachedProfile = this.profileCache.get(id)!;\n      // Ensure profile has all standard templates\n      const migratedProfile = this.ensureStandardTemplates(cachedProfile);\n      if (migratedProfile !== cachedProfile) {\n        this.profileCache.set(id, migratedProfile);\n      }\n      return migratedProfile;\n    }\n\n    // NEW: Load profile with database-first template loading\n    logDebug('doctorProfile', 'Debug message', {});\n\n    // Try to load doctor profile from API\n    let profile = await templateAPIService.loadProfile(id);\n    let templatesFromDB: DoctorTemplate[] = [];\n\n    // Load templates from database\n    templatesFromDB = await this.loadTemplatesFromDatabase(id);\n\n    if (templatesFromDB.length === 0) {\n      logDebug('doctorProfile', 'Debug message', {});\n      // If no templates in database, create profile with default templates\n      if (!profile) {\n        profile = this.createDefaultProfileWithoutTemplates(id);\n      }\n      // Use legacy method as fallback\n      const migratedProfile = this.ensureStandardTemplates(profile);\n      this.profileCache.set(id, migratedProfile);\n      localStorage.setItem(this.getStorageKey(id), JSON.stringify(migratedProfile));\n      return migratedProfile;\n    }\n\n    // Create profile with database templates\n    if (!profile) {\n      profile = this.createDefaultProfileWithoutTemplates(id);\n    }\n\n    // Update profile with database templates\n    profile.templates = templatesFromDB;\n\n    this.profileCache.set(id, profile);\n    localStorage.setItem(this.getStorageKey(id), JSON.stringify(profile));\n    logInfo('doctorProfile', 'Info message', {});\n    return profile;\n  }\n\n  /**\n   * Get doctor profile synchronously (from cache or localStorage only)\n   */\n  getProfileSync(doctorId?: string): DoctorProfile {\n    const id = doctorId || this.currentDoctorId;\n    if (!id) {\n      throw new Error('No doctor ID provided');\n    }\n\n    // Check cache first\n    if (this.profileCache.has(id)) {\n      const cachedProfile = this.profileCache.get(id)!;\n      // Ensure profile has all standard templates\n      const migratedProfile = this.ensureStandardTemplates(cachedProfile);\n      if (migratedProfile !== cachedProfile) {\n        this.profileCache.set(id, migratedProfile);\n      }\n      return migratedProfile;\n    }\n\n    // Check localStorage\n    const stored = localStorage.getItem(this.getStorageKey(id));\n    if (stored) {\n      try {\n        const profile = JSON.parse(stored);\n        // Ensure profile has all standard templates\n        const migratedProfile = this.ensureStandardTemplates(profile);\n        this.profileCache.set(id, migratedProfile);\n        // Save migrated profile back to localStorage if changed\n        if (migratedProfile !== profile) {\n          localStorage.setItem(this.getStorageKey(id), JSON.stringify(migratedProfile));\n        }\n        return migratedProfile;\n      } catch (e) {\n        logError('doctorProfile', 'Error message', {});\n      }\n    }\n\n    // Return default profile\n    return this.createDefaultProfile(id);\n  }\n\n  /**\n   * Load templates from database first, fallback to ensuring standard templates\n   * NEW: Database-first approach for template loading\n   */\n  private async loadTemplatesFromDatabase(doctorId: string): Promise<DoctorTemplate[]> {\n    try {\n      logDebug('doctorProfile', 'Debug message', {});\n\n      // Try to get templates from MySQL database\n      const templates = await templateAPIService.getTemplates(doctorId);\n\n      if (templates && templates.length > 0) {\n        logInfo('doctorProfile', 'Info message', {});\n        return templates;\n      }\n\n      logDebug('doctorProfile', 'Debug message', {});\n      return [];\n    } catch (error) {\n      logError('doctorProfile', 'Error message', {});\n      return [];\n    }\n  }\n\n  /**\n   * Ensure profile has all standard templates including Tess and Nikki\n   * LEGACY: Only used as fallback when database is empty\n   */\n  private ensureStandardTemplates(profile: DoctorProfile): DoctorProfile {\n    // Use the imported standardTemplates from top of file\n\n    // Check if profile has Tess and Nikki templates\n    const hasTess = profile.templates.some(\n      t => t.name === 'Tess - Endocrinology Follow-up' || t.name.includes('Tess')\n    );\n    const hasNikki = profile.templates.some(\n      t => t.name === 'Nikki - Psychiatry Follow-up' || t.name.includes('Nikki')\n    );\n\n    // If both templates exist, no migration needed\n    if (hasTess && hasNikki) {\n      return profile;\n    }\n\n    // Create a new profile object with added templates\n    const updatedProfile = { ...profile };\n    const templatesToAdd: DoctorTemplate[] = [];\n\n    // Add Tess template if missing\n    if (!hasTess) {\n      const tessTemplate = standardTemplates.find(\n        (t: any) => t.name === 'Tess - Endocrinology Follow-up'\n      );\n      if (tessTemplate) {\n        templatesToAdd.push({\n          ...tessTemplate,\n          id: `standard_${profile.doctorId}_tess_${Date.now()}`,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n          usageCount: 0,\n        });\n      }\n    }\n\n    // Add Nikki template if missing\n    if (!hasNikki) {\n      const nikkiTemplate = standardTemplates.find(\n        (t: any) => t.name === 'Nikki - Psychiatry Follow-up'\n      );\n      if (nikkiTemplate) {\n        templatesToAdd.push({\n          ...nikkiTemplate,\n          id: `standard_${profile.doctorId}_nikki_${Date.now()}`,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n          usageCount: 0,\n        });\n      }\n    }\n\n    // Add new templates to the profile\n    if (templatesToAdd.length > 0) {\n      updatedProfile.templates = [...profile.templates, ...templatesToAdd];\n      logDebug('doctorProfile', 'Debug message', {});\n    }\n\n    return updatedProfile;\n  }\n\n  /**\n   * Create default profile for new doctor (without templates - for database-first loading)\n   */\n  private createDefaultProfileWithoutTemplates(doctorId: string): DoctorProfile {\n    logDebug('doctorProfile', 'Debug message', {});\n\n    const defaultProfile: DoctorProfile = {\n      doctorId,\n      settings: {\n        aiStyle: 'formal',\n        autoProcessAfterRecording: true,\n        displayPreferences: {\n          showInterimTranscript: true,\n          highlightMedicalTerms: true,\n          autoSaveInterval: 30,\n        },\n        recordingPreferences: {\n          mode: 'dictation',\n          autoStopAfterSilence: 3,\n          showVideoPreview: false,\n        },\n        // defaultTemplateId will be set after templates are loaded from database\n      },\n      templates: [], // Will be populated from database\n      recentTemplates: [],\n      favoriteTemplates: [],\n    };\n\n    return defaultProfile;\n  }\n\n  /**\n   * Create default profile for new doctor (LEGACY - with hard-coded templates)\n   */\n  private createDefaultProfile(doctorId: string): DoctorProfile {\n    // Use the imported function\n    const standardTemplates = getDefaultTemplatesForDoctor(doctorId);\n\n    logDebug('doctorProfile', 'Debug message', {});\n\n    const defaultProfile: DoctorProfile = {\n      doctorId,\n      settings: {\n        aiStyle: 'formal',\n        autoProcessAfterRecording: true,\n        displayPreferences: {\n          showInterimTranscript: true,\n          highlightMedicalTerms: true,\n          autoSaveInterval: 30,\n        },\n        recordingPreferences: {\n          mode: 'dictation',\n          autoStopAfterSilence: 3,\n          showVideoPreview: false,\n        },\n        // Set the comprehensive SOAP as default\n        defaultTemplateId: standardTemplates[0]?.id,\n      },\n      templates: standardTemplates,\n      recentTemplates: [],\n      favoriteTemplates: [standardTemplates[0]?.id].filter(Boolean), // Add first template as favorite\n    };\n\n    // Save the default profile\n    this.saveProfile(defaultProfile);\n    return defaultProfile;\n  }\n\n  /**\n   * Save doctor profile\n   */\n  async saveProfile(profile: DoctorProfile): Promise<void> {\n    const key = this.getStorageKey(profile.doctorId);\n\n    // Update cache\n    this.profileCache.set(profile.doctorId, profile);\n\n    // Save to localStorage immediately for offline access\n    localStorage.setItem(key, JSON.stringify(profile));\n\n    // Save to API in background (don't block)\n    templateAPIService.saveProfile(profile).catch(error => {\n      logError('doctorProfile', 'Error message', {});\n    });\n  }\n\n  /**\n   * Update doctor settings\n   */\n  async updateSettings(settings: Partial<DoctorSettings>, doctorId?: string): Promise<void> {\n    const profile = await this.getProfile(doctorId);\n    profile.settings = { ...profile.settings, ...settings };\n    await this.saveProfile(profile);\n  }\n\n  /**\n   * Get doctor settings\n   */\n  async getSettings(doctorId?: string): Promise<DoctorSettings> {\n    const profile = await this.getProfile(doctorId);\n    return profile.settings;\n  }\n\n  /**\n   * Create a new template for doctor\n   */\n  async createTemplate(\n    template: Omit<DoctorTemplate, 'id' | 'createdAt' | 'updatedAt' | 'usageCount'>,\n    doctorId?: string\n  ): Promise<DoctorTemplate> {\n    try {\n      const effectiveDoctorId = doctorId || this.currentDoctorId || 'default-doctor';\n      const profile = await this.getProfile(effectiveDoctorId);\n\n      if (profile.templates.length >= this.MAX_TEMPLATES_PER_DOCTOR) {\n        throw new Error(`Maximum templates limit (${this.MAX_TEMPLATES_PER_DOCTOR}) reached`);\n      }\n\n      const newTemplate: DoctorTemplate = {\n        ...template,\n        id: `template_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        usageCount: 0,\n      };\n\n      // Try to save to API first\n      try {\n        await templateAPIService.saveTemplate(newTemplate, effectiveDoctorId);\n        logInfo('doctorProfile', 'Info message', {});\n      } catch (apiError) {\n        logWarn('doctorProfile', 'Warning message', {});\n      }\n\n      // Update local profile\n      profile.templates.push(newTemplate);\n      await this.saveProfile(profile);\n\n      return newTemplate;\n    } catch (error) {\n      logError('doctorProfile', 'Error message', {});\n      throw error;\n    }\n  }\n\n  /**\n   * Update an existing template\n   */\n  async updateTemplate(\n    templateId: string,\n    updates: Partial<DoctorTemplate>,\n    doctorId?: string\n  ): Promise<void> {\n    const effectiveDoctorId = doctorId || this.currentDoctorId || 'default-doctor';\n    const profile = await this.getProfile(effectiveDoctorId);\n    const index = profile.templates.findIndex(t => t.id === templateId);\n\n    if (index === -1) {\n      throw new Error('Template not found');\n    }\n\n    const updatedTemplate = {\n      ...profile.templates[index],\n      ...updates,\n      updatedAt: new Date().toISOString(),\n    };\n\n    // Try to update on API first\n    try {\n      await templateAPIService.updateTemplate(templateId, updatedTemplate);\n      logInfo('doctorProfile', 'Info message', {});\n    } catch (apiError) {\n      logWarn('doctorProfile', 'Warning message', {});\n    }\n\n    // Update local profile\n    profile.templates[index] = updatedTemplate;\n    await this.saveProfile(profile);\n  }\n\n  /**\n   * Delete a template (MySQL-first approach)\n   */\n  async deleteTemplate(templateId: string, doctorId?: string): Promise<void> {\n    const effectiveDoctorId = doctorId || this.currentDoctorId || 'default-doctor';\n\n    if (!effectiveDoctorId || effectiveDoctorId === 'undefined' || effectiveDoctorId === 'null') {\n      throw new Error('Please log in to delete templates');\n    }\n\n    logDebug('doctorProfile', 'Debug message', {});\n\n    try {\n      // Use MySQL API directly - no localStorage fallback\n      await templateAPIService.deleteTemplate(templateId);\n      logInfo('doctorProfile', 'Info message', {});\n    } catch (error) {\n      logError('doctorProfile', 'Error message', {});\n      throw new Error(\n        `Failed to delete template: ${error instanceof Error ? error.message : 'Database connection failed'}`\n      );\n    }\n  }\n\n  /**\n   * Get all templates for doctor (MySQL-first approach)\n   */\n  async getTemplates(doctorId?: string): Promise<DoctorTemplate[]> {\n    const effectiveDoctorId = doctorId || this.currentDoctorId;\n\n    if (!effectiveDoctorId || effectiveDoctorId === 'undefined' || effectiveDoctorId === 'null') {\n      throw new Error('No doctor ID provided');\n    }\n\n    logDebug('doctorProfile', 'Debug message', {});\n\n    try {\n      // Use MySQL API directly - no localStorage fallback\n      const templates = await templateAPIService.getTemplates(effectiveDoctorId);\n      logInfo('doctorProfile', 'Info message', {});\n      return templates;\n    } catch (error) {\n      logError('doctorProfile', 'Error message', {});\n      throw new Error(\n        `Failed to load templates: ${error instanceof Error ? error.message : 'Database connection failed'}`\n      );\n    }\n  }\n\n  /**\n   * Get a specific template\n   */\n  async getTemplate(templateId: string, doctorId?: string): Promise<DoctorTemplate | null> {\n    const profile = await this.getProfile(doctorId);\n    return profile.templates.find(t => t.id === templateId) || null;\n  }\n\n  /**\n   * Set default template (MySQL-first approach)\n   */\n  async setDefaultTemplate(\n    templateId: string,\n    visitType?: DoctorTemplate['visitType'],\n    doctorId?: string\n  ): Promise<void> {\n    const effectiveDoctorId = doctorId || this.currentDoctorId || 'default-doctor';\n\n    if (!effectiveDoctorId || effectiveDoctorId === 'undefined' || effectiveDoctorId === 'null') {\n      throw new Error('Please log in to set default template');\n    }\n\n    logDebug('doctorProfile', 'Debug message', {});\n\n    try {\n      // Use MySQL API directly - no localStorage fallback\n      await templateAPIService.setDefaultTemplate(templateId, effectiveDoctorId, visitType);\n      logInfo('doctorProfile', 'Info message', {});\n    } catch (error) {\n      logError('doctorProfile', 'Error message', {});\n      throw new Error(\n        `Failed to set default template: ${error instanceof Error ? error.message : 'Database connection failed'}`\n      );\n    }\n  }\n\n  /**\n   * Get default template for visit type or general\n   */\n  async getDefaultTemplate(\n    visitType?: DoctorTemplate['visitType'],\n    doctorId?: string\n  ): Promise<DoctorTemplate | null> {\n    const profile = await this.getProfile(doctorId);\n\n    let templateId: string | undefined;\n\n    if (visitType && profile.settings.defaultTemplateByVisitType?.[visitType]) {\n      templateId = profile.settings.defaultTemplateByVisitType[visitType];\n    } else {\n      templateId = profile.settings.defaultTemplateId;\n    }\n\n    if (!templateId) return null;\n\n    return await this.getTemplate(templateId, doctorId);\n  }\n\n  /**\n   * Add template to recent\n   */\n  async addToRecent(templateId: string, doctorId?: string): Promise<void> {\n    const profile = await this.getProfile(doctorId);\n\n    // Remove if already exists\n    profile.recentTemplates = profile.recentTemplates.filter(id => id !== templateId);\n\n    // Add to beginning\n    profile.recentTemplates.unshift(templateId);\n\n    // Keep only MAX_RECENT_TEMPLATES\n    profile.recentTemplates = profile.recentTemplates.slice(0, this.MAX_RECENT_TEMPLATES);\n\n    // Increment usage count\n    const template = profile.templates.find(t => t.id === templateId);\n    if (template) {\n      template.usageCount++;\n      template.updatedAt = new Date().toISOString();\n    }\n\n    await this.saveProfile(profile);\n  }\n\n  /**\n   * Toggle favorite template (MySQL-first approach)\n   */\n  async toggleFavorite(templateId: string, doctorId?: string): Promise<boolean> {\n    const effectiveDoctorId = doctorId || this.currentDoctorId || 'default-doctor';\n\n    if (!effectiveDoctorId || effectiveDoctorId === 'undefined' || effectiveDoctorId === 'null') {\n      throw new Error('Please log in to manage favorites');\n    }\n\n    logDebug('doctorProfile', 'Debug message', {});\n\n    try {\n      // Use MySQL API directly - no localStorage fallback\n      const isFavorite = await templateAPIService.toggleFavorite(templateId, effectiveDoctorId);\n      logInfo('doctorProfile', 'Info message', {});\n      return isFavorite;\n    } catch (error) {\n      logError('doctorProfile', 'Error message', {});\n      throw new Error(\n        `Failed to update favorites: ${error instanceof Error ? error.message : 'Database connection failed'}`\n      );\n    }\n  }\n\n  /**\n   * Get recent templates\n   */\n  async getRecentTemplates(doctorId?: string): Promise<DoctorTemplate[]> {\n    const profile = await this.getProfile(doctorId);\n    const templates = await Promise.all(\n      profile.recentTemplates.map(id => this.getTemplate(id, doctorId))\n    );\n    return templates.filter(t => t !== null) as DoctorTemplate[];\n  }\n\n  /**\n   * Get favorite templates\n   */\n  async getFavoriteTemplates(doctorId?: string): Promise<DoctorTemplate[]> {\n    const profile = await this.getProfile(doctorId);\n    const templates = await Promise.all(\n      profile.favoriteTemplates.map(id => this.getTemplate(id, doctorId))\n    );\n    return templates.filter(t => t !== null) as DoctorTemplate[];\n  }\n\n  /**\n   * Duplicate a template (MySQL-first approach)\n   */\n  async duplicateTemplate(\n    templateId: string,\n    newName: string,\n    doctorId?: string\n  ): Promise<DoctorTemplate> {\n    const effectiveDoctorId = doctorId || this.currentDoctorId || 'default-doctor';\n\n    if (!effectiveDoctorId || effectiveDoctorId === 'undefined' || effectiveDoctorId === 'null') {\n      throw new Error('Please log in to duplicate templates');\n    }\n\n    logDebug('doctorProfile', 'Debug message', {});\n\n    try {\n      // Use MySQL API directly - no localStorage fallback\n      const newTemplateId = await templateAPIService.duplicateTemplate(\n        templateId,\n        newName,\n        effectiveDoctorId\n      );\n      logInfo('doctorProfile', 'Info message', {});\n\n      // Get the new template from API\n      const templates = await templateAPIService.getTemplates(effectiveDoctorId);\n      const newTemplate = templates.find(t => t.id === newTemplateId);\n\n      if (!newTemplate) {\n        throw new Error('Duplicated template not found in database');\n      }\n\n      return newTemplate;\n    } catch (error) {\n      logError('doctorProfile', 'Error message', {});\n      throw new Error(\n        `Failed to duplicate template: ${error instanceof Error ? error.message : 'Database connection failed'}`\n      );\n    }\n  }\n\n  /**\n   * Export profile to JSON\n   */\n  async exportProfile(doctorId?: string): Promise<string> {\n    const profile = await this.getProfile(doctorId);\n    return JSON.stringify(profile, null, 2);\n  }\n\n  /**\n   * Import profile from JSON\n   */\n  async importProfile(jsonString: string, doctorId?: string): Promise<void> {\n    try {\n      const imported = JSON.parse(jsonString);\n      const id = doctorId || this.currentDoctorId;\n      if (!id) {\n        throw new Error('No doctor ID provided');\n      }\n\n      // Validate structure\n      if (!imported.settings || !Array.isArray(imported.templates)) {\n        throw new Error('Invalid profile structure');\n      }\n\n      // Update doctor ID\n      imported.doctorId = id;\n\n      // Save\n      await this.saveProfile(imported);\n    } catch (e) {\n      throw new Error(\n        `Failed to import profile: ${e instanceof Error ? e.message : 'Unknown error'}`\n      );\n    }\n  }\n\n  /**\n   * Export single template\n   */\n  async exportTemplate(templateId: string, doctorId?: string): Promise<string> {\n    const template = await this.getTemplate(templateId, doctorId);\n    if (!template) {\n      throw new Error('Template not found');\n    }\n    return JSON.stringify(template, null, 2);\n  }\n\n  /**\n   * Import template\n   */\n  async importTemplate(jsonString: string, doctorId?: string): Promise<DoctorTemplate> {\n    try {\n      const imported = JSON.parse(jsonString);\n\n      // Remove ID and timestamps to create new\n      delete imported.id;\n      delete imported.createdAt;\n      delete imported.updatedAt;\n      delete imported.usageCount;\n\n      return await this.createTemplate(imported, doctorId);\n    } catch (e) {\n      throw new Error(\n        `Failed to import template: ${e instanceof Error ? e.message : 'Unknown error'}`\n      );\n    }\n  }\n\n  /**\n   * Clear cache for a specific doctor to force reload\n   */\n  clearCache(doctorId?: string): void {\n    const id = doctorId || this.currentDoctorId;\n    if (id) {\n      this.profileCache.delete(id);\n      // Also clear from localStorage to force full reload\n      localStorage.removeItem(this.getStorageKey(id));\n      logDebug('doctorProfile', 'Debug message', {});\n    }\n  }\n\n  /**\n   * Clear all caches to force reload for all doctors\n   */\n  clearAllCaches(): void {\n    // Clear all profile cache\n    this.profileCache.clear();\n\n    // Clear all localStorage entries for doctor profiles\n    const keysToRemove: string[] = [];\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key && key.startsWith(this.STORAGE_KEY_PREFIX)) {\n        keysToRemove.push(key);\n      }\n    }\n\n    keysToRemove.forEach(key => localStorage.removeItem(key));\n    logDebug('doctorProfile', 'Debug message', {});\n  }\n}\n\n// Export singleton instance\nexport const doctorProfileService = new DoctorProfileService();\n"],"names":["API_BASE","TemplateAPIService","headers","profile","controller","timeoutId","response","logInfo","error","logWarn","logError","logDebug","doctorId","template","localTemplates","existingIndex","t","templateId","templates","settings","result","visitType","newName","templateAPIService","standardTemplates","getDefaultTemplatesForDoctor","index","DoctorProfileService","id","cachedProfile","migratedProfile","templatesFromDB","stored","hasTess","hasNikki","updatedProfile","templatesToAdd","tessTemplate","nikkiTemplate","defaultProfile","key","effectiveDoctorId","newTemplate","updates","updatedTemplate","isFavorite","newTemplateId","jsonString","imported","e","keysToRemove","i","doctorProfileService"],"mappings":"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AEJ,CACE,KAAM,oDACN,YACE,gHACF,UAAW,yBACX,UAAW,GACX,SAAU,CACR,qBAAsB,CACpB,MAAO,wBACP,eACE,wLACF,SAAU,GACV,MAAO,EACP,SAAU,CACR,eACA,OACA,OACA,iBACA,MACA,MACA,YACA,SAAA,EAEF,OAAQ,YACR,YAAa,iEAAA,EAEf,eAAgB,CACd,MAAO,yBACP,eACE,yLACF,SAAU,GACV,MAAO,EACP,SAAU,CACR,OACA,MACA,MACA,MACA,SACA,WACA,eACA,gBACA,KAAA,EAEF,OAAQ,YACR,YAAa;AAAA;AAAA,6CAAA,EAEf,mBAAoB,CAClB,MAAO,sBACP,eACE,6IACF,SAAU,GACV,MAAO,EACP,SAAU,CACR,MACA,KACA,WACA,UACA,OACA,aACA,aACA,QAAA,EAEF,OAAQ,YACR,YAAa,yDAAA,EAEf,mBAAoB,CAClB,MAAO,2BACP,eACE,oKACF,SAAU,GACV,MAAO,EACP,SAAU,CACR,aACA,aACA,SACA,oBACA,SACA,YAAA,EAEF,OAAQ,YACR,YACE,yFAAA,EAEJ,oBAAqB,CACnB,MAAO,uBACP,eACE,6FACF,SAAU,GACV,MAAO,EACP,SAAU,CAAC,YAAa,YAAa,MAAO,aAAc,SAAU,KAAK,EACzE,OAAQ,YACR,YAAa,iDAAA,EAEf,gBAAiB,CACf,MAAO,4BACP,eACE,yKACF,SAAU,GACV,MAAO,EACP,SAAU,CACR,iBACA,SACA,eACA,UACA,kBACA,WAAA,EAEF,OAAQ,YACR,YACE;AAAA;AAAA,6DAAA,EAEJ,eAAgB,CACd,MAAO,oBACP,eACE,mQACF,SAAU,GACV,MAAO,EACP,SAAU,CACR,aACA,OACA,OACA,MACA,OACA,MACA,eACA,WACA,OACA,MACA,WACA,QACA,OAAA,EAEF,OAAQ,YACR,YACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAAA,EAEJ,eAAgB,CACd,MAAO,8BACP,eACE,+PACF,SAAU,GACV,MAAO,EACP,SAAU,CACR,QACA,QACA,QACA,SACA,KACA,OACA,YACA,cACA,MACA,WAAA,EAEF,OAAQ,YACR,YA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"}