import{u as V,r as l,j as e}from"./index-JAW6HvUl.js";import{g as q}from"./patientData.service-CnIeW3dA.js";const I=[{id:"21m00Tcm4TlvDq8ikWAM",name:"Adam",description:"Professional male"},{id:"AZnzlk1XvdvUeBnXmlld",name:"Domi",description:"Friendly female"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",description:"Warm female"},{id:"ErXwobaYiN019PkySvjV",name:"Antoni",description:"Mature male"},{id:"MF3mGyEYCl7XYWbV9V6O",name:"Elli",description:"Young female"},{id:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",description:"Casual male"},{id:"VR6AewLTigWG4xSOukaG",name:"Arnold",description:"Authoritative male"},{id:"pqHfZKP75CvOlQylNhV4",name:"Bill",description:"Documentary narrator"},{id:"Yko7PKHZNXotIFUBG7I9",name:"Callum",description:"British male"},{id:"JBFqnCBsd6RMkjVDRZzb",name:"George",description:"British narrator"}];function F(){const x=V(),[n,y]=l.useState("avatar"),p=sessionStorage.getItem("patient_id")?.replace("pt-","")||"444-444",a=q(p),[r,b]=l.useState(!1),[P,B]=l.useState(!1),[h,j]=l.useState(!1),[g,f]=l.useState(new Array(9).fill(0)),[u,w]=l.useState(new Array(7).fill(0)),[N,S]=l.useState(""),[v,A]=l.useState(""),[k,M]=l.useState("21m00Tcm4TlvDq8ikWAM"),D=["Little interest or pleasure in doing things","Feeling down, depressed, or hopeless","Trouble falling/staying asleep or sleeping too much","Feeling tired or having little energy","Poor appetite or overeating","Feeling bad about yourself or that you are a failure","Trouble concentrating on things","Moving or speaking slowly/being fidgety or restless","Thoughts that you would be better off dead or hurting yourself"],C=["Feeling nervous, anxious, or on edge","Not being able to stop or control worrying","Worrying too much about different things","Trouble relaxing","Being so restless that it's hard to sit still","Becoming easily annoyed or irritable","Feeling afraid as if something awful might happen"];l.useEffect(()=>(`${a?.name||"valued patient"}`,localStorage.getItem("azure_voice_id"),()=>{}),[]);const R=s=>{M(s)},o=async s=>{b(!0);let t="";switch(s){case"medications":t=`Hello ${a?.name}. I'm your medical record AVATAR. Let me explain your current medications. ${a?.medications.map(i=>`You take ${i.name}, ${i.dosage}, ${i.frequency} for ${i.indication}.`).join(" ")} It's important to take all medications as prescribed. Do you have any questions about your medications?`;break;case"diagnosis":t=`Your current diagnoses include: ${a?.diagnosis.join(", ")}. ${a?.diagnosis[0]?.includes("Diabetes")?"Diabetes requires regular monitoring of blood sugar, a healthy diet, and medication adherence.":a?.diagnosis[0]?.includes("Depression")?"Depression is treatable with therapy and medication. Regular follow-ups are important.":"Your conditions are being actively managed by your healthcare team."}`;break;case"labs":t=`Your recent lab results show: ${a?.labResults.slice(0,3).map(i=>`${i.test} is ${i.value}, which is ${i.value.includes(i.normal)?"normal":"slightly outside the normal range of "+i.normal}.`).join(" ")} Your doctor will discuss these results at your next visit.`;break;case"vitals":t=`Your last vital signs were: Blood pressure ${a?.vitalSigns.bp}, heart rate ${a?.vitalSigns.hr}, weight ${a?.vitalSigns.weight}. ${a?.vitalSigns.glucose?`Blood glucose was ${a.vitalSigns.glucose}.`:""} These measurements help track your health over time.`;break;default:t=`Hello ${a?.name}. I'm your medical record AVATAR. I can explain your medications, diagnoses, lab results, and answer questions about your health. What would you like to know?`}S(t),localStorage.getItem("azure_voice_id"),setTimeout(()=>b(!1),5e3)},T=async()=>{j(!0);const s=`Hello ${a?.name}, this is Dr. Smith's virtual assistant. How can I help you today? You can ask about appointments, prescription refills, or leave a message for your doctor.`;A(s),localStorage.getItem("azure_voice_id"),setTimeout(()=>j(!1),5e3)},d=()=>g.reduce((s,t)=>s+t,0),m=()=>u.reduce((s,t)=>s+t,0),$=[{id:"1",date:"2025-02-15",time:"10:00 AM",doctor:"Dr. Smith",type:"Follow-up",status:"Confirmed"},{id:"2",date:"2025-03-20",time:"2:00 PM",doctor:"Dr. Johnson",type:"Lab Review",status:"Scheduled"},{id:"3",date:"2025-04-10",time:"9:00 AM",doctor:"Dr. Smith",type:"Annual Physical",status:"Scheduled"}];return a?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"flex justify-between items-center h-14",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>x("/"),className:"text-gray-600 hover:text-gray-900",children:"â† Back"}),e.jsx("h1",{className:"text-lg font-semibold",children:"Patient Portal"})]}),e.jsx("button",{onClick:()=>x("/"),className:"text-sm text-gray-600 hover:text-gray-900",children:"Sign Out"})]})})}),e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white",children:e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:a.name}),e.jsxs("p",{className:"text-green-100 text-sm",children:["MRN: ",a.mrn," â€¢ DOB: ",a.dob," â€¢ ID: ",p]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-green-100",children:"Diagnoses"}),e.jsx("p",{className:"text-sm font-semibold",children:a.diagnosis[0]})]})]})})}),e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"px-4",children:e.jsx("div",{className:"flex space-x-6 overflow-x-auto",children:["avatar","records","appointments","prescriptions","questionnaires","talk-doctor","messages"].map(s=>e.jsx("button",{onClick:()=>y(s),className:`py-3 px-2 border-b-2 font-medium text-xs capitalize whitespace-nowrap transition ${n===s?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s==="avatar"?"ðŸ¤– AVATAR Assistant":s==="records"?"ðŸ“‹ Medical Records":s==="appointments"?"ðŸ“… Appointments":s==="prescriptions"?"ðŸ’Š Prescriptions":s==="questionnaires"?"ðŸ“ Mental Health":s==="talk-doctor"?"ðŸ‘¨â€âš•ï¸ Talk to Doctor":"âœ‰ï¸ Messages"},s))})})}),e.jsxs("div",{className:"px-4 py-6",children:[n==="avatar"&&e.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ðŸ¤– Your Medical Record AVATAR"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"I'm your personal medical assistant. I can explain your medications, diagnoses, and lab results in simple terms."}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Choose Avatar Voice:"}),e.jsx("select",{value:k,onChange:s=>R(s.target.value),className:"ml-3 px-3 py-2 text-sm border border-gray-300 rounded-lg",children:I.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.description]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>o("medications"),disabled:r,className:"p-4 bg-blue-100 rounded-lg hover:bg-blue-200 disabled:opacity-50",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ’Š"}),e.jsx("div",{className:"text-sm font-medium",children:"My Medications"})]}),e.jsxs("button",{onClick:()=>o("diagnosis"),disabled:r,className:"p-4 bg-green-100 rounded-lg hover:bg-green-200 disabled:opacity-50",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ¥"}),e.jsx("div",{className:"text-sm font-medium",children:"My Conditions"})]}),e.jsxs("button",{onClick:()=>o("labs"),disabled:r,className:"p-4 bg-purple-100 rounded-lg hover:bg-purple-200 disabled:opacity-50",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ”¬"}),e.jsx("div",{className:"text-sm font-medium",children:"Lab Results"})]}),e.jsxs("button",{onClick:()=>o("vitals"),disabled:r,className:"p-4 bg-orange-100 rounded-lg hover:bg-orange-200 disabled:opacity-50",children:[e.jsx("div",{className:"text-2xl mb-2",children:"â¤ï¸"}),e.jsx("div",{className:"text-sm font-medium",children:"Vital Signs"})]})]}),N&&e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ¤–"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-blue-900",children:N}),r&&e.jsx("p",{className:"text-xs text-blue-600 mt-2 animate-pulse",children:"Speaking..."})]}),r&&e.jsx("button",{className:"px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:"Stop"})]})}),e.jsx("div",{className:"mt-6"})]})}),n==="records"&&e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Medical Records"}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Current Diagnoses"}),e.jsx("ul",{className:"space-y-2",children:a.diagnosis.map((s,t)=>e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:"âœ“"}),e.jsx("span",{className:"text-sm",children:s})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Recent Lab Results"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Test"}),e.jsx("th",{className:"text-left py-2",children:"Result"}),e.jsx("th",{className:"text-left py-2",children:"Normal"}),e.jsx("th",{className:"text-left py-2",children:"Date"})]})}),e.jsx("tbody",{children:a.labResults.map((s,t)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2",children:s.test}),e.jsx("td",{className:"py-2 font-medium",children:s.value}),e.jsx("td",{className:"py-2 text-gray-500",children:s.normal}),e.jsx("td",{className:"py-2 text-gray-500",children:s.date})]},t))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Current Vital Signs"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Blood Pressure"}),e.jsx("p",{className:"font-semibold",children:a.vitalSigns.bp})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Heart Rate"}),e.jsxs("p",{className:"font-semibold",children:[a.vitalSigns.hr," bpm"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),e.jsx("p",{className:"font-semibold",children:a.vitalSigns.weight})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"BMI"}),e.jsx("p",{className:"font-semibold",children:a.vitalSigns.bmi})]}),a.vitalSigns.glucose&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Glucose"}),e.jsx("p",{className:"font-semibold",children:a.vitalSigns.glucose})]})]})]})]}),n==="appointments"&&e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Upcoming Appointments"}),e.jsx("button",{className:"px-4 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Schedule New"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsx("div",{className:"divide-y",children:$.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[s.type," with ",s.doctor]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.date," at ",s.time]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:s.status}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm",children:"Reschedule"})]})]})},s.id))})})]}),n==="prescriptions"&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Prescriptions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.medications.map((s,t)=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:s.name}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Dosage:"}),e.jsx("span",{className:"font-medium",children:s.dosage})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Frequency:"}),e.jsx("span",{className:"font-medium",children:s.frequency})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"For:"}),e.jsx("span",{className:"font-medium",children:s.indication})]})]}),e.jsx("button",{className:"mt-3 w-full px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Request Refill"})]},t))})]}),n==="questionnaires"&&e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"PHQ-9 Depression Screening"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Over the last 2 weeks, how often have you been bothered by:"}),D.map((s,t)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm mb-2",children:[t+1,". ",s]}),e.jsx("div",{className:"flex space-x-4",children:[0,1,2,3].map(i=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`phq9-${t}`,value:i,checked:g[t]===i,onChange:()=>{const c=[...g];c[t]=i,f(c)},className:"mr-1"}),e.jsx("span",{className:"text-xs",children:i===0?"Not at all":i===1?"Several days":i===2?"More than half":"Nearly every day"})]},i))})]},t)),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded",children:[e.jsxs("p",{className:"font-medium",children:["PHQ-9 Score: ",d()]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d()<5?"Minimal depression":d()<10?"Mild depression":d()<15?"Moderate depression":d()<20?"Moderately severe depression":"Severe depression"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"GAD-7 Anxiety Screening"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Over the last 2 weeks, how often have you been bothered by:"}),C.map((s,t)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm mb-2",children:[t+1,". ",s]}),e.jsx("div",{className:"flex space-x-4",children:[0,1,2,3].map(i=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`gad7-${t}`,value:i,checked:u[t]===i,onChange:()=>{const c=[...u];c[t]=i,w(c)},className:"mr-1"}),e.jsx("span",{className:"text-xs",children:i===0?"Not at all":i===1?"Several days":i===2?"More than half":"Nearly every day"})]},i))})]},t)),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded",children:[e.jsxs("p",{className:"font-medium",children:["GAD-7 Score: ",m()]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m()<5?"Minimal anxiety":m()<10?"Mild anxiety":m()<15?"Moderate anxiety":"Severe anxiety"})]})]})]}),n==="talk-doctor"&&e.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ðŸ‘¨â€âš•ï¸ Talk to Your Doctor"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with your doctor's virtual assistant for questions, appointments, or prescription refills."}),e.jsx("div",{className:"text-center py-8",children:e.jsx("button",{onClick:T,disabled:h,className:"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:h?"ðŸ“ž Call in Progress...":"ðŸ“ž Call Doctor's Office"})}),v&&e.jsx("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ‘¨â€âš•ï¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-900",children:v}),h&&e.jsx("p",{className:"text-xs text-green-600 mt-2 animate-pulse",children:"Connected..."})]})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"p-4 bg-gray-100 rounded-lg hover:bg-gray-200",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“…"}),e.jsx("div",{className:"text-sm font-medium",children:"Schedule Appointment"})]}),e.jsxs("button",{className:"p-4 bg-gray-100 rounded-lg hover:bg-gray-200",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ’Š"}),e.jsx("div",{className:"text-sm font-medium",children:"Request Refill"})]}),e.jsxs("button",{className:"p-4 bg-gray-100 rounded-lg hover:bg-gray-200",children:[e.jsx("div",{className:"text-2xl mb-2",children:"â“"}),e.jsx("div",{className:"text-sm font-medium",children:"Ask Question"})]})]})]})}),n==="messages"&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Secure Messages"}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("p",{className:"text-gray-500",children:"No new messages"}),e.jsx("button",{className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Send Message to Doctor"})]})})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Patient not found"}),e.jsx("button",{onClick:()=>x("/"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Return to Home"})]})})}export{F as default};
//# sourceMappingURL=PatientPortal-BPS1i0Ex.js.map
