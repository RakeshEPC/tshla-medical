# ============================================
# TSHLA MEDICAL - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your actual values

# ============================================
# API URLs
# ============================================
VITE_API_URL=http://localhost:3005
VITE_PUMP_API_URL=http://localhost:3005

# ============================================
# SUPABASE CONFIGURATION (Primary Database & Auth)
# ============================================
# Get these from: https://supabase.com/dashboard → Settings → API
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key_here
# Service role key (NEVER expose in frontend, backend only!)
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ============================================
# AZURE OPENAI CONFIGURATION (AI Features - HIPAA Compliant)
# ============================================
# Get from: Azure Portal → Your OpenAI Resource → Keys and Endpoint
# Resource: tshla-openai-prod (East US)
AZURE_OPENAI_ENDPOINT=https://tshla-openai-prod.openai.azure.com
AZURE_OPENAI_KEY=your_azure_openai_key_here
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_API_VERSION=2024-08-01-preview
# Realtime API Configuration (for phone calls)
AZURE_OPENAI_REALTIME_DEPLOYMENT=gpt-4o-realtime-preview
AZURE_OPENAI_REALTIME_VOICE=alloy
# Models for PumpDrive recommendation engine (using Azure deployments)
AZURE_OPENAI_MODEL_STAGE4=gpt-4o-mini
AZURE_OPENAI_MODEL_STAGE5=gpt-4o
AZURE_OPENAI_MODEL_STAGE6=gpt-4o

# ============================================
# DEEPGRAM CONFIGURATION (Speech-to-Text)
# ============================================
# Get from: https://console.deepgram.com
VITE_DEEPGRAM_API_KEY=your_deepgram_api_key_here
VITE_DEEPGRAM_MODEL=nova-2-medical
VITE_DEEPGRAM_LANGUAGE=en-US
VITE_DEEPGRAM_TIER=enhanced
VITE_PRIMARY_STT_PROVIDER=deepgram
VITE_USE_DEEPGRAM_SDK=true

# ============================================
# ELEVENLABS CONFIGURATION (AI Voice Agents)
# ============================================
# Get from: https://elevenlabs.io/app/conversational-ai
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
# Knowledge Base ID for diabetes education patient data
# Get from: Knowledge Bases → Create New → Copy ID
ELEVENLABS_KB_ID=kb_your_knowledge_base_id_here
# Agent IDs for different languages
ELEVENLABS_DIABETES_AGENT_EN=agent_your_english_agent_id
ELEVENLABS_DIABETES_AGENT_ES=agent_your_spanish_agent_id
ELEVENLABS_DIABETES_AGENT_HI=agent_your_hindi_agent_id

# ============================================
# SECURITY & SESSION MANAGEMENT
# ============================================
# Generate a secure random string for JWT tokens
JWT_SECRET=your_secure_random_string_here_minimum_32_characters
VITE_SESSION_TIMEOUT_MINUTES=120
VITE_SESSION_WARNING_MINUTES=5
VITE_ENABLE_HIPAA_MODE=true
VITE_ENABLE_AUDIT_LOGGING=true

# ============================================
# FEATURE FLAGS
# ============================================
VITE_ENABLE_SPEECH=true
VITE_ENABLE_AI_PROCESSING=true

# ============================================
# STRIPE PAYMENT PROCESSING (Optional)
# ============================================
# For PumpDrive report purchases
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_51example...
STRIPE_SECRET_KEY=sk_test_example...
STRIPE_WEBHOOK_SECRET=whsec_example...
VITE_ENABLE_PAYMENT_FLOW=false
VITE_REPORT_PRICE_CENTS=999

# ============================================
# EMAIL DELIVERY (Optional)
# ============================================
# For sending pump reports to providers via SendGrid
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=SG.your_sendgrid_api_key_here
FROM_EMAIL=noreply@tshla.ai
VITE_ENABLE_PROVIDER_DELIVERY=false

# ============================================
# PRODUCTION SETTINGS
# ============================================
# Base URL for report links
VITE_REPORT_BASE_URL=https://www.tshla.ai

# ============================================
# LEGACY/DEPRECATED VARIABLES (REMOVED)
# ============================================
# The following variables have been REMOVED from the codebase:
# ❌ MySQL/RDS: DB_HOST, DB_USER, DB_PASSWORD, DB_DATABASE, DB_SSL
# ❌ AWS Services: AWS_REGION, AWS_BUCKET_NAME (Bedrock/Transcribe)
# ❌ Database Type Flags: VITE_PRIMARY_DB_PROVIDER, DATABASE_TYPE, USE_MYSQL
# ❌ Azure DB: VITE_AZURE_* (Azure MySQL deprecated)
# ❌ Old JWT Secret: MEDICAL_JWT_SECRET
# ❌ Standard OpenAI: OPENAI_API_KEY, VITE_OPENAI_API_KEY (migrated to Azure)
# ❌ VITE_PRIMARY_AI_PROVIDER (now always Azure OpenAI)
#
# ✅ NOW USING: Supabase for database + auth (see above)
# ✅ NOW USING: Deepgram for speech-to-text
# ✅ NOW USING: Azure OpenAI for AI processing (HIPAA compliant)
