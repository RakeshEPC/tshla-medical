===============================================
ATHENA SCHEDULE IMPORT - COPY/PASTE COMMANDS
===============================================

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STEP 1: DATABASE MIGRATION              â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Open Supabase Dashboard: https://supabase.com/dashboard
â†’ Click: SQL Editor â†’ New Query
â†’ Copy this file to view SQL:

cat /Users/rakeshpatel/Desktop/tshla-medical/database/migrations/athena-schedule-enhancement.sql

â†’ Or open the file and copy ALL contents
â†’ Paste into Supabase SQL Editor
â†’ Click "RUN"


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STEP 2: ADD PROVIDERS                   â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Copy this SQL and paste into Supabase SQL Editor:

---START COPY---

INSERT INTO medical_staff (email, first_name, last_name, role, specialty, practice, is_active)
VALUES
  ('rakesh.patel@tshla.ai', 'Rakesh', 'Patel', 'doctor', 'Endocrinology', 'TSHLA Medical', true),
  ('veena.watwe@tshla.ai', 'Veena', 'Watwe', 'doctor', 'Pediatrics', 'TSHLA Medical', true),
  ('tess.chamakkala@tshla.ai', 'Tess', 'Chamakkala', 'doctor', 'Family Medicine', 'TSHLA Medical', true),
  ('radha.bernander@tshla.ai', 'Radha', 'Bernander', 'doctor', 'Internal Medicine', 'TSHLA Medical', true),
  ('shannon.gregroek@tshla.ai', 'Shannon', 'Gregroek', 'doctor', 'Pediatrics', 'TSHLA Medical', true),
  ('elinia.shakya@tshla.ai', 'Elinia', 'Shakya', 'doctor', 'Family Medicine', 'TSHLA Medical', true),
  ('nadia.younus@tshla.ai', 'Nadia', 'Younus', 'doctor', 'Internal Medicine', 'TSHLA Medical', true),
  ('ghislaine.tonye@tshla.ai', 'Ghislaine', 'Tonye', 'doctor', 'Family Medicine', 'TSHLA Medical', true),
  ('cindy.laverde@tshla.ai', 'Cindy', 'Laverde', 'doctor', 'Pediatrics', 'TSHLA Medical', true),
  ('vanessa.laverde@tshla.ai', 'Vanessa', 'Laverde', 'doctor', 'Pediatrics', 'TSHLA Medical', true),
  ('kamili.wade@tshla.ai', 'Kamili', 'Wade-Reescano', 'therapist', 'Mental Health', 'TSHLA Medical', true)
ON CONFLICT (email) DO NOTHING;

SELECT id, first_name, last_name, email, specialty FROM medical_staff ORDER BY last_name;

---END COPY---


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STEP 3: UPDATE PROVIDER MAPPING         â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Copy this command:

---START COPY---

cd /Users/rakeshpatel/Desktop/tshla-medical && node scripts/update-provider-mapping.cjs

---END COPY---

â†’ Paste into Terminal and press Enter


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STEP 4: VERIFY IN SUPABASE              â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Copy this SQL to verify everything:

---START COPY---

-- Check new columns exist
SELECT column_name FROM information_schema.columns
WHERE table_name = 'provider_schedules'
AND column_name IN ('patient_age', 'chief_diagnosis', 'athena_appointment_id');

-- Check providers
SELECT id, first_name, last_name, specialty FROM medical_staff WHERE is_active = true;

-- Check schedule_imports table
SELECT * FROM schedule_imports LIMIT 1;

---END COPY---


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STEP 5: TEST THE APP                    â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Start dev server:

---START COPY---

cd /Users/rakeshpatel/Desktop/tshla-medical && npm run dev

---END COPY---

â†’ Open browser: http://localhost:5173/admin/create-accounts
â†’ Click "ğŸ“… Upload Schedule" tab
â†’ You should see the file uploader!


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STEP 6: CREATE TEST CSV FILE            â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Create a file called "test-schedule.csv" with this content:

---START COPY---

Date,Time,Provider,Patient First Name,Patient Last Name,Age,Gender,Diagnosis,Visit Type,Duration
01/30/2025,9:00 AM,PATEL RAKESH,John,Doe,45,M,Type 2 Diabetes follow-up,Follow-up,30
01/30/2025,9:30 AM,PATEL RAKESH,Jane,Smith,52,F,Hypertension management,Follow-up,15
01/30/2025,10:00 AM,WATWE VEENA,Emma,Wilson,8,F,Well child visit,Wellness,30
01/30/2025,10:30 AM,WATWE VEENA,Oliver,Brown,5,M,Asthma follow-up,Follow-up,20

---END COPY---

â†’ Save as: test-schedule.csv
â†’ Upload via the admin page
â†’ Select date: 01/30/2025
â†’ Click "Parse Schedule File"
â†’ Click "Import to Database"


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STEP 7: VERIFY DATA IN DATABASE         â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â†’ Run this SQL in Supabase:

---START COPY---

SELECT
  provider_name,
  patient_name,
  patient_age,
  chief_diagnosis,
  start_time,
  scheduled_date
FROM provider_schedules
WHERE scheduled_date = '2025-01-30'
ORDER BY provider_name, start_time;

---END COPY---

â†’ You should see 4 appointments!


===============================================
TROUBLESHOOTING
===============================================

ERROR: "No providers found"
â†’ Run Step 2 again to add providers

ERROR: "Database migration failed"
â†’ Copy SQL in smaller sections and run separately

ERROR: "Upload tab not visible"
â†’ Clear cache: Ctrl+Shift+R
â†’ Restart dev server

ERROR: "Provider not recognized"
â†’ Check provider name format in CSV matches medical_staff
â†’ Run Step 3 again to update mapping

===============================================
DONE! âœ…
===============================================

Your Athena schedule import is ready!

Next: Upload your real Athena export file and it will work automatically!

Questions? Check these docs:
- ATHENA_QUICK_START.md (detailed guide)
- ATHENA_SCHEDULE_IMPLEMENTATION.md (technical details)
- SETUP_PROVIDERS.md (provider management)
